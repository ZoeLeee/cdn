"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[225],{24240:(e,t,a)=>{a.d(t,{Z:()=>p});var n=a(32735),l=a(61241),i=a(5385),r=a(3450),o=a(89044);const c=(0,r.ZP)(l.Z)((({theme:e})=>({border:"1px solid #E2E2E2",p:"0 0 0 4px",display:"inline-flex",alignItems:"center",width:400,height:36,boxShadow:"none",borderRadius:"5px"}))),d=(0,r.ZP)("div")((({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",padding:"0 3px",background:"#075FB8",height:"100%",width:36,color:"#fff",borderRadius:"0 5px 5px 0",cursor:"pointer"})));function p(e){const[t,a]=(0,n.useState)(""),l=()=>{const{search:a}=e;a&&a(t)};return n.createElement(c,null,n.createElement(i.ZP,{sx:{ml:1,flex:1},placeholder:"\u641c\u7d22",value:t,onChange:e=>{a(e.target.value)},onKeyUp:e=>{13===e.keyCode&&l()}}),n.createElement(d,{onClick:l},n.createElement(o.Z,null)))}},18163:(e,t,a)=>{a.d(t,{Z:()=>Z});var n=a(74857),l=a(21092),i=a(32735),r=a(75393),o=a(68867),c=a(57426),d=a(58181),p=a(37211),s=a(67970),m=a(44700),g=a(61241),u=a(3450),h=a(89294),x=a.n(h);const f=["children","onClose"],E=(0,u.ZP)(o.Z)((({theme:e})=>({"& .MuiDialogContent-root":{padding:e.spacing(2)},"& .MuiDialogActions-root":{padding:e.spacing(1)}}))),C=e=>{const{children:t,onClose:a}=e,r=(0,l.Z)(e,f);return i.createElement(c.Z,(0,n.Z)({sx:{m:0,p:2,cursor:"move"}},r),t,a?i.createElement(s.Z,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]}},i.createElement(m.Z,null)):null)},v=e=>i.createElement(x(),{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]'},i.createElement(g.Z,e)),Z=({title:e,visible:t,size:a,children:n,header:l,footer:o,fullWidth:c,sx:s,height:m,hideFooter:g,handleOk:u,handleClose:h})=>{const x=()=>{h&&h()};return i.createElement(E,{open:t,maxWidth:a,fullWidth:c,PaperComponent:v,"aria-labelledby":"draggable-dialog-title"},l||i.createElement(C,{id:"draggable-dialog-title",onClose:x},e),i.createElement(d.Z,{sx:{height:""+(m?m+"px":"auto")},dividers:!0},n),g?null:i.createElement(p.Z,null,o||i.createElement(i.Fragment,null,i.createElement(r.Z,{onClick:x},"\u53d6\u6d88"),i.createElement(r.Z,{onClick:()=>{u&&u()}},"\u786e\u5b9a"))))}},60092:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(36800),l=a.n(n),i=a(32735),r=a(65404);const o=({total:e,pagenation:t,onPageChange:a,onRowsPerPageChange:n})=>{const{pageNum:o,pageSize:c,pageSizeOptions:d}=t;return i.createElement(r.Z,{rowsPerPageOptions:d||[],component:"div",count:e,rowsPerPage:c,page:o>0?o-1:0,onPageChange:(e,t)=>{a&&a(t+1)},onRowsPerPageChange:e=>{n&&n(l()(e.target.value,10))},labelRowsPerPage:"\u6bcf\u9875\u6761\u6570\uff1a",labelDisplayedRows:({from:t,to:a})=>`${t}\u2013${a} \u5171 ${Math.ceil(e/c)}\u9875, ${e}\u6761`})}},50225:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ie});var n=a(20246),l=a.n(n),i=a(39831),r=a.n(i),o=a(61799),c=a.n(o),d=a(26117),p=a.n(d),s=a(5996),m=a.n(s),g=a(20658),u=a.n(g),h=a(3434),x=a.n(h),f=a(97828),E=a.n(f),C=a(93213),v=a(51463),Z=a.n(v),b=a(32735),y=a(3450),k=a(95279),P=a(73764),S=a(94063),w=a(26095),z=a(36717),I=a(29405),R=a.n(I),j=a(14549),F=a.n(j),N=a(13697),$=a(47513),M=a(67970),_=a(83228),O=a(27660),D=a(46600);const T=(0,y.ZP)("div")((({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"70%","& i":{fontSize:"10em",color:"rgb(255, 208, 129)"}}))),W=(0,y.ZP)("div")((({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",height:"15%",fontSize:"16px","& div":{cursor:"pointer"},"& i":{fontSize:"16px",marginRight:"5px"}}))),A=(0,y.ZP)("div")((({theme:e})=>({display:"flex",alignItems:"center",width:"300px",height:"15%",fontSize:"14px",zIndex:100}))),B={id:"id",name:"name",count:"count",createdTime:"createdTime",updatedTime:"updatedTime",img:"img",key:"key"};let H=0;const X=({dataItem:e,dataIndex:t,keyFormat:a,handleClick:n,doubleClick:l,menuClick:i})=>(()=>{let r=F()(B,a||{});return b.createElement(N.Z,{className:"projectCardItem"},b.createElement($.Z,{sx:{width:"100%",height:"300px",userSelect:"none"},onClick:()=>{return a=e,i=t,H+=1,void R()((()=>{1===H?n&&n(a,i):2===H&&l&&l(a,i),H=0}),300);var a,i}},b.createElement(T,null,e[r.img]&&(0,_.ap)(O.l.prefix+e[r.key]+"/"+e[r.img])?b.createElement("img",{src:`${O.l.prefix}${e[r.key]}/${e[r.img]}?t=${(new Date).getTime()}`,style:{height:"100%"}}):b.createElement("img",{src:"/static/images/bg.png"})),b.createElement(A,null,b.createElement("p",null,e.product_name)),b.createElement(W,null,b.createElement("div",null,"\u79ef\u5206\uff1a",e.score),b.createElement("div",null,b.createElement(M.Z,{sx:{marginRight:"5px"},onClick:t=>i&&i("uncollect",e)},b.createElement(D.Z,{sx:{color:"rgb(216, 30, 6)",fontSize:"1.5rem"},type:"favorite"})),b.createElement(M.Z,{onClick:t=>i&&i("buy",e)},b.createElement(D.Z,{sx:{color:"#FF6600",fontSize:"1.5rem"},type:"shopping_cart"}))))))})();var G=a(60092);const K=(0,y.ZP)("div")((({theme:e})=>({padding:"20px",display:"grid",flexWrap:"wrap",gridTemplateColumns:"repeat(auto-fill, calc((100% - 25px * 4) / 5))",gridGap:"25px 25px","& .projectCardItem":{width:"100%",maxHeight:300,boxShadow:"0px 0px 8px 0px rgba(0, 0, 0, 0.08)",borderRadius:"5px"},"& .activePane":{boxShadow:"0px 0px 8px 0px rgba(7, 95, 184, 0.46)"},"& .activeIcon":{color:"#1890ff"},"& .projectCardItem:hover":{boxShadow:"0px 0px 8px 0px rgba(7, 95, 184, 0.46)","& .hover-icon":{color:"#1890ff"}},"& .MuiCardContent-root:last-child":{paddingBottom:"16px"}}))),L=(0,y.ZP)("div")((({theme:e})=>({textAlign:"center",fontSize:"14px",padding:"20px 0","& img":{width:300,height:300},"& p":{margin:0}}))),U=({dataSource:e,ipagenation:t,sx:a,total:n,keyFormat:l,doubleClick:i,handleClick:r,handleChangePage:o,handleChangeRowsPerPage:c,menuClick:d})=>b.createElement(b.Fragment,null,b.createElement(K,{sx:a},Z()(e).call(e,((e,t)=>b.createElement(X,{key:t,dataIndex:t,dataItem:e,keyFormat:l,handleClick:r,doubleClick:i,menuClick:d})))),t&&n>0?b.createElement(G.Z,{pagenation:t,total:n,onPageChange:o,onRowsPerPageChange:c}):null,e&&0!==e.length?null:b.createElement(L,null,b.createElement("img",{src:"/static/images/nodata.svg"}),b.createElement("p",null,"\u6682\u65e0\u6570\u636e")));var q=a(18163),J=a(24240),Q=a(99394),V=a(73554),Y=a(81215),ee=a(4992);function te(e,t){var a=l()(e);if(r()){var n=r()(e);t&&(n=c()(n).call(n,(function(t){return p()(e,t).enumerable}))),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a,n,l=null!=arguments[t]?arguments[t]:{};t%2?m()(a=te(Object(l),!0)).call(a,(function(t){(0,C.Z)(e,t,l[t])})):u()?x()(e,u()(l)):m()(n=te(Object(l))).call(n,(function(t){E()(e,t,p()(l,t))}))}return e}const ne=(0,y.ZP)(P.Z)((({theme:e})=>({"& input":{height:"1em",width:"300px"}}))),le=(0,y.ZP)(S.Z)((({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px"})));function ie(e){const[t,a]=(0,b.useState)(!1),[n,l]=(0,b.useState)({appName:""}),[i,r]=(0,b.useState)([]),[o,c]=(0,b.useState)({pageNum:1,pageSize:10}),[d,p]=(0,b.useState)(0),[s,m]=(0,b.useState)([{label:"\u9879\u76ee",value:"M0001"},{label:"\u573a\u666f",value:"M0002"},{label:"\u7ec4\u4ef6",value:"M0003,M0004"}]),[g,u]=(0,b.useState)("M0001"),[h,x]=(0,b.useState)(""),[f,E]=(0,b.useState)(""),C=(0,b.useRef)(null),v="editor/appcollection/list",y="editor/appcollection/edit",P="editor/appcollection/delete/",S="trade/buy",I=e=>{let t=ae({page:o.pageNum,limit:o.pageSize,category:g,name:h},e);(0,Q.s7)(v,t).then((e=>{if(0===e.code){let{list:t,total_count:a}=e.data;t&&t.length>0?(r(t),p(a)):(r([]),p(0))}})).catch((e=>{}))},R=e=>{let t=y;(0,Q.XD)(t,e,"post").then((e=>{0===e.code&&(I(),V.y.success("\u64cd\u4f5c\u6210\u529f"))}))},j=e=>{(0,Q.mn)(P+e,{code:e}).then((e=>{0===e.code&&(I(),V.y.success("\u64cd\u4f5c\u6210\u529f"))}))},F=e=>{(0,Q.XD)(S,{productCode:e},"post").then((e=>{0===e.code&&(I(),V.y.success("\u64cd\u4f5c\u6210\u529f"))}))},N=e=>{C.current.open(e.product_code),E(`/shop.html?code=${e.product_code}&frame=1`)};return(0,b.useEffect)((()=>{I()}),[]),b.createElement(b.Fragment,null,b.createElement(le,null,b.createElement(w.Z,{value:g,onChange:(e,t)=>{u(t),I({category:t})}},s&&Z()(s).call(s,((e,t)=>b.createElement(z.Z,{key:t,label:e.label,value:e.value})))),b.createElement(J.Z,{search:e=>{x(e),I({name:e})}})),b.createElement(U,{dataSource:i,menuClick:(e,t)=>{"buy"===e?(0,Y.i)({title:"\u63d0\u793a",content:`\u672c\u6b21\u6d88\u8d39${t.score}\u79ef\u5206\uff0c\u662f\u5426\u8d2d\u4e70${t.product_name}\uff1f`,onOk:()=>F(t.product_code)}):"uncollect"===e&&j(t.product_code)},ipagenation:o,handleChangePage:e=>{c({pageNum:e,pageSize:o.pageSize}),I({page:e})},handleChangeRowsPerPage:e=>{c({pageNum:1,pageSize:e}),I({limit:e})},keyFormat:{img:"pic",key:"real_code"},doubleClick:(e,t)=>{N(e)},total:d}),b.createElement(q.Z,{size:"sm",title:"\u65b0\u589e",visible:t,handleOk:()=>{let t={appName:n.appName,projectId:e.projectId};R(t),a(!1)},handleClose:()=>{a(!1)},fullWidth:!0},b.createElement(k.ZP,{container:!0,spacing:2},b.createElement(k.ZP,{item:!0,xs:12,sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",height:"80px"}},b.createElement("span",{style:{fontSize:"14px"}},"\u5e94\u7528\u540d\u79f0\uff1a"),b.createElement(ne,{size:"small",value:n.appName,onChange:e=>{((e,t)=>{let a=ae({},n);a[t]=e.target.value,l(a)})(e,"appName")}})))),b.createElement(ee.Z,{previewRef:C,url:f}))}},4992:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(32735),l=a(3346),i=a(3450),r=a(18163),o=a(1453);const c=(0,i.ZP)("iframe")((({theme:e})=>({width:"100%",height:"calc(100% - 32px)",border:"none",margin:"0",padding:"0"}))),d=({url:e,previewRef:t})=>{const[a,i]=(0,n.useState)(!1),d=(0,l.s0)();(0,n.useImperativeHandle)(t,(()=>({open:s})));const p=()=>{i(!1)},s=e=>{i(!0),m(e)},m=e=>{o.h.addEventListener("message",(t=>{const{type:a}=t.data;"close_preview"===a?i(!1):"apply-shop"===a&&(d("/editor?code="+e),p())}))};return n.createElement(r.Z,{size:"xl",title:"\u9884\u89c8",visible:a,handleOk:()=>{i(!1)},handleClose:p,fullWidth:!0,height:800,hideFooter:!0},n.createElement(c,{src:e}))}}}]);