"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4584],{24240:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(32735),l=n(61241),i=n(5385),r=n(3450),o=n(89044);const c=(0,r.ZP)(l.Z)((({theme:e})=>({border:"1px solid #E2E2E2",p:"0 0 0 4px",display:"inline-flex",alignItems:"center",width:400,height:36,boxShadow:"none",borderRadius:"5px"}))),s=(0,r.ZP)("div")((({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",padding:"0 3px",background:"#075FB8",height:"100%",width:36,color:"#fff",borderRadius:"0 5px 5px 0",cursor:"pointer"})));function d(e){const[t,n]=(0,a.useState)(""),l=()=>{const{search:n}=e;n&&n(t)};return a.createElement(c,null,a.createElement(i.ZP,{sx:{ml:1,flex:1},placeholder:"\u641c\u7d22",value:t,onChange:e=>{n(e.target.value)},onKeyUp:e=>{13===e.keyCode&&l()}}),a.createElement(s,{onClick:l},a.createElement(o.Z,null)))}},18163:(e,t,n)=>{n.d(t,{Z:()=>v});var a=n(74857),l=n(21092),i=n(32735),r=n(75393),o=n(68867),c=n(57426),s=n(58181),d=n(37211),p=n(67970),m=n(44700),g=n(61241),u=n(3450),h=n(89294),x=n.n(h);const f=["children","onClose"],E=(0,u.ZP)(o.Z)((({theme:e})=>({"& .MuiDialogContent-root":{padding:e.spacing(2)},"& .MuiDialogActions-root":{padding:e.spacing(1)}}))),C=e=>{const{children:t,onClose:n}=e,r=(0,l.Z)(e,f);return i.createElement(c.Z,(0,a.Z)({sx:{m:0,p:2,cursor:"move"}},r),t,n?i.createElement(p.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]}},i.createElement(m.Z,null)):null)},y=e=>i.createElement(x(),{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]'},i.createElement(g.Z,e)),v=({title:e,visible:t,size:n,children:a,header:l,footer:o,fullWidth:c,sx:p,height:m,hideFooter:g,handleOk:u,handleClose:h})=>{const x=()=>{h&&h()};return i.createElement(E,{open:t,maxWidth:n,fullWidth:c,PaperComponent:y,"aria-labelledby":"draggable-dialog-title"},l||i.createElement(C,{id:"draggable-dialog-title",onClose:x},e),i.createElement(s.Z,{sx:{height:""+(m?m+"px":"auto")},dividers:!0},a),g?null:i.createElement(d.Z,null,o||i.createElement(i.Fragment,null,i.createElement(r.Z,{onClick:x},"\u53d6\u6d88"),i.createElement(r.Z,{onClick:()=>{u&&u()}},"\u786e\u5b9a"))))}},60092:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(36800),l=n.n(a),i=n(32735),r=n(65404);const o=({total:e,pagenation:t,onPageChange:n,onRowsPerPageChange:a})=>{const{pageNum:o,pageSize:c,pageSizeOptions:s}=t;return i.createElement(r.Z,{rowsPerPageOptions:s||[],component:"div",count:e,rowsPerPage:c,page:o>0?o-1:0,onPageChange:(e,t)=>{n&&n(t+1)},onRowsPerPageChange:e=>{a&&a(l()(e.target.value,10))},labelRowsPerPage:"\u6bcf\u9875\u6761\u6570\uff1a",labelDisplayedRows:({from:t,to:n})=>`${t}\u2013${n} \u5171 ${Math.ceil(e/c)}\u9875, ${e}\u6761`})}},8702:(e,t,n)=>{n.r(t),n.d(t,{default:()=>pe});var a=n(20246),l=n.n(a),i=n(39831),r=n.n(i),o=n(61799),c=n.n(o),s=n(26117),d=n.n(s),p=n(5996),m=n.n(p),g=n(20658),u=n.n(g),h=n(3434),x=n.n(h),f=n(97828),E=n.n(f),C=n(93213),y=n(51463),v=n.n(y),b=n(32735),Z=n(3346),k=n(3450),S=n(26095),w=n(36717),P=n(94063),z=n(29405),I=n.n(z),R=n(14549),M=n.n(R),O=n(13697),j=n(47513),F=n(45709),_=n(67970),$=n(83228),N=n(27660),W=n(46600);const D=(0,k.ZP)(O.Z)((({theme:e})=>({position:"relative","&:hover .footer":{display:"flex",position:"absolute",zIndex:100,bottom:0,justifyContent:"space-between",alignItems:"center",width:"100%",height:"20%",fontSize:"12px",left:0,padding:"0 16px",background:"rgba(0,0,0,.3)","& p":{fontSize:"12px",fontFamily:"Source Han Sans CN",fontWeight:500,color:"#fff",margin:"5px 0 0 0"}}}))),T=(0,k.ZP)("div")((({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"85%","& i":{fontSize:"10em",color:"rgb(255, 208, 129)"}}))),L=(0,k.ZP)("div")((({theme:e})=>({display:"none"}))),H=(0,k.ZP)("div")((({theme:e})=>({display:"flex",justifyContent:"flex-end",alignItems:"center",width:"calc((100% - 32px) / 2)",height:"9%",position:"absolute",zIndex:100,right:"16px","& .action-menu-item":{display:"flex",justifyContent:"center",alignItems:"center",width:30,height:30,margin:"0 5px",borderRadius:"50%"}}))),A=(0,k.ZP)("div")((({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"calc(100% / 3)"}))),B=(0,k.ZP)(_.Z)((({theme:e})=>({width:40,height:40}))),G={id:"id",name:"name",count:"count",createdTime:"createdTime",updatedTime:"updatedTime",img:"img",key:"key"};let K=0;const U=({dataItem:e,dataIndex:t,keyFormat:n,menuList:a,moreList:l,handleClick:i,doubleClick:r,menuClick:o})=>{const c=(e,t)=>{let{key:n,title:a}=e;if("created"===n){let e="";return"M0001"===t?e="\u521b\u5efa\u526f\u672c":"M0002"===t?e="\u5e94\u7528\u5230\u573a\u666f":"M0003"!==t&&"M0004"!==t||(e="\u5e94\u7528\u5230\u9879\u76ee"),e}return a};return(()=>{let l=M()(G,n||{});return b.createElement(D,{className:"projectCardItem"},b.createElement(j.Z,{sx:{width:"100%",height:"300px",userSelect:"none"},onClick:()=>{return n=e,a=t,K+=1,void I()((()=>{1===K?i&&i(n,a):2===K&&r&&r(n,a),K=0}),300);var n,a}},b.createElement(H,null,a&&v()(a).call(a,((t,n)=>b.createElement(A,{key:n},b.createElement(B,{title:c(t,e.real_type),color:"primary",onClick:n=>o&&o(t.key,e)},b.createElement(W.Z,{type:t.icon})))))),b.createElement(F.Z,{align:"left",variant:"body2",color:"text.secondary",sx:{color:"#222",fontSize:"15px",fontWeight:"bold",width:"50%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:e[l.name]},b.createElement("span",{style:{marginRight:"10px"}},"\u540d\u79f0\uff1a"),e.product_name),b.createElement(F.Z,{align:"left",variant:"body2",color:"text.secondary",sx:{color:"#424B54",fontSize:"13px",marginTop:"5px"}},b.createElement("span",{style:{marginRight:"10px"}},"\u79ef\u5206\uff1a"),e.score||0),b.createElement(T,null,e[l.img]&&(0,$.ap)(N.l.prefix+e[l.key]+"/"+e[l.img])?b.createElement("img",{src:`${N.l.prefix}${e[l.key]}/${e[l.img]}?t=${(new Date).getTime()}`,style:{height:"100%"}}):b.createElement("img",{src:"/static/images/bg.png"})),b.createElement(L,{className:"footer"},b.createElement("div",null,b.createElement("p",null,"\u8d2d\u4e70\u65f6\u95f4"),b.createElement("p",null,e.create_at)))))})()};var q=n(60092);const J=(0,k.ZP)("div")((({theme:e})=>({padding:"20px",display:"grid",flexWrap:"wrap",gridTemplateColumns:"repeat(auto-fill, calc((100% - 25px * 4) / 5))",gridGap:"25px 25px","& .projectCardItem":{width:"100%",maxHeight:300,boxShadow:"0px 0px 8px 0px rgba(0, 0, 0, 0.08)",borderRadius:"5px"},"& .activePane":{boxShadow:"0px 0px 8px 0px rgba(7, 95, 184, 0.46)"},"& .activeIcon":{color:"#1890ff"},"& .projectCardItem:hover":{boxShadow:"0px 0px 8px 0px rgba(7, 95, 184, 0.46)","& .hover-icon":{color:"#1890ff"}},"& .MuiCardContent-root:last-child":{paddingBottom:"16px"}}))),Q=(0,k.ZP)("div")((({theme:e})=>({textAlign:"center",fontSize:"14px",padding:"20px 0","& img":{width:300,height:300},"& p":{margin:0}}))),V=({dataSource:e,ipagenation:t,sx:n,total:a,keyFormat:l,doubleClick:i,handleClick:r,menuList:o,handleChangePage:c,handleChangeRowsPerPage:s,menuClick:d})=>b.createElement(b.Fragment,null,b.createElement(J,{sx:n},v()(e).call(e,((e,t)=>b.createElement(U,{key:t,dataIndex:t,dataItem:e,keyFormat:l,handleClick:r,doubleClick:i,menuList:o,menuClick:d})))),t&&a>0?b.createElement(q.Z,{pagenation:t,total:a,onPageChange:c,onRowsPerPageChange:s}):null,e&&0!==e.length?null:b.createElement(Q,null,b.createElement("img",{src:"/static/images/nodata.svg"}),b.createElement("p",null,"\u6682\u65e0\u6570\u636e")));var X=n(24240),Y=n(99394),ee=n(4992),te=n(95279),ne=n(73764),ae=n(18163),le=n(73554);const ie=(0,k.ZP)("div")((({theme:e})=>({display:"inline-block",width:"80px",fontSize:"14px",textAlign:"right"}))),re=(0,k.ZP)(ne.Z)((({theme:e})=>({"& input":{height:"1em",width:"300px"}}))),oe=({materialRef:e,onOk:t,onClose:n})=>{const[a,l]=(0,b.useState)(!1),[i,r]=(0,b.useState)(""),[o,c]=(0,b.useState)({});(0,b.useImperativeHandle)(e,(()=>({open:s})));const s=e=>{l(!0),c({id:e.real_code}),r(e.product_name)};return(0,b.useEffect)((()=>{}),[]),b.createElement(ae.Z,{size:"sm",title:"\u521b\u5efa\u526f\u672c",visible:a,handleOk:()=>{let e={id:o.id,name:i};(0,Y.SI)("editor/opus/pull",e).then((e=>{0===e.code&&(le.y.success("\u64cd\u4f5c\u6210\u529f"),l(!1),t&&t())}))},handleClose:()=>{l(!1),n&&n()},fullWidth:!0,height:"auto"},b.createElement(te.ZP,{container:!0,spacing:2},b.createElement(te.ZP,{item:!0,xs:12,sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",height:"80px"}},b.createElement(ie,null,"\u540d\u79f0\uff1a"),b.createElement(re,{size:"small",value:i,onChange:e=>{r(e.target.value)}}))))};function ce(e,t){var n=l()(e);if(r()){var a=r()(e);t&&(a=c()(a).call(a,(function(t){return d()(e,t).enumerable}))),n.push.apply(n,a)}return n}const se=(0,k.ZP)(P.Z)((({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px"}))),de=[{key:"preview",title:"\u9884\u89c8",icon:"icon-3Dsousuo"},{key:"created",title:"\u521b\u5efa",icon:"icon-3Dfuzhi"}];function pe(){const[e,t]=(0,b.useState)([]),[n,a]=(0,b.useState)([{label:"\u9879\u76ee",value:"M0001"},{label:"\u573a\u666f",value:"M0002"},{label:"\u7ec4\u4ef6",value:"M0003,M0004"}]),[l,i]=(0,b.useState)("M0001"),[r,o]=(0,b.useState)({pageNum:1,pageSize:10,pageSizeOptions:[]}),[c,s]=(0,b.useState)(0),[p,g]=(0,b.useState)(""),[h,f]=(0,b.useState)(""),y=(0,b.useRef)(null),k=(0,b.useRef)(null),P=(0,Z.s0)(),z="trade/boughten/list",I=e=>{let n=function(e){for(var t=1;t<arguments.length;t++){var n,a,l=null!=arguments[t]?arguments[t]:{};t%2?m()(n=ce(Object(l),!0)).call(n,(function(t){(0,C.Z)(e,t,l[t])})):u()?x()(e,u()(l)):m()(a=ce(Object(l))).call(a,(function(t){E()(e,t,d()(l,t))}))}return e}({Current:r.pageNum,Size:r.pageSize,category:l,name:p},e);(0,Y.s7)(z,n).then((e=>{if(0===e.code){let{list:n,total:a}=e.data;n&&n.length>0?(t(n),s(a)):(t([]),s(0))}})).catch((e=>{}))},R=e=>{y.current.open(e.product_code),f(`/shop.html?code=${e.product_code}&frame=1`)};return(0,b.useEffect)((()=>{I()}),[]),b.createElement(b.Fragment,null,b.createElement(se,null,b.createElement(S.Z,{value:l,onChange:(e,t)=>{i(t),I({category:t})}},n&&v()(n).call(n,((e,t)=>b.createElement(w.Z,{key:t,label:e.label,value:e.value})))),b.createElement(X.Z,{search:e=>{g(e),I({name:e})}})),b.createElement(V,{dataSource:e,ipagenation:r,keyFormat:{img:"pic",key:"real_code"},total:c,menuList:de,menuClick:(e,t)=>{"created"===e?"M0001"===t.real_type?k.current.open(t):P("/editor?code="+t.product_code):"preview"===e&&R(t)},doubleClick:(e,t)=>{R(e)},handleChangePage:e=>{o({pageNum:e,pageSize:r.pageSize,pageSizeOptions:r.pageSizeOptions}),I({Current:e})},handleChangeRowsPerPage:e=>{o({pageNum:1,pageSize:e,pageSizeOptions:r.pageSizeOptions}),I({Size:e})}}),b.createElement(ee.Z,{previewRef:y,url:h}),b.createElement(oe,{materialRef:k}))}},4992:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(32735),l=n(3346),i=n(3450),r=n(18163),o=n(1453);const c=(0,i.ZP)("iframe")((({theme:e})=>({width:"100%",height:"calc(100% - 32px)",border:"none",margin:"0",padding:"0"}))),s=({url:e,previewRef:t})=>{const[n,i]=(0,a.useState)(!1),s=(0,l.s0)();(0,a.useImperativeHandle)(t,(()=>({open:p})));const d=()=>{i(!1)},p=e=>{i(!0),m(e)},m=e=>{o.h.addEventListener("message",(t=>{const{type:n}=t.data;"close_preview"===n?i(!1):"apply-shop"===n&&(s("/editor?code="+e),d())}))};return a.createElement(r.Z,{size:"xl",title:"\u9884\u89c8",visible:n,handleOk:()=>{i(!1)},handleClose:d,fullWidth:!0,height:800,hideFooter:!0},a.createElement(c,{src:e}))}}}]);