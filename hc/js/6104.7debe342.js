"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6104],{24240:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(32735),l=n(61241),r=n(5385),i=n(3450),c=n(89044);const o=(0,i.ZP)(l.Z)((({theme:e})=>({border:"1px solid #E2E2E2",p:"0 0 0 4px",display:"inline-flex",alignItems:"center",width:400,height:36,boxShadow:"none",borderRadius:"5px"}))),g=(0,i.ZP)("div")((({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",padding:"0 3px",background:"#075FB8",height:"100%",width:36,color:"#fff",borderRadius:"0 5px 5px 0",cursor:"pointer"})));function s(e){const[t,n]=(0,a.useState)(""),l=()=>{const{search:n}=e;n&&n(t)};return a.createElement(o,null,a.createElement(r.ZP,{sx:{ml:1,flex:1},placeholder:"\u641c\u7d22",value:t,onChange:e=>{n(e.target.value)},onKeyUp:e=>{13===e.keyCode&&l()}}),a.createElement(g,{onClick:l},a.createElement(c.Z,null)))}},60092:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(36800),l=n.n(a),r=n(32735),i=n(65404);const c=({total:e,pagenation:t,onPageChange:n,onRowsPerPageChange:a})=>{const{pageNum:c,pageSize:o,pageSizeOptions:g}=t;return r.createElement(i.Z,{rowsPerPageOptions:g||[],component:"div",count:e,rowsPerPage:o,page:c>0?c-1:0,onPageChange:(e,t)=>{n&&n(t+1)},onRowsPerPageChange:e=>{a&&a(l()(e.target.value,10))},labelRowsPerPage:"\u6bcf\u9875\u6761\u6570\uff1a",labelDisplayedRows:({from:t,to:n})=>`${t}\u2013${n} \u5171 ${Math.ceil(e/o)}\u9875, ${e}\u6761`})}},23246:(e,t,n)=>{n.d(t,{Z:()=>X});var a=n(93213),l=n(17349),r=n.n(l),i=n(51463),c=n.n(i),o=n(38110),g=n.n(o),s=n(66989),u=n.n(s),p=n(97539),d=n.n(p),h=n(58044),m=n.n(h),f=n(20246),y=n.n(f),E=n(32849),x=n.n(E),k=(n(36800),n(39831)),Z=n.n(k),S=n(61799),w=n.n(S),P=n(26117),v=n.n(P),b=n(5996),C=n.n(b),z=n(20658),O=n.n(z),R=n(3434),N=n.n(R),F=n(97828),_=n.n(F),j=n(32735),K=n(54603),$=n(72448),I=n(78991),B=n(29143),A=n(82295),D=n(32048),W=n(61241),G=n(86191),H=n(56541),J=n(94063),M=n(71644),U=n(3450),Y=n(92513),q=n(60092);function L(e,t){var n=y()(e);if(Z()){var a=Z()(e);t&&(a=w()(a).call(a,(function(t){return v()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n,l,r=null!=arguments[t]?arguments[t]:{};t%2?C()(n=L(Object(r),!0)).call(n,(function(t){(0,a.Z)(e,t,r[t])})):O()?N()(e,O()(r)):C()(l=L(Object(r))).call(l,(function(t){_()(e,t,v()(r,t))}))}return e}const T=(0,U.ZP)("div")((({theme:e})=>({textAlign:"center",fontSize:"14px",padding:"20px 0","& img":{width:300,height:300},"& p":{margin:0}}))),V=(0,U.ZP)(I.Z)((({theme:e})=>({padding:"15px"}))),X=({columns:e,dataSource:t,rowKey:n,ipagenation:a,handleChangePage:l,handleChangeRowsPerPage:i,selectedRowKeys:o,selectionRows:s,selectedChange:p,changeSort:h,tableStyle:f,total:E})=>{const[k,Z]=(0,j.useState)({}),S=(e,t)=>{let n=!e[t],a=JSON.parse(u()(k));a[t]=n,Z(a),h&&h(n,t)},w=(e,t,n)=>{let a=e.target.checked,l=[],r=[];if(t||n)if(a)l=[...o,t],r=[...s,n];else{l=[...o],r=[...s];let e=d()(l).call(l,t);m()(l).call(l,e,1),m()(r).call(r,e,1)}else l=a?P().rowKeys:[],r=a?P().rows:[];p&&p(o,s)},P=()=>{var e;let l=a.pageNum*a.pageSize,i=a.pageNum*a.pageSize+a.pageSize;return{rows:r()(t).call(t,l,i),rowKeys:c()(e=r()(t).call(t,l,i)).call(e,(e=>e[n]))}};return(()=>{const s=n||"id";return j.createElement(W.Z,{sx:{width:"100%",mb:2,height:"100%",overflow:"auto"}},j.createElement(B.Z,{sx:Q({width:"100%",overflow:"auto",height:"100%",minHeight:650},f||{})},j.createElement(K.Z,{"aria-label":"simple table",sx:{overflowY:"auto"}},j.createElement(A.Z,null,e?(e=>{let n=a.pageNum*a.pageSize,l=a.pageNum*a.pageSize+a.pageSize,i=r()(t).call(t,n,l).length;return j.createElement(D.Z,null,o?j.createElement(V,{key:(0,Y.F)(),padding:"checkbox"},j.createElement(G.Z,{color:"primary",checked:o.length>0&&o.length===i,onChange:e=>w(e,null,null),indeterminate:o.length>0&&o.length<i})):null,c()(e).call(e,(e=>g()(e)?j.createElement(V,{key:e.key,align:e.align?e.align:"left",sortDirection:k?"desc":"asc",onClick:()=>S(k,e.key)},j.createElement(H.Z,{direction:k[e.key]?"desc":"asc"},e.title),j.createElement(J.Z,{component:"span",sx:M.Z},"sorted descending")):j.createElement(V,{key:e.key,align:e.align?e.align:"left"},e.title))))})(e):null),j.createElement($.Z,null,t&&c()(t).call(t,((t,n)=>{return j.createElement(D.Z,{key:t[s]||(0,Y.F)(),sx:{"&:last-child td, &:last-child th":{border:0}}},o?j.createElement(V,{key:(0,Y.F)(),padding:"checkbox"},j.createElement(G.Z,{color:"primary",checked:(a=t.id,l=o,!!x()(l).call(l,(e=>e===a))),onChange:e=>w(e,t.id,t)})):null,((t,n)=>{let a=[],l=y()(t);for(let r of e)if(r.render){let e="";x()(l).call(l,(e=>e===r.key))&&(e=t[r.key]),a.push(j.createElement(V,{key:(0,Y.F)(),align:r.align?r.align:"left"},r.render(e,t,n)))}else x()(l).call(l,(e=>e===r.key))?a.push(j.createElement(V,{key:r.key,align:r.align?r.align:"left"},t[r.key])):a.push(j.createElement(V,{key:(0,Y.F)(),align:r.align?r.align:"left"}));return a})(t,n));var a,l})))),a&&E>0?j.createElement(q.Z,{pagenation:a,total:E,onPageChange:l,onRowsPerPageChange:i}):null,t&&0!==t.length?null:j.createElement(T,null,j.createElement("img",{src:"/static/images/nodata.svg"}),j.createElement("p",null,"\u6682\u65e0\u6570\u636e"))))})()}},16104:(e,t,n)=>{n.r(t),n.d(t,{default:()=>K});var a=n(20246),l=n.n(a),r=n(39831),i=n.n(r),c=n(61799),o=n.n(c),g=n(26117),s=n.n(g),u=n(5996),p=n.n(u),d=n(20658),h=n.n(d),m=n(3434),f=n.n(m),y=n(97828),E=n.n(y),x=n(93213),k=n(32735),Z=n(3450),S=n(95279),w=n(75393),P=n(94063),v=n(23246),b=n(24240),C=n(99394),z=n(73554),O=n(81215);function R(e,t){var n=l()(e);if(i()){var a=i()(e);t&&(a=o()(a).call(a,(function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}const N=(0,Z.ZP)("div")((({theme:e})=>({display:"flex",height:"50px",justifyContent:"space-between",alignItems:"center",fontSize:"15px",padding:"15px 0"}))),F=(0,Z.ZP)(w.Z)((({theme:e})=>({height:"30px",fontSize:"12px",marginRight:"8px"}))),_="trade/deploy/aditlist",j="trade/deploy/adit";function K(e){const[t,n]=(0,k.useState)([]),[a,l]=(0,k.useState)({pageNum:0,pageSize:10,pageSizeOptions:[]}),[r,i]=(0,k.useState)(0);let c=[{key:"",title:"\u5e8f\u53f7",align:"center",render:(e,t,n)=>n+1},{key:"project_name",title:"\u540d\u79f0",align:"left"},{key:"expiration",title:"\u90e8\u7f72\u5931\u6548\u65f6\u95f4",align:"center"},{key:"env",title:"\u90e8\u7f72\u73af\u5883",align:"center",render:(e,t,n)=>e||"Windows"},{key:"create_date",title:"\u63d0\u5ba1\u65f6\u95f4",align:"center"},{key:"action",title:"\u64cd\u4f5c",align:"center",render:(e,t,n)=>{let a="",l="#333";return 1==t.audit_status?(a="\u5df2\u901a\u8fc7",l="#308A43"):2==t.audit_status&&(a="\u5df2\u62d2\u7edd",l="#FF3B3B"),0==t.audit_status?k.createElement(k.Fragment,null,k.createElement(F,{variant:"outlined",onClick:()=>o(t,1)},"\u901a\u8fc7"),k.createElement(F,{variant:"outlined",onClick:()=>o(t,2),color:"error",sx:{marginRight:0}},"\u62d2\u7edd")):k.createElement("span",{style:{color:l}},a)}}];const o=(e,t)=>{let n=1==t?"\u901a\u8fc7":"\u62d2\u7edd";(0,O.i)({title:"\u63d0\u793a",content:`\u786e\u5b9a${n}\u5ba1\u6838\u9879\u76ee\u201c${e.project_name}\u201d`,onOk:()=>g(e.record_id,t)})},g=(e,t)=>{let n={record_id:e,audit_status:t};(0,C.SI)(j,n).then((e=>{0===e.code&&(u(),z.y.success("\u64cd\u4f5c\u6210\u529f"))}))},u=e=>{let t=function(e){for(var t=1;t<arguments.length;t++){var n,a,l=null!=arguments[t]?arguments[t]:{};t%2?p()(n=R(Object(l),!0)).call(n,(function(t){(0,x.Z)(e,t,l[t])})):h()?f()(e,h()(l)):p()(a=R(Object(l))).call(a,(function(t){E()(e,t,s()(l,t))}))}return e}({Current:a.pageNum,Size:a.pageSize},e);(0,C.s7)(_,t).then((e=>{if(0===e.code){let{list:t,total:a}=e.data;t&&t.length>0?(n(t),i(a)):(n([]),i(0))}})).catch((e=>{}))};(0,k.useEffect)((()=>{u()}),[]);return k.createElement(P.Z,{sx:{flexGrow:1,height:"100%"}},k.createElement(S.ZP,{container:!0,spacing:0,sx:{height:"100%"}},k.createElement(S.ZP,{item:!0,xs:12,sx:{padding:"0 15px"}},k.createElement(N,null,k.createElement("span",{style:{fontWeight:"bold"}},"\u90e8\u7f72\u5ba1\u6838"),k.createElement(b.Z,{search:e=>{u({name:e})}}))),k.createElement(S.ZP,{item:!0,xs:12,sx:{background:"rgb(240, 242, 245)",padding:"15px",height:"calc(100% - 50px)"}},k.createElement(v.Z,{columns:c,dataSource:t,rowKey:"id",ipagenation:a,handleChangePage:e=>{l({pageNum:e,pageSize:a.pageSize,pageSizeOptions:a.pageSizeOptions}),u({Current:e})},handleChangeRowsPerPage:e=>{l({pageNum:1,pageSize:e,pageSizeOptions:a.pageSizeOptions}),u({Size:e})},total:r}))))}}}]);