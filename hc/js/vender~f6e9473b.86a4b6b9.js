"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3018],{79070:(t,e,n)=>{n.d(e,{Z:()=>E});var r=n(78333),i=n(25914),o=n(17497),s=n(78505),a=n(88779),c=n(54485),u=n(81957),Z=n(57476),l=n(8334),h=n(22874),f=n(51625),p=n(67197),d=n(21514),m=n(7612);const y=function(t){const e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n);for(let n=0;n<e;++n)r[n]=t.charCodeAt(n);return n}('E\xf4\xbd\vy\xe2jE"\x05\x92,\x17\xcd\x06q\xf8I\x10FgQ\0B%\xc6\xe8a,f)\b\xc64\xdcjb%y\nw\x1dmi\xd6\xf0\x9ck\x93\xa1\xbdNu\xe0A\x04[\xdf@V\f\xd9\xbbr\x9b\x81|\x103S\xeeOl\xd4q\x05\xb0{\xc0\x7fE\x03VZ\xadwUe\v3\x92*\xac\x19l5\x14\xc5\x1d0s\xf83>mF8J\xb4\xdd\xf0.\xdd\x17u\x16\xda\x8cDt"\x06\xfaa"\f3"So\xaf9D\v\x8c\x0e9\xd99\x13L\xb9\xbf\x7f\xab\\\x8cP_\x9f"ux\x1f\xe9\x07q\x91h;\xc1\xc4\x9b\x7f\xf0<VqH\x82\x05\'UfYNe\x1d\x98u\xa3aF}a?\x15A\0\x9f\x14\x06\xd7\xb44M\xce\x13\x87F\xb0\x1a\xd5\x05\x1c\xb8\x8a\'{\x8b\xdc+\xbbMg0\xc8\xd1\xf6\\\x8fP\xfa[/F\x9bn5\x18/\'C.\xeb\n\f^\x10\x05\x10\xa5s\x1be4\xe5l.jC\'c\x14#U\xa9?q{gC}:\xaf\xcd\xe2TU\x9c\xfdK\xc6\xe2\x9f/(\xed\xcb\\\xc6-f\x07\x88\xa7;/\x18*"N\x0e\xb0k.\xdd\r\x95}}G\xbaC\xb2\x11\xb2+>M\xaa>}\xe6\xceI\x89\xc6\xe6x\fa1\x05-\x01\xa4O\xa5~q \x88\xec\r1\xe8N\v\0nPh}\x17=\b\r\x17\x95\xa6n\xa3h\x97$[k\xf3\x17#\xf3\xb6s\xb3\r\v@\xc0\x9f\xd8\x04Q]\xfa\x1a\x17".\x15j\xdfI\0\xb9\xa0wU\xc6\xef\x10j\xbf{GL\x7f\x83\x17\x05\xee\xdc\xdcF\x85\xa9\xadS\x07+S4\x06\x07\xff\x14\x94Y\x19\x02\xe48\xe81\x83N\xb9XFk\xcb-#\x86\x92p\x005\x88"\xcf1\xb2&/\xe7\xc3u-6,rt\xb0#G\xb7\xd3\xd1&\x16\x857r\xe2\0\x8cD\xcf\x10\xda3-\x1a\xde`\x86i#i*|\xcdKQ\r\x95T9w.)\xea\x1b\xa6P\xa2j\x8foP\x99\\>T\xfb\xefP[\v\x07E\x17\x89m(\x13w7\x1d\xdb\x8e\x1eJ\x05fJo\x99 \xe5p\xe2\xb9q~\fmI\x04-z\xfer\xc7\xf2Y0\x8f\xbb\x02]s\xe5\xc9 \xeax\xec \x90\xf0\x8a\x7fB\x17|G\x19`\xb0\x16\xbd&\xb7q\xb6\xc7\x9f\x0e\xd13\x82=\xd3\xab\xeec\x99\xc8+S\xa0D\\q\x01\xc6\xccD\x1f2O<\xca\xc0)=R\xd3a\x19X\xa9}e\xb4\xdc\xcf\r\xf4=\xf1\b\xa9B\xda#\t\xd8\xbf^PI\xf8M\xc0\xcbGL\x1cO\xf7{+\xd8\x16\x18\xc51\x92;\xb5o\xdcl\r\x92\x88\x16\xd1\x9e\xdb?\xe2\xe9\xda_\xd4\x84\xe2FaZ\xde\x1cU\xcf\xa4\0\xbe\xfd\xceg\xf1Ji\x1c\x97\xe6 H\xd8]\x7f~\xaeq \x0eN\xae\xc0V\xa9\x91\x01<\x82\x1d\x0fr\xe7v\xec)I\xd6]-\x83\xe3\xdb6\x06\xa9;f\x13\x97\x87j\xd5\xb6=P^R\xb9K\xc7sWx\xc9\xf4.Y\x07\x95\x93o\xd0K\x17W\x19>\'\'\xc7`\xdb;\xed\x9a\x0eSD\x16>?\x8d\x92mw\xa2\n\xeb?R\xa8\xc6U^1I7\x85\xf4\xc5\x1f&-\xa9\x1c\xbf\x8b\'T\xda\xc3j \xe5*x\x04\xb0\xd6\x90pr\xaa\x8bh\xbd\x88\xf7\x02_H\xb1~\xc0XL?f\x1a\xf9>\xe1e\xc0p\xa7\xcf8i\xaf\xf0VldI\x9c\'\xadxtO\xc2\x87\xdeV9\0\xdaw\v\xcb-\x1b\x89\xfb5O\x02\xf5\bQ\x13`\xc1\nZGM&\x1c30x\xda\xc0\x9cFG\xe2[y`In7gS\n>\xe9\xecF9\xb2\xf14\r\xc6\x84Sun\xe1\fY\xd9\x1e\xde)\x85\x10{II\xa5wy\xbeIV.6\xe7\v:\xbbO\x03b{\xd2M1\x95/\xbd8{\xa8O!\xe1\xecFpv\x95})"x\x88\n\x90\xdd\x9d\\\xda\xde\x19Q\xcf\xf0\xfcYRe|3\x13\xdf\xf3H\xda\xbb*u\xdb`\xb2\x02\x15\xd4\xfc\x19\xed\x1b\xec\x7f5\xa8\xff(1\x07-\x12\xc8\xdc\x88F|\x8a["');function g(t){o.Z.defined("resourceOrUrl",t);let e=t;"string"==typeof e||e instanceof p.Z||(o.Z.typeOf.string("resourceOrUrl.url",t.url),e=t.url);const n=p.Z.createIfNeeded(e);n.appendForwardSlash(),this._resource=n,this.imageryPresent=!0,this.protoImagery=void 0,this.terrainPresent=!0,this.negativeAltitudeExponentBias=32,this.negativeAltitudeThreshold=h.Z.EPSILON12,this.providers={},this.key=void 0,this._quadPacketVersion=1,this._tileInfo={},this._subtreePromises={};const u=this;this._readyPromise=function(t){const e=t._resource.getDerivedResource({url:"dbRoot.v5",queryParameters:{output:"proto"}});if(!(0,c.Z)(T)){const t=(0,i.Z)("ThirdParty/google-earth-dbroot-parser.js"),e=window.cesiumGoogleEarthDbRootParser;T=(0,l.Z)(t).then((function(){O=window.cesiumGoogleEarthDbRootParser(r.Z),(0,c.Z)(e)?window.cesiumGoogleEarthDbRootParser=e:delete window.cesiumGoogleEarthDbRootParser}))}return T.then((function(){return e.fetchArrayBuffer()})).then((function(e){const n=O.EncryptedDbRootProto.decode(new Uint8Array(e));let r=n.encryptionData,i=r.byteOffset,o=i+r.byteLength;const s=t.key=r.buffer.slice(i,o);r=n.dbrootData,i=r.byteOffset,o=i+r.byteLength;const a=r.buffer.slice(i,o);return w.scheduleTask({buffer:a,type:"DbRoot",key:s},[a])})).then((function(e){const n=O.DbRootProto.decode(new Uint8Array(e.buffer));if(t.imageryPresent=(0,a.Z)(n.imageryPresent,t.imageryPresent),t.protoImagery=n.protoImagery,t.terrainPresent=(0,a.Z)(n.terrainPresent,t.terrainPresent),(0,c.Z)(n.endSnippet)&&(0,c.Z)(n.endSnippet.model)){const e=n.endSnippet.model;t.negativeAltitudeExponentBias=(0,a.Z)(e.negativeAltitudeExponentBias,t.negativeAltitudeExponentBias),t.negativeAltitudeThreshold=(0,a.Z)(e.compressedNegativeAltitudeThreshold,t.negativeAltitudeThreshold)}(0,c.Z)(n.databaseVersion)&&(t._quadPacketVersion=(0,a.Z)(n.databaseVersion.quadtreeVersion,t._quadPacketVersion));const r=t.providers,i=(0,a.Z)(n.providerInfo,[]),o=i.length;for(let t=0;t<o;++t){const e=i[t],n=e.copyrightString;(0,c.Z)(n)&&(r[e.providerId]=new s.Z(n.value))}})).catch((function(){t.key=y}))}(this).then((function(){return u.getQuadTreePacket("",u._quadPacketVersion)})).then((function(){return!0})).catch((function(t){const e=`An error occurred while accessing ${b(u,"",1).url}.`;return Promise.reject(new d.Z(e))}))}Object.defineProperties(g.prototype,{url:{get:function(){return this._resource.url}},proxy:{get:function(){return this._resource.proxy}},resource:{get:function(){return this._resource}},readyPromise:{get:function(){return this._readyPromise}}}),g.tileXYToQuadKey=function(t,e,n){let r="";for(let i=n;i>=0;--i){const n=1<<i;let o=0;(0,Z.Z)(e,n)?(0,Z.Z)(t,n)&&(o|=1):(o|=2,(0,Z.Z)(t,n)||(o|=1)),r+=o}return r},g.quadKeyToTileXY=function(t){let e=0,n=0;const r=t.length-1;for(let i=r;i>=0;--i){const o=1<<i,s=+t[r-i];(0,Z.Z)(s,2)?(0,Z.Z)(s,1)||(e|=o):(n|=o,(0,Z.Z)(s,1)&&(e|=o))}return{x:e,y:n,level:r}},g.prototype.isValid=function(t){let e=this.getTileInformationFromQuadKey(t);if((0,c.Z)(e))return null!==e;let n,r=!0,i=t;for(;i.length>1;){if(n=i.substring(i.length-1),i=i.substring(0,i.length-1),e=this.getTileInformationFromQuadKey(i),(0,c.Z)(e)){e.hasSubtree()||e.hasChild(parseInt(n))||(r=!1);break}if(null===e){r=!1;break}}return r};const w=new m.Z("decodeGoogleEarthEnterprisePacket");function _(t,e,n){const r=t._tileInfo;let i,o=e,s=r[o];if((0,c.Z)(s)&&(!s.hasSubtree()||s.hasChildren()))return s;for(;void 0===s&&o.length>1;)o=o.substring(0,o.length-1),s=r[o];const a=t._subtreePromises;let u=a[o];return(0,c.Z)(u)?u.then((function(){return i=new f.Z({throttle:n.throttle,throttleByServer:n.throttleByServer,type:n.type,priorityFunction:n.priorityFunction}),_(t,e,i)})):(0,c.Z)(s)&&s.hasSubtree()?(u=t.getQuadTreePacket(o,s.cnodeVersion,n),(0,c.Z)(u)?(a[o]=u,u.then((function(){return i=new f.Z({throttle:n.throttle,throttleByServer:n.throttleByServer,type:n.type,priorityFunction:n.priorityFunction}),_(t,e,i)})).finally((function(){delete a[o]}))):void 0):Promise.reject(new d.Z(`Couldn't load metadata for tile ${e}`))}function b(t,e,n,r){return t._resource.getDerivedResource({url:`flatfile?q2-0${e}-q.${n.toString()}`,request:r})}let O,T;g.prototype.getQuadTreePacket=function(t,e,n){e=(0,a.Z)(e,1);const r=b(this,t=(0,a.Z)(t,""),e,n).fetchArrayBuffer();if(!(0,c.Z)(r))return;const i=this._tileInfo,o=this.key;return r.then((function(e){return w.scheduleTask({buffer:e,quadKey:t,type:"Metadata",key:o},[e]).then((function(e){let n,r=-1;if(""!==t){r=t.length+1;const o=e[t];n=i[t],n._bits|=o._bits,delete e[t]}const o=Object.keys(e);o.sort((function(t,e){return t.length-e.length}));const s=o.length;for(let t=0;t<s;++t){const s=o[t];if(null!==e[s]){const t=u.Z.clone(e[s]),o=s.length;if(o===r)t.setParent(n);else if(o>1){const e=i[s.substring(0,s.length-1)];t.setParent(e)}i[s]=t}else i[s]=null}}))}))},g.prototype.populateSubtree=function(t,e,n,r){return _(this,g.tileXYToQuadKey(t,e,n),r)},g.prototype.getTileInformation=function(t,e,n){const r=g.tileXYToQuadKey(t,e,n);return this._tileInfo[r]},g.prototype.getTileInformationFromQuadKey=function(t){return this._tileInfo[t]};const E=g},18023:(t,e,n)=>{n.d(e,{Z:()=>D});var r=n(52351),i=n(59015),o=n(93517),s=n(17497),a=n(88779),c=n(54485),u=n(20176),Z=n(39172),l=n(80513),h=n(22874),f=n(42428),p=n(25129),d=n(34152),m=n(7612),y=n(33598),g=n(87569),w=n(54594);function _(t){t=(0,a.Z)(t,a.Z.EMPTY_OBJECT),s.Z.typeOf.object("options.buffer",t.buffer),s.Z.typeOf.number("options.negativeAltitudeExponentBias",t.negativeAltitudeExponentBias),s.Z.typeOf.number("options.negativeElevationThreshold",t.negativeElevationThreshold),this._buffer=t.buffer,this._credits=t.credits,this._negativeAltitudeExponentBias=t.negativeAltitudeExponentBias,this._negativeElevationThreshold=t.negativeElevationThreshold;const e=(0,a.Z)(t.childTileMask,15);let n=3&e;n|=4&e?8:0,n|=8&e?4:0,this._childTileMask=n,this._createdByUpsampling=(0,a.Z)(t.createdByUpsampling,!1),this._skirtHeight=void 0,this._bufferType=this._buffer.constructor,this._mesh=void 0,this._minimumHeight=void 0,this._maximumHeight=void 0}Object.defineProperties(_.prototype,{credits:{get:function(){return this._credits}},waterMask:{get:function(){}}});const b="createVerticesFromGoogleEarthEnterpriseBuffer",O=new m.Z(b),T=new m.Z(b,y.Z.maximumAsynchronousTasks),E=new d.Z,x=new d.Z;_.prototype.createMesh=function(t){t=(0,a.Z)(t,a.Z.EMPTY_OBJECT),s.Z.typeOf.object("options.tilingScheme",t.tilingScheme),s.Z.typeOf.number("options.x",t.x),s.Z.typeOf.number("options.y",t.y),s.Z.typeOf.number("options.level",t.level);const e=t.tilingScheme,n=t.x,i=t.y,u=t.level,Z=(0,a.Z)(t.exaggeration,1),l=(0,a.Z)(t.exaggerationRelativeHeight,0),h=(0,a.Z)(t.throttle,!0),p=e.ellipsoid;e.tileXYToNativeRectangle(n,i,u,E),e.tileXYToRectangle(n,i,u,x);const m=p.cartographicToCartesian(d.Z.center(x)),y=40075.16/(1<<u);this._skirtHeight=Math.min(8*y,1e3);const _=(h?T:O).scheduleTask({buffer:this._buffer,nativeRectangle:E,rectangle:x,relativeToCenter:m,ellipsoid:p,skirtHeight:this._skirtHeight,exaggeration:Z,exaggerationRelativeHeight:l,includeWebMercatorT:!0,negativeAltitudeExponentBias:this._negativeAltitudeExponentBias,negativeElevationThreshold:this._negativeElevationThreshold});if(!(0,c.Z)(_))return;const b=this;return _.then((function(t){return b._mesh=new w.Z(m,new Float32Array(t.vertices),new Uint16Array(t.indices),t.indexCountWithoutSkirts,t.vertexCountWithoutSkirts,t.minimumHeight,t.maximumHeight,r.Z.clone(t.boundingSphere3D),o.Z.clone(t.occludeePointInScaledSpace),t.numberOfAttributes,f.Z.clone(t.orientedBoundingBox),g.Z.clone(t.encoding),t.westIndicesSouthToNorth,t.southIndicesEastToWest,t.eastIndicesNorthToSouth,t.northIndicesWestToEast),b._minimumHeight=t.minimumHeight,b._maximumHeight=t.maximumHeight,b._buffer=void 0,b._mesh}))},_.prototype.interpolateHeight=function(t,e,n){const r=h.Z.clamp((e-t.west)/t.width,0,1),i=h.Z.clamp((n-t.south)/t.height,0,1);return(0,c.Z)(this._mesh)?function(t,e,n){const r=t._mesh,i=r.vertices,o=r.encoding,s=r.indices;for(let t=0,r=s.length;t<r;t+=3){const r=s[t],a=s[t+1],c=s[t+2],u=o.decodeTextureCoordinates(i,r,S),Z=o.decodeTextureCoordinates(i,a,I),h=o.decodeTextureCoordinates(i,c,A),f=l.Z.computeBarycentricCoordinates(e,n,u.x,u.y,Z.x,Z.y,h.x,h.y,R);if(f.x>=-1e-15&&f.y>=-1e-15&&f.z>=-1e-15){const t=o.decodeHeight(i,r),e=o.decodeHeight(i,a),n=o.decodeHeight(i,c);return f.x*t+f.y*e+f.z*n}}return}(this,r,i):function(t,e,n,r){const i=t._buffer;let o=0,s=0,a=0;n>.5?(e>.5?(o=2,s=.5):o=3,a=.5):e>.5&&(o=1,s=.5);const c=new DataView(i);let u=0;for(let t=0;t<o;++t)u+=c.getUint32(u,!0),u+=M;u+=M,u+=2*q;const Z=h.Z.toRadians(180*c.getFloat64(u,!0));u+=q;const f=h.Z.toRadians(180*c.getFloat64(u,!0));u+=q;const p=r.width/Z/2,d=r.height/f/2,m=c.getInt32(u,!0);u+=N;const y=3*c.getInt32(u,!0);u+=N,u+=N;const g=new Array(m),w=new Array(m),_=new Array(m);let b;for(b=0;b<m;++b)g[b]=s+c.getUint8(u++)*p,w[b]=a+c.getUint8(u++)*d,_[b]=6371010*c.getFloat32(u,!0),u+=C;const O=new Array(y);for(b=0;b<y;++b)O[b]=c.getUint16(u,!0),u+=v;for(b=0;b<y;b+=3){const t=O[b],r=O[b+1],i=O[b+2],o=g[t],s=g[r],a=g[i],c=w[t],u=w[r],Z=w[i],h=l.Z.computeBarycentricCoordinates(e,n,o,c,s,u,a,Z,R);if(h.x>=-1e-15&&h.y>=-1e-15&&h.z>=-1e-15)return h.x*_[t]+h.y*_[r]+h.z*_[i]}return}(this,r,i,t)};const P=new m.Z("upsampleQuantizedTerrainMesh",y.Z.maximumAsynchronousTasks);_.prototype.upsample=function(t,e,n,i,a,l,h){s.Z.typeOf.object("tilingScheme",t),s.Z.typeOf.number("thisX",e),s.Z.typeOf.number("thisY",n),s.Z.typeOf.number("thisLevel",i),s.Z.typeOf.number("descendantX",a),s.Z.typeOf.number("descendantY",l),s.Z.typeOf.number("descendantLevel",h);if(h-i>1)throw new u.Z("Upsampling through more than one level at a time is not currently supported.");const d=this._mesh;if(!(0,c.Z)(this._mesh))return;const m=2*e!==a,y=2*n===l,g=t.ellipsoid,w=t.tileXYToRectangle(a,l,h),_=P.scheduleTask({vertices:d.vertices,indices:d.indices,indexCountWithoutSkirts:d.indexCountWithoutSkirts,vertexCountWithoutSkirts:d.vertexCountWithoutSkirts,encoding:d.encoding,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,isEastChild:m,isNorthChild:y,childRectangle:w,ellipsoid:g});if(!(0,c.Z)(_))return;const b=this;return _.then((function(t){const e=new Uint16Array(t.vertices),n=Z.Z.createTypedArray(e.length/3,t.indices),i=b._skirtHeight;return new p.Z({quantizedVertices:e,indices:n,minimumHeight:t.minimumHeight,maximumHeight:t.maximumHeight,boundingSphere:r.Z.clone(t.boundingSphere),orientedBoundingBox:f.Z.clone(t.orientedBoundingBox),horizonOcclusionPoint:o.Z.clone(t.horizonOcclusionPoint),westIndices:t.westIndices,southIndices:t.southIndices,eastIndices:t.eastIndices,northIndices:t.northIndices,westSkirtHeight:i,southSkirtHeight:i,eastSkirtHeight:i,northSkirtHeight:i,childTileMask:0,createdByUpsampling:!0,credits:b._credits})}))},_.prototype.isChildAvailable=function(t,e,n,r){s.Z.typeOf.number("thisX",t),s.Z.typeOf.number("thisY",e),s.Z.typeOf.number("childX",n),s.Z.typeOf.number("childY",r);let i=2;return n!==2*t&&++i,r!==2*e&&(i-=2),0!=(this._childTileMask&1<<i)},_.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling};const S=new i.Z,I=new i.Z,A=new i.Z,R=new o.Z;const v=Uint16Array.BYTES_PER_ELEMENT,M=Uint32Array.BYTES_PER_ELEMENT,N=Int32Array.BYTES_PER_ELEMENT,C=Float32Array.BYTES_PER_ELEMENT,q=Float64Array.BYTES_PER_ELEMENT;const D=_},86622:(t,e,n)=>{n.d(e,{Z:()=>v});var r=n(78505),i=n(88779),o=n(54485),s=n(20176),a=n(92893),c=n(96507),u=n(79070),Z=n(18023),l=n(30646),h=n(97262),f=n(22874),p=n(34152),d=n(51625),m=n(62969),y=n(22041),g=n(67197),w=n(21514),_=n(7612),b=n(85002);const O=0,T=1,E=2,x=3,P=new h.Z;function S(){this._terrainCache={},this._lastTidy=h.Z.now()}function I(t){if(t=(0,i.Z)(t,i.Z.EMPTY_OBJECT),!(0,o.Z)(t.url)&&!(0,o.Z)(t.metadata))throw new s.Z("options.url or options.metadata is required.");let e;if((0,o.Z)(t.metadata))e=t.metadata;else{const n=g.Z.createIfNeeded(t.url);e=new u.Z(n)}this._metadata=e,this._tilingScheme=new c.Z({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new p.Z(-f.Z.PI,-f.Z.PI,f.Z.PI,f.Z.PI),ellipsoid:t.ellipsoid});let n=t.credit;"string"==typeof n&&(n=new r.Z(n)),this._credit=n,this._levelZeroMaximumGeometricError=40075.16,this._terrainCache=new S,this._terrainPromises={},this._terrainRequests={},this._errorEvent=new a.Z,this._ready=!1;const Z=this;let l;this._readyPromise=e.readyPromise.then((function(t){if(!e.terrainPresent){const t=new w.Z(`The server ${e.url} doesn't have terrain`);return l=b.Z.handleError(l,Z,Z._errorEvent,t.message,void 0,void 0,void 0,t),Promise.reject(t)}return b.Z.handleSuccess(l),Z._ready=t,t})).catch((function(t){return l=b.Z.handleError(l,Z,Z._errorEvent,t.message,void 0,void 0,void 0,t),Promise.reject(t)}))}S.prototype.add=function(t,e){this._terrainCache[t]={buffer:e,timestamp:h.Z.now()}},S.prototype.get=function(t){const e=this._terrainCache[t];if((0,o.Z)(e))return delete this._terrainCache[t],e.buffer},S.prototype.tidy=function(){if(h.Z.now(P),h.Z.secondsDifference(P,this._lastTidy)>10){const t=this._terrainCache,e=Object.keys(t),n=e.length;for(let r=0;r<n;++r){const n=e[r],i=t[n];h.Z.secondsDifference(P,i.timestamp)>10&&delete t[n]}h.Z.clone(P,this._lastTidy)}},Object.defineProperties(I.prototype,{url:{get:function(){return this._metadata.url}},proxy:{get:function(){return this._metadata.proxy}},tilingScheme:{get:function(){if(!this._ready)throw new s.Z("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){return this._credit}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},availability:{get:function(){}}});const A=new _.Z("decodeGoogleEarthEnterprisePacket");function R(t,e,n){let r=e.getChildBitmask();if(e.terrainState===x){r=0;for(let e=0;e<4;++e){const i=n.getTileInformationFromQuadKey(t+e.toString());(0,o.Z)(i)&&i.hasTerrain()&&(r|=1<<e)}}return r}I.prototype.requestTileGeometry=function(t,e,n,r){if(!this._ready)throw new s.Z("requestTileGeometry must not be called before the terrain provider is ready.");const i=u.Z.tileXYToQuadKey(t,e,n),a=this._terrainCache,c=this._metadata,h=c.getTileInformationFromQuadKey(i);if(!(0,o.Z)(h))return Promise.reject(new w.Z("Terrain tile doesn't exist"));let f=h.terrainState;(0,o.Z)(f)||(f=h.terrainState=O);const p=a.get(i);if((0,o.Z)(p)){const t=c.providers[h.terrainProvider];return Promise.resolve(new Z.Z({buffer:p,childTileMask:R(i,h,c),credits:(0,o.Z)(t)?[t]:void 0,negativeAltitudeExponentBias:c.negativeAltitudeExponentBias,negativeElevationThreshold:c.negativeAltitudeThreshold}))}if(a.tidy(),!h.ancestorHasTerrain)return Promise.resolve(new l.Z({buffer:new Uint8Array(256),width:16,height:16}));if(f===T)return Promise.reject(new w.Z("Terrain tile doesn't exist"));let d,y=i,g=-1;switch(f){case E:g=h.terrainVersion;break;case x:y=y.substring(0,y.length-1),d=c.getTileInformationFromQuadKey(y),g=d.terrainVersion;break;case O:h.hasTerrain()?g=h.terrainVersion:(y=y.substring(0,y.length-1),d=c.getTileInformationFromQuadKey(y),(0,o.Z)(d)&&d.hasTerrain()&&(g=d.terrainVersion))}if(g<0)return Promise.reject(new w.Z("Terrain tile doesn't exist"));const _=this._terrainPromises,b=this._terrainRequests;let P,S;if((0,o.Z)(_[y]))P=_[y],S=b[y];else{S=r;const t=function(t,e,n,r){return n=(0,o.Z)(n)&&n>0?n:1,t._metadata.resource.getDerivedResource({url:`flatfile?f1c-0${e}-t.${n.toString()}`,request:r})}(this,y,g,S).fetchArrayBuffer();if(!(0,o.Z)(t))return;P=t.then((function(t){return(0,o.Z)(t)?A.scheduleTask({buffer:t,type:"Terrain",key:c.key},[t]).then((function(t){const e=c.getTileInformationFromQuadKey(y);e.terrainState=E,a.add(y,t[0]);const n=e.terrainProvider,r=t.length-1;for(let e=0;e<r;++e){const r=y+e.toString(),i=c.getTileInformationFromQuadKey(r);(0,o.Z)(i)&&(a.add(r,t[e+1]),i.terrainState=x,0===i.terrainProvider&&(i.terrainProvider=n))}})):Promise.reject(new w.Z("Failed to load terrain."))})),_[y]=P,b[y]=S,P=P.finally((function(){delete _[y],delete b[y]}))}return P.then((function(){const t=a.get(i);if((0,o.Z)(t)){const e=c.providers[h.terrainProvider];return new Z.Z({buffer:t,childTileMask:R(i,h,c),credits:(0,o.Z)(e)?[e]:void 0,negativeAltitudeExponentBias:c.negativeAltitudeExponentBias,negativeElevationThreshold:c.negativeAltitudeThreshold})}return Promise.reject(new w.Z("Failed to load terrain."))})).catch((function(t){return S.state===m.Z.CANCELLED?(r.state=S.state,Promise.reject(t)):(h.terrainState=T,Promise.reject(t))}))},I.prototype.getLevelMaximumGeometricError=function(t){return this._levelZeroMaximumGeometricError/(1<<t)},I.prototype.getTileDataAvailable=function(t,e,n){const r=this._metadata;let i=u.Z.tileXYToQuadKey(t,e,n);const s=r.getTileInformation(t,e,n);if(null===s)return!1;if((0,o.Z)(s)){if(!s.ancestorHasTerrain)return!0;const t=s.terrainState;if(t===T)return!1;if(!((0,o.Z)(t)&&t!==O||(s.terrainState=O,s.hasTerrain()))){i=i.substring(0,i.length-1);const t=r.getTileInformationFromQuadKey(i);if(!(0,o.Z)(t)||!t.hasTerrain())return!1}return!0}if(r.isValid(i)){const i=new d.Z({throttle:!1,throttleByServer:!0,type:y.Z.TERRAIN});r.populateSubtree(t,e,n,i)}return!1},I.prototype.loadTileDataAvailability=function(t,e,n){};const v=I},81957:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(54485),i=n(57476);const o=[1,2,4,8];function s(t,e,n,r,i,o){this._bits=t,this.cnodeVersion=e,this.imageryVersion=n,this.terrainVersion=r,this.imageryProvider=i,this.terrainProvider=o,this.ancestorHasTerrain=!1,this.terrainState=void 0}s.clone=function(t,e){return(0,r.Z)(e)?(e._bits=t._bits,e.cnodeVersion=t.cnodeVersion,e.imageryVersion=t.imageryVersion,e.terrainVersion=t.terrainVersion,e.imageryProvider=t.imageryProvider,e.terrainProvider=t.terrainProvider):e=new s(t._bits,t.cnodeVersion,t.imageryVersion,t.terrainVersion,t.imageryProvider,t.terrainProvider),e.ancestorHasTerrain=t.ancestorHasTerrain,e.terrainState=t.terrainState,e},s.prototype.setParent=function(t){this.ancestorHasTerrain=t.ancestorHasTerrain||this.hasTerrain()},s.prototype.hasSubtree=function(){return(0,i.Z)(this._bits,16)},s.prototype.hasImagery=function(){return(0,i.Z)(this._bits,64)},s.prototype.hasTerrain=function(){return(0,i.Z)(this._bits,128)},s.prototype.hasChildren=function(){return(0,i.Z)(this._bits,15)},s.prototype.hasChild=function(t){return(0,i.Z)(this._bits,o[t])},s.prototype.getChildBitmask=function(){return 15&this._bits};const a=s},4069:(t,e,n)=>{n.d(e,{Z:()=>r});const r=function(t,e,n,r,i,o,s,a){this.year=t,this.month=e,this.day=n,this.hour=r,this.minute=i,this.second=o,this.millisecond=s,this.isLeapSecond=a}},22823:(t,e,n)=>{n.d(e,{Z:()=>te});var r=n(93237),i=n(85162),o=n(55993),s=n(52351),a=n(93517),c=n(66866),u=n(17497),Z=n(44990),l=n(88779),h=n(54485),f=n(20176),p=n(99996),d=n(94025),m=n(48647),y=n(88173),g=n(64729),w=n(97845),_=n(94061),b=n(14090),O=n(22874),T=n(39109),E=n(30445),x=n(20291),P=n(34152),S=n(65412);const I=[g.Z,S.Z],A=I.length,R=Math.cos(O.Z.toRadians(30)),v=Math.cos(O.Z.toRadians(150));function M(t){const e=(t=(0,l.Z)(t,l.Z.EMPTY_OBJECT)).positions;if(!(0,h.Z)(e)||e.length<2)throw new f.Z("At least two positions are required.");if((0,h.Z)(t.arcType)&&t.arcType!==i.Z.GEODESIC&&t.arcType!==i.Z.RHUMB)throw new f.Z("Valid options for arcType are ArcType.GEODESIC and ArcType.RHUMB.");this.width=(0,l.Z)(t.width,1),this._positions=e,this.granularity=(0,l.Z)(t.granularity,9999),this.loop=(0,l.Z)(t.loop,!1),this.arcType=(0,l.Z)(t.arcType,i.Z.GEODESIC),this._ellipsoid=p.Z.WGS84,this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}Object.defineProperties(M.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+1+p.Z.packedLength+1+1}}}),M.setProjectionAndEllipsoid=function(t,e){let n=0;for(let t=0;t<A;t++)if(e instanceof I[t]){n=t;break}t._projectionIndex=n,t._ellipsoid=e.ellipsoid};const N=new a.Z,C=new a.Z,q=new a.Z;function D(t,e,n,r,i){const o=H(r,t,0,N),s=H(r,t,n,C),c=H(r,e,0,q),u=G(s,o,C),Z=G(c,o,q);return a.Z.cross(Z,u,i),a.Z.normalize(i,i)}const L=new c.Z,B=new a.Z,j=new a.Z,z=new a.Z;function k(t,e,n,r,o,s,c,u,Z,l,h){if(0===o)return;let f;s===i.Z.GEODESIC?f=new d.Z(t,e,c):s===i.Z.RHUMB&&(f=new m.Z(t,e,c));const p=f.surfaceDistance;if(p<o)return;const y=D(t,e,r,c,z),g=Math.ceil(p/o),w=p/g;let _=w;const b=g-1;let O=u.length;for(let t=0;t<b;t++){const t=f.interpolateUsingSurfaceDistance(_,L),e=H(c,t,n,B),i=H(c,t,r,j);a.Z.pack(y,u,O),a.Z.pack(e,Z,O),a.Z.pack(i,l,O),h.push(t.latitude),h.push(t.longitude),O+=3,_+=w}}const U=new c.Z;function H(t,e,n,r){return c.Z.clone(e,U),U.height=n,c.Z.toCartesian(U,t,r)}function G(t,e,n){return a.Z.subtract(t,e,n),a.Z.normalize(n,n),n}function F(t,e,n,r){return r=G(t,e,r),r=a.Z.cross(r,n,r),r=a.Z.normalize(r,r),r=a.Z.cross(n,r,r)}M.pack=function(t,e,n){u.Z.typeOf.object("value",t),u.Z.defined("array",e);let r=(0,l.Z)(n,0);const i=t._positions,o=i.length;e[r++]=o;for(let t=0;t<o;++t){const n=i[t];a.Z.pack(n,e,r),r+=3}return e[r++]=t.granularity,e[r++]=t.loop?1:0,e[r++]=t.arcType,p.Z.pack(t._ellipsoid,e,r),r+=p.Z.packedLength,e[r++]=t._projectionIndex,e[r++]=t._scene3DOnly?1:0,e},M.unpack=function(t,e,n){u.Z.defined("array",t);let r=(0,l.Z)(e,0);const i=t[r++],o=new Array(i);for(let e=0;e<i;e++)o[e]=a.Z.unpack(t,r),r+=3;const s=t[r++],c=1===t[r++],Z=t[r++],f=p.Z.unpack(t,r);r+=p.Z.packedLength;const d=t[r++],m=1===t[r++];return(0,h.Z)(n)||(n=new M({positions:o})),n._positions=o,n.granularity=s,n.loop=c,n.arcType=Z,n._ellipsoid=f,n._projectionIndex=d,n._scene3DOnly=m,n};const V=new a.Z,W=new a.Z,Y=new a.Z,X=new a.Z;function $(t,e,n,r,i){const o=G(n,e,X),s=F(t,e,o,V),c=F(r,e,o,W);if(O.Z.equalsEpsilon(a.Z.dot(s,c),-1,O.Z.EPSILON5))return i=a.Z.cross(o,s,i),i=a.Z.normalize(i,i);i=a.Z.add(c,s,i),i=a.Z.normalize(i,i);const u=a.Z.cross(o,i,Y);return a.Z.dot(c,u)<0&&(i=a.Z.negate(i,i)),i}const J=E.Z.fromPointNormal(a.Z.ZERO,a.Z.UNIT_Y),Q=new a.Z,K=new a.Z,tt=new a.Z,et=new a.Z,nt=new a.Z,rt=new a.Z,it=new c.Z,ot=new c.Z,st=new c.Z;M.createGeometry=function(t){const e=!t._scene3DOnly;let n=t.loop;const u=t._ellipsoid,l=t.granularity,f=t.arcType,p=new I[t._projectionIndex](u),d=1e3;let g,T;const E=t._positions,x=E.length;let S,A,v,M;2===x&&(n=!1);const N=new m.Z(void 0,void 0,u);let C,q,L;const B=[E[0]];for(T=0;T<x-1;T++)S=E[T],A=E[T+1],C=b.Z.lineSegmentPlane(S,A,J,rt),!(0,h.Z)(C)||a.Z.equalsEpsilon(C,S,O.Z.EPSILON7)||a.Z.equalsEpsilon(C,A,O.Z.EPSILON7)||(t.arcType===i.Z.GEODESIC?B.push(a.Z.clone(C)):t.arcType===i.Z.RHUMB&&(L=u.cartesianToCartographic(C,it).longitude,v=u.cartesianToCartographic(S,it),M=u.cartesianToCartographic(A,ot),N.setEndPoints(v,M),q=N.findIntersectionWithLongitude(L,st),C=u.cartographicToCartesian(q,rt),!(0,h.Z)(C)||a.Z.equalsEpsilon(C,S,O.Z.EPSILON7)||a.Z.equalsEpsilon(C,A,O.Z.EPSILON7)||B.push(a.Z.clone(C)))),B.push(A);n&&(S=E[x-1],A=E[0],C=b.Z.lineSegmentPlane(S,A,J,rt),!(0,h.Z)(C)||a.Z.equalsEpsilon(C,S,O.Z.EPSILON7)||a.Z.equalsEpsilon(C,A,O.Z.EPSILON7)||(t.arcType===i.Z.GEODESIC?B.push(a.Z.clone(C)):t.arcType===i.Z.RHUMB&&(L=u.cartesianToCartographic(C,it).longitude,v=u.cartesianToCartographic(S,it),M=u.cartesianToCartographic(A,ot),N.setEndPoints(v,M),q=N.findIntersectionWithLongitude(L,st),C=u.cartographicToCartesian(q,rt),!(0,h.Z)(C)||a.Z.equalsEpsilon(C,S,O.Z.EPSILON7)||a.Z.equalsEpsilon(C,A,O.Z.EPSILON7)||B.push(a.Z.clone(C)))));let j=B.length,z=new Array(j);for(T=0;T<j;T++){const t=c.Z.fromCartesian(B[T],u);t.height=0,z[T]=t}if(z=(0,o.Z)(z,c.Z.equalsEpsilon),j=z.length,j<2)return;const U=[],F=[],V=[],W=[];let Y=Q,X=K,at=tt,ct=et,ut=nt;const lt=z[0],ht=z[1];for(Y=H(u,z[j-1],0,Y),ct=H(u,ht,0,ct),X=H(u,lt,0,X),at=H(u,lt,d,at),ut=n?$(Y,X,at,ct,ut):D(lt,ht,d,u,ut),a.Z.pack(ut,F,0),a.Z.pack(X,V,0),a.Z.pack(at,W,0),U.push(lt.latitude),U.push(lt.longitude),k(lt,ht,0,d,l,f,u,F,V,W,U),T=1;T<j-1;++T){Y=a.Z.clone(X,Y),X=a.Z.clone(ct,X);const t=z[T];H(u,t,d,at),H(u,z[T+1],0,ct),$(Y,X,at,ct,ut),g=F.length,a.Z.pack(ut,F,g),a.Z.pack(X,V,g),a.Z.pack(at,W,g),U.push(t.latitude),U.push(t.longitude),k(z[T],z[T+1],0,d,l,f,u,F,V,W,U)}const ft=z[j-1],dt=z[j-2];if(X=H(u,ft,0,X),at=H(u,ft,d,at),n){const t=z[0];Y=H(u,dt,0,Y),ct=H(u,t,0,ct),ut=$(Y,X,at,ct,ut)}else ut=D(dt,ft,d,u,ut);if(g=F.length,a.Z.pack(ut,F,g),a.Z.pack(X,V,g),a.Z.pack(at,W,g),U.push(ft.latitude),U.push(ft.longitude),n){for(k(ft,lt,0,d,l,f,u,F,V,W,U),g=F.length,T=0;T<3;++T)F[g+T]=F[T],V[g+T]=V[T],W[g+T]=W[T];U.push(lt.latitude),U.push(lt.longitude)}return function(t,e,n,i,o,c,u){let l,h;const f=e._ellipsoid,p=n.length/3-1,d=8*p,m=4*d,g=36*p,b=d>65535?new Uint32Array(g):new Uint16Array(g),T=new Float64Array(3*d),E=new Float32Array(m),x=new Float32Array(m),S=new Float32Array(m),I=new Float32Array(m),A=new Float32Array(m);let v,M,N,C;u&&(v=new Float32Array(m),M=new Float32Array(m),N=new Float32Array(m),C=new Float32Array(2*d));const q=c.length/2;let D=0;const L=bt;L.height=0;const B=Ot;B.height=0;let j=Tt,z=Et;if(u)for(h=0,l=1;l<q;l++)L.latitude=c[h],L.longitude=c[h+1],B.latitude=c[h+2],B.longitude=c[h+3],j=e.project(L,j),z=e.project(B,z),D+=a.Z.distance(j,z),h+=2;const k=i.length/3;z=a.Z.unpack(i,0,z);let U,H=0;for(h=3,l=1;l<k;l++)j=a.Z.clone(z,j),z=a.Z.unpack(i,h,z),H+=a.Z.distance(j,z),h+=3;h=3;let F=0,V=0,W=0,Y=0,X=!1,$=a.Z.unpack(n,0,Pt),J=a.Z.unpack(i,0,Et),Q=a.Z.unpack(o,0,It);if(t){Zt(Q,a.Z.unpack(n,n.length-6,xt),$,J)&&(Q=a.Z.negate(Q,Q))}let K=0,tt=0,et=0;for(l=0;l<p;l++){const t=a.Z.clone($,xt),s=a.Z.clone(J,Tt);let Z,l,p,d,m=a.Z.clone(Q,St);if(X&&(m=a.Z.negate(m,m)),$=a.Z.unpack(n,h,Pt),J=a.Z.unpack(i,h,Et),Q=a.Z.unpack(o,h,It),X=Zt(Q,t,$,J),L.latitude=c[F],L.longitude=c[F+1],B.latitude=c[F+2],B.longitude=c[F+3],u){const t=_t(L,B);Z=e.project(L,qt),l=e.project(B,Dt);const n=G(l,Z,Wt);n.y=Math.abs(n.y),p=Lt,d=Bt,0===t||a.Z.dot(n,a.Z.UNIT_Y)>R?(p=pt(e,L,m,Z,Lt),d=pt(e,B,Q,l,Bt)):1===t?(d=pt(e,B,Q,l,Bt),p.x=0,p.y=O.Z.sign(L.longitude-Math.abs(B.longitude)),p.z=0):(p=pt(e,L,m,Z,Lt),d.x=0,d.y=O.Z.sign(L.longitude-B.longitude),d.z=0)}const g=a.Z.distance(s,J),w=y.Z.fromCartesian(t,Ft),_=a.Z.subtract($,t,jt),b=a.Z.normalize(_,Ut);let q=a.Z.subtract(s,t,zt);q=a.Z.normalize(q,q);let j=a.Z.cross(b,q,Ut);j=a.Z.normalize(j,j);let z=a.Z.cross(q,m,Ht);z=a.Z.normalize(z,z);let k=a.Z.subtract(J,$,kt);k=a.Z.normalize(k,k);let nt=a.Z.cross(Q,k,Gt);nt=a.Z.normalize(nt,nt);const rt=g/H,it=K/H;let ot,st,at,ct=0,ut=0,lt=0;if(u){ct=a.Z.distance(Z,l),ot=y.Z.fromCartesian(Z,Vt),st=a.Z.subtract(l,Z,Wt),at=a.Z.normalize(st,Yt);const t=at.x;at.x=at.y,at.y=-t,ut=ct/D,lt=tt/D}for(U=0;U<8;U++){const t=Y+4*U,e=V+2*U,n=t+3,r=U<4?1:-1,i=2===U||3===U||6===U||7===U?1:-1;a.Z.pack(w.high,E,t),E[n]=_.x,a.Z.pack(w.low,x,t),x[n]=_.y,a.Z.pack(z,S,t),S[n]=_.z,a.Z.pack(nt,I,t),I[n]=rt*r,a.Z.pack(j,A,t);let o=it*i;0===o&&i<0&&(o=9),A[n]=o,u&&(v[t]=ot.high.x,v[t+1]=ot.high.y,v[t+2]=ot.low.x,v[t+3]=ot.low.y,N[t]=-p.y,N[t+1]=p.x,N[t+2]=d.y,N[t+3]=-d.x,M[t]=st.x,M[t+1]=st.y,M[t+2]=at.x,M[t+3]=at.y,C[e]=ut*r,o=lt*i,0===o&&i<0&&(o=9),C[e+1]=o)}const ht=Nt,ft=Ct,dt=vt,mt=Mt,gt=P.Z.fromCartographicArray(At,Rt),bt=r.Z.getMinimumMaximumHeights(gt,f),Ot=bt.minimumTerrainHeight,$t=bt.maximumTerrainHeight;et+=Ot,et+=$t,yt(t,s,Ot,$t,ht,dt),yt($,J,Ot,$t,ft,mt);let Jt=a.Z.multiplyByScalar(j,O.Z.EPSILON5,Xt);a.Z.add(ht,Jt,ht),a.Z.add(ft,Jt,ft),a.Z.add(dt,Jt,dt),a.Z.add(mt,Jt,mt),wt(ht,ft),wt(dt,mt),a.Z.pack(ht,T,W),a.Z.pack(ft,T,W+3),a.Z.pack(mt,T,W+6),a.Z.pack(dt,T,W+9),Jt=a.Z.multiplyByScalar(j,-2*O.Z.EPSILON5,Xt),a.Z.add(ht,Jt,ht),a.Z.add(ft,Jt,ft),a.Z.add(dt,Jt,dt),a.Z.add(mt,Jt,mt),wt(ht,ft),wt(dt,mt),a.Z.pack(ht,T,W+12),a.Z.pack(ft,T,W+15),a.Z.pack(mt,T,W+18),a.Z.pack(dt,T,W+21),F+=2,h+=3,V+=16,W+=24,Y+=32,K+=g,tt+=ct}h=0;let nt=0;for(l=0;l<p;l++){for(U=0;U<Qt;U++)b[h+U]=Jt[U]+nt;nt+=8,h+=Qt}const rt=$t;s.Z.fromVertices(n,a.Z.ZERO,3,rt[0]),s.Z.fromVertices(i,a.Z.ZERO,3,rt[1]);const it=s.Z.fromBoundingSpheres(rt);it.radius+=et/(2*p);const ot={position:new _.Z({componentDatatype:Z.Z.DOUBLE,componentsPerAttribute:3,normalize:!1,values:T}),startHiAndForwardOffsetX:Kt(E),startLoAndForwardOffsetY:Kt(x),startNormalAndForwardOffsetZ:Kt(S),endNormalAndTextureCoordinateNormalizationX:Kt(I),rightNormalAndTextureCoordinateNormalizationY:Kt(A)};u&&(ot.startHiLo2D=Kt(v),ot.offsetAndRight2D=Kt(M),ot.startEndNormals2D=Kt(N),ot.texcoordNormalization2D=new _.Z({componentDatatype:Z.Z.FLOAT,componentsPerAttribute:2,normalize:!1,values:C}));return new w.Z({attributes:ot,indices:b,boundingSphere:it})}(n,p,V,W,F,U,e)};const at=new a.Z,ct=new T.Z,ut=new x.Z;function Zt(t,e,n,r){const i=G(n,e,at),o=a.Z.dot(i,t);if(o>R||o<v){const e=G(r,n,X),i=o<v?O.Z.PI_OVER_TWO:-O.Z.PI_OVER_TWO,s=x.Z.fromAxisAngle(e,i,ut),a=T.Z.fromQuaternion(s,ct);return T.Z.multiplyByVector(a,t,t),!0}return!1}const lt=new c.Z,ht=new a.Z,ft=new a.Z;function pt(t,e,n,r,i){const o=c.Z.toCartesian(e,t._ellipsoid,ht);let s=a.Z.add(o,n,ft),u=!1;const Z=t._ellipsoid;let l=Z.cartesianToCartographic(s,lt);Math.abs(e.longitude-l.longitude)>O.Z.PI_OVER_TWO&&(u=!0,s=a.Z.subtract(o,n,ft),l=Z.cartesianToCartographic(s,lt)),l.height=0;const h=t.project(l,i);return(i=a.Z.subtract(h,r,i)).z=0,i=a.Z.normalize(i,i),u&&a.Z.negate(i,i),i}const dt=new a.Z,mt=new a.Z;function yt(t,e,n,r,i,o){const s=a.Z.subtract(e,t,dt);a.Z.normalize(s,s);const c=n-0;let u=a.Z.multiplyByScalar(s,c,mt);a.Z.add(t,u,i);const Z=r-1e3;u=a.Z.multiplyByScalar(s,Z,mt),a.Z.add(e,u,o)}const gt=new a.Z;function wt(t,e){const n=E.Z.getPointDistance(J,t),r=E.Z.getPointDistance(J,e);let i=gt;O.Z.equalsEpsilon(n,0,O.Z.EPSILON2)?(i=G(e,t,i),a.Z.multiplyByScalar(i,O.Z.EPSILON2,i),a.Z.add(t,i,t)):O.Z.equalsEpsilon(r,0,O.Z.EPSILON2)&&(i=G(t,e,i),a.Z.multiplyByScalar(i,O.Z.EPSILON2,i),a.Z.add(e,i,e))}function _t(t,e){const n=Math.abs(t.longitude),r=Math.abs(e.longitude);if(O.Z.equalsEpsilon(n,O.Z.PI,O.Z.EPSILON11)){const r=O.Z.sign(e.longitude);return t.longitude=r*(n-O.Z.EPSILON11),1}if(O.Z.equalsEpsilon(r,O.Z.PI,O.Z.EPSILON11)){const n=O.Z.sign(t.longitude);return e.longitude=n*(r-O.Z.EPSILON11),2}return 0}const bt=new c.Z,Ot=new c.Z,Tt=new a.Z,Et=new a.Z,xt=new a.Z,Pt=new a.Z,St=new a.Z,It=new a.Z,At=[bt,Ot],Rt=new P.Z,vt=new a.Z,Mt=new a.Z,Nt=new a.Z,Ct=new a.Z,qt=new a.Z,Dt=new a.Z,Lt=new a.Z,Bt=new a.Z,jt=new a.Z,zt=new a.Z,kt=new a.Z,Ut=new a.Z,Ht=new a.Z,Gt=new a.Z,Ft=new y.Z,Vt=new y.Z,Wt=new a.Z,Yt=new a.Z,Xt=new a.Z,$t=[new s.Z,new s.Z],Jt=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],Qt=Jt.length;function Kt(t){return new _.Z({componentDatatype:Z.Z.FLOAT,componentsPerAttribute:4,normalize:!1,values:t})}M._projectNormal=pt;const te=M},66246:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(88779),i=n(54485);function o(t,e,n){this.heading=(0,r.Z)(t,0),this.pitch=(0,r.Z)(e,0),this.range=(0,r.Z)(n,0)}o.clone=function(t,e){if((0,i.Z)(t))return(0,i.Z)(e)||(e=new o),e.heading=t.heading,e.pitch=t.pitch,e.range=t.range,e};const s=o},55264:(t,e,n)=>{n.d(e,{Z:()=>c});var r=n(88779),i=n(54485),o=n(20176),s=n(22874);function a(t,e,n){this.heading=(0,r.Z)(t,0),this.pitch=(0,r.Z)(e,0),this.roll=(0,r.Z)(n,0)}a.fromQuaternion=function(t,e){if(!(0,i.Z)(t))throw new o.Z("quaternion is required");(0,i.Z)(e)||(e=new a);const n=2*(t.w*t.y-t.z*t.x),r=1-2*(t.x*t.x+t.y*t.y),c=2*(t.w*t.x+t.y*t.z),u=1-2*(t.y*t.y+t.z*t.z),Z=2*(t.w*t.z+t.x*t.y);return e.heading=-Math.atan2(Z,u),e.roll=Math.atan2(c,r),e.pitch=-s.Z.asinClamped(n),e},a.fromDegrees=function(t,e,n,r){if(!(0,i.Z)(t))throw new o.Z("heading is required");if(!(0,i.Z)(e))throw new o.Z("pitch is required");if(!(0,i.Z)(n))throw new o.Z("roll is required");return(0,i.Z)(r)||(r=new a),r.heading=t*s.Z.RADIANS_PER_DEGREE,r.pitch=e*s.Z.RADIANS_PER_DEGREE,r.roll=n*s.Z.RADIANS_PER_DEGREE,r},a.clone=function(t,e){if((0,i.Z)(t))return(0,i.Z)(e)?(e.heading=t.heading,e.pitch=t.pitch,e.roll=t.roll,e):new a(t.heading,t.pitch,t.roll)},a.equals=function(t,e){return t===e||(0,i.Z)(t)&&(0,i.Z)(e)&&t.heading===e.heading&&t.pitch===e.pitch&&t.roll===e.roll},a.equalsEpsilon=function(t,e,n,r){return t===e||(0,i.Z)(t)&&(0,i.Z)(e)&&s.Z.equalsEpsilon(t.heading,e.heading,n,r)&&s.Z.equalsEpsilon(t.pitch,e.pitch,n,r)&&s.Z.equalsEpsilon(t.roll,e.roll,n,r)},a.prototype.clone=function(t){return a.clone(this,t)},a.prototype.equals=function(t){return a.equals(this,t)},a.prototype.equalsEpsilon=function(t,e,n){return a.equalsEpsilon(this,t,e,n)},a.prototype.toString=function(){return`(${this.heading}, ${this.pitch}, ${this.roll})`};const c=a},49418:(t,e,n)=>{n.d(e,{Z:()=>c});var r=n(17497),i=n(88779),o=n(54485);function s(t){r.Z.typeOf.object("options",t),r.Z.defined("options.comparator",t.comparator),this._comparator=t.comparator,this._array=[],this._length=0,this._maximumLength=void 0}function a(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}Object.defineProperties(s.prototype,{length:{get:function(){return this._length}},internalArray:{get:function(){return this._array}},maximumLength:{get:function(){return this._maximumLength},set:function(t){r.Z.typeOf.number.greaterThanOrEquals("maximumLength",t,0);const e=this._length;if(t<e){const n=this._array;for(let r=t;r<e;++r)n[r]=void 0;this._length=t,n.length=t}this._maximumLength=t}},comparator:{get:function(){return this._comparator}}}),s.prototype.reserve=function(t){t=(0,i.Z)(t,this._length),this._array.length=t},s.prototype.heapify=function(t){t=(0,i.Z)(t,0);const e=this._length,n=this._comparator,r=this._array;let o=-1,s=!0;for(;s;){const i=2*(t+1),c=i-1;o=c<e&&n(r[c],r[t])<0?c:t,i<e&&n(r[i],r[o])<0&&(o=i),o!==t?(a(r,o,t),t=o):s=!1}},s.prototype.resort=function(){const t=this._length;for(let e=Math.ceil(t/2);e>=0;--e)this.heapify(e)},s.prototype.insert=function(t){r.Z.defined("element",t);const e=this._array,n=this._comparator,i=this._maximumLength;let s,c=this._length++;for(c<e.length?e[c]=t:e.push(t);0!==c;){const t=Math.floor((c-1)/2);if(!(n(e[c],e[t])<0))break;a(e,c,t),c=t}return(0,o.Z)(i)&&this._length>i&&(s=e[i],this._length=i),s},s.prototype.pop=function(t){if(t=(0,i.Z)(t,0),0===this._length)return;r.Z.typeOf.number.lessThan("index",t,this._length);const e=this._array,n=e[t];return a(e,t,--this._length),this.heapify(t),e[this._length]=void 0,n};const c=s},4826:(t,e,n)=>{n.d(e,{Z:()=>r});const r=Object.freeze({NONE:0,LERC:1})},30646:(t,e,n)=>{n.d(e,{Z:()=>I});var r=n(52351),i=n(93517),o=n(17497),s=n(88779),a=n(54485),c=n(20176),u=n(64729),Z=n(4826),l=n(65170),h=n(22874),f=n(42428),p=n(34152),d=n(7612),m=n(33598),y=n(87569),g=n(54594),w=n(87264);function _(t){if(!(0,a.Z)(t)||!(0,a.Z)(t.buffer))throw new c.Z("options.buffer is required.");if(!(0,a.Z)(t.width))throw new c.Z("options.width is required.");if(!(0,a.Z)(t.height))throw new c.Z("options.height is required.");this._buffer=t.buffer,this._width=t.width,this._height=t.height,this._childTileMask=(0,s.Z)(t.childTileMask,15),this._encoding=(0,s.Z)(t.encoding,Z.Z.NONE);const e=l.Z.DEFAULT_STRUCTURE;let n=t.structure;(0,a.Z)(n)?n!==e&&(n.heightScale=(0,s.Z)(n.heightScale,e.heightScale),n.heightOffset=(0,s.Z)(n.heightOffset,e.heightOffset),n.elementsPerHeight=(0,s.Z)(n.elementsPerHeight,e.elementsPerHeight),n.stride=(0,s.Z)(n.stride,e.stride),n.elementMultiplier=(0,s.Z)(n.elementMultiplier,e.elementMultiplier),n.isBigEndian=(0,s.Z)(n.isBigEndian,e.isBigEndian)):n=e,this._structure=n,this._createdByUpsampling=(0,s.Z)(t.createdByUpsampling,!1),this._waterMask=t.waterMask,this._skirtHeight=void 0,this._bufferType=this._encoding===Z.Z.LERC?Float32Array:this._buffer.constructor,this._mesh=void 0}Object.defineProperties(_.prototype,{credits:{get:function(){}},waterMask:{get:function(){return this._waterMask}},childTileMask:{get:function(){return this._childTileMask}}});const b="createVerticesFromHeightmap",O=new d.Z(b),T=new d.Z(b,m.Z.maximumAsynchronousTasks);function E(t,e,n,r,i,o,s,a,c){const u=(a-i.west)*(o-1)/(i.east-i.west),Z=(c-i.south)*(s-1)/(i.north-i.south);let l=0|u,h=l+1;h>=o&&(h=o-1,l=o-2);let f=0|Z,p=f+1;p>=s&&(p=s-1,f=s-2);const d=Z-f;f=s-1-f,p=s-1-p;return x(u-l,d,(e.decodeHeight(t,f*o+l)-n)/r,(e.decodeHeight(t,f*o+h)-n)/r,(e.decodeHeight(t,p*o+l)-n)/r,(e.decodeHeight(t,p*o+h)-n)/r)}function x(t,e,n,r,i,o){return e<t?n+t*(r-n)+e*(o-r):n+t*(o-i)+e*(i-n)}function P(t,e,n,r,i,o){o*=r;let s,a=0;if(i)for(s=0;s<e;++s)a=a*n+t[o+s];else for(s=e-1;s>=0;--s)a=a*n+t[o+s];return a}function S(t,e,n,r,i,o,s,a){let c;if(s*=i,o)for(c=0;c<e-1;++c)t[s+c]=a/r|0,a-=t[s+c]*r,r/=n;else for(c=e-1;c>0;--c)t[s+c]=a/r|0,a-=t[s+c]*r,r/=n;t[s+c]=a}_.prototype.createMesh=function(t){t=(0,s.Z)(t,s.Z.EMPTY_OBJECT),o.Z.typeOf.object("options.tilingScheme",t.tilingScheme),o.Z.typeOf.number("options.x",t.x),o.Z.typeOf.number("options.y",t.y),o.Z.typeOf.number("options.level",t.level);const e=t.tilingScheme,n=t.x,c=t.y,Z=t.level,l=(0,s.Z)(t.exaggeration,1),h=(0,s.Z)(t.exaggerationRelativeHeight,0),d=(0,s.Z)(t.throttle,!0),m=e.ellipsoid,_=e.tileXYToNativeRectangle(n,c,Z),b=e.tileXYToRectangle(n,c,Z),E=m.cartographicToCartesian(p.Z.center(b)),x=this._structure,P=w.Z.getEstimatedLevelZeroGeometricErrorForAHeightmap(m,this._width,e.getNumberOfXTilesAtLevel(0))/(1<<Z);this._skirtHeight=Math.min(4*P,1e3);const S=(d?T:O).scheduleTask({heightmap:this._buffer,structure:x,includeWebMercatorT:!0,width:this._width,height:this._height,nativeRectangle:_,rectangle:b,relativeToCenter:E,ellipsoid:m,skirtHeight:this._skirtHeight,isGeographic:e.projection instanceof u.Z,exaggeration:l,exaggerationRelativeHeight:h,encoding:this._encoding});if(!(0,a.Z)(S))return;const I=this;return Promise.resolve(S).then((function(t){let e;e=I._skirtHeight>0?w.Z.getRegularGridAndSkirtIndicesAndEdgeIndices(t.gridWidth,t.gridHeight):w.Z.getRegularGridIndicesAndEdgeIndices(t.gridWidth,t.gridHeight);const n=t.gridWidth*t.gridHeight;return I._mesh=new g.Z(E,new Float32Array(t.vertices),e.indices,e.indexCountWithoutSkirts,n,t.minimumHeight,t.maximumHeight,r.Z.clone(t.boundingSphere3D),i.Z.clone(t.occludeePointInScaledSpace),t.numberOfAttributes,f.Z.clone(t.orientedBoundingBox),y.Z.clone(t.encoding),e.westIndicesSouthToNorth,e.southIndicesEastToWest,e.eastIndicesNorthToSouth,e.northIndicesWestToEast),I._buffer=void 0,I._mesh}))},_.prototype._createMeshSync=function(t){o.Z.typeOf.object("options.tilingScheme",t.tilingScheme),o.Z.typeOf.number("options.x",t.x),o.Z.typeOf.number("options.y",t.y),o.Z.typeOf.number("options.level",t.level);const e=t.tilingScheme,n=t.x,r=t.y,i=t.level,a=(0,s.Z)(t.exaggeration,1),c=(0,s.Z)(t.exaggerationRelativeHeight,0),Z=e.ellipsoid,h=e.tileXYToNativeRectangle(n,r,i),f=e.tileXYToRectangle(n,r,i),d=Z.cartographicToCartesian(p.Z.center(f)),m=this._structure,y=w.Z.getEstimatedLevelZeroGeometricErrorForAHeightmap(Z,this._width,e.getNumberOfXTilesAtLevel(0))/(1<<i);this._skirtHeight=Math.min(4*y,1e3);const _=l.Z.computeVertices({heightmap:this._buffer,structure:m,includeWebMercatorT:!0,width:this._width,height:this._height,nativeRectangle:h,rectangle:f,relativeToCenter:d,ellipsoid:Z,skirtHeight:this._skirtHeight,isGeographic:e.projection instanceof u.Z,exaggeration:a,exaggerationRelativeHeight:c});let b;this._buffer=void 0,b=this._skirtHeight>0?w.Z.getRegularGridAndSkirtIndicesAndEdgeIndices(this._width,this._height):w.Z.getRegularGridIndicesAndEdgeIndices(this._width,this._height);const O=_.gridWidth*_.gridHeight;return this._mesh=new g.Z(d,_.vertices,b.indices,b.indexCountWithoutSkirts,O,_.minimumHeight,_.maximumHeight,_.boundingSphere3D,_.occludeePointInScaledSpace,_.encoding.stride,_.orientedBoundingBox,_.encoding,b.westIndicesSouthToNorth,b.southIndicesEastToWest,b.eastIndicesNorthToSouth,b.northIndicesWestToEast),this._mesh},_.prototype.interpolateHeight=function(t,e,n){const r=this._width,i=this._height,o=this._structure,s=o.stride,c=o.elementsPerHeight,u=o.elementMultiplier,l=o.isBigEndian,h=o.heightOffset,f=o.heightScale,p=(0,a.Z)(this._mesh),d=this._encoding===Z.Z.LERC;if(!p&&d)return;let m;if(p){m=E(this._mesh.vertices,this._mesh.encoding,h,f,t,r,i,e,n)}else m=function(t,e,n,r,i,o,s,a,c,u){const Z=(c-o.west)*(s-1)/(o.east-o.west),l=(u-o.south)*(a-1)/(o.north-o.south);let h=0|Z,f=h+1;f>=s&&(f=s-1,h=s-2);let p=0|l,d=p+1;d>=a&&(d=a-1,p=a-2);const m=Z-h,y=l-p;p=a-1-p,d=a-1-d;const g=P(t,e,n,r,i,p*s+h),w=P(t,e,n,r,i,p*s+f),_=P(t,e,n,r,i,d*s+h),b=P(t,e,n,r,i,d*s+f);return x(m,y,g,w,_,b)}(this._buffer,c,u,s,l,t,r,i,e,n),m=m*f+h;return m},_.prototype.upsample=function(t,e,n,r,i,o,s){if(!(0,a.Z)(t))throw new c.Z("tilingScheme is required.");if(!(0,a.Z)(e))throw new c.Z("thisX is required.");if(!(0,a.Z)(n))throw new c.Z("thisY is required.");if(!(0,a.Z)(r))throw new c.Z("thisLevel is required.");if(!(0,a.Z)(i))throw new c.Z("descendantX is required.");if(!(0,a.Z)(o))throw new c.Z("descendantY is required.");if(!(0,a.Z)(s))throw new c.Z("descendantLevel is required.");if(s-r>1)throw new c.Z("Upsampling through more than one level at a time is not currently supported.");const u=this._mesh;if(!(0,a.Z)(u))return;const Z=this._width,l=this._height,f=this._structure,p=f.stride,d=new this._bufferType(Z*l*p),m=u.vertices,y=u.encoding,g=t.tileXYToRectangle(e,n,r),w=t.tileXYToRectangle(i,o,s),b=f.heightOffset,O=f.heightScale,T=f.elementsPerHeight,x=f.elementMultiplier,P=f.isBigEndian,I=Math.pow(x,T-1);for(let t=0;t<l;++t){const e=h.Z.lerp(w.north,w.south,t/(l-1));for(let n=0;n<Z;++n){let r=E(m,y,b,O,g,Z,l,h.Z.lerp(w.west,w.east,n/(Z-1)),e);r=r<f.lowestEncodedHeight?f.lowestEncodedHeight:r,r=r>f.highestEncodedHeight?f.highestEncodedHeight:r,S(d,T,x,I,p,P,t*Z+n,r)}}return Promise.resolve(new _({buffer:d,width:Z,height:l,childTileMask:0,structure:this._structure,createdByUpsampling:!0}))},_.prototype.isChildAvailable=function(t,e,n,r){if(!(0,a.Z)(t))throw new c.Z("thisX is required.");if(!(0,a.Z)(e))throw new c.Z("thisY is required.");if(!(0,a.Z)(n))throw new c.Z("childX is required.");if(!(0,a.Z)(r))throw new c.Z("childY is required.");let i=2;return n!==2*t&&++i,r!==2*e&&(i-=2),0!=(this._childTileMask&1<<i)},_.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling};const I=_},65170:(t,e,n)=>{n.d(e,{Z:()=>E});var r=n(22099),i=n(52351),o=n(59015),s=n(93517),a=n(88779),c=n(54485),u=n(20176),Z=n(99996),l=n(83674),h=n(22874),f=n(71118),p=n(42428),d=n(34152),m=n(87569),y=n(7004),g=n(65412);const w={};w.DEFAULT_STRUCTURE=Object.freeze({heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1});const _=new s.Z,b=new f.Z,O=new s.Z,T=new s.Z;w.computeVertices=function(t){if(!(0,c.Z)(t)||!(0,c.Z)(t.heightmap))throw new u.Z("options.heightmap is required.");if(!(0,c.Z)(t.width)||!(0,c.Z)(t.height))throw new u.Z("options.width and options.height are required.");if(!(0,c.Z)(t.nativeRectangle))throw new u.Z("options.nativeRectangle is required.");if(!(0,c.Z)(t.skirtHeight))throw new u.Z("options.skirtHeight is required.");const e=Math.cos,n=Math.sin,E=Math.sqrt,x=Math.atan,P=Math.exp,S=h.Z.PI_OVER_TWO,I=h.Z.toRadians,A=t.heightmap,R=t.width,v=t.height,M=t.skirtHeight,N=M>0,C=(0,a.Z)(t.isGeographic,!0),q=(0,a.Z)(t.ellipsoid,Z.Z.WGS84),D=1/q.maximumRadius,L=d.Z.clone(t.nativeRectangle),B=d.Z.clone(t.rectangle);let j,z,k,U;(0,c.Z)(B)?(j=B.west,z=B.south,k=B.east,U=B.north):C?(j=I(L.west),z=I(L.south),k=I(L.east),U=I(L.north)):(j=L.west*D,z=S-2*x(P(-L.south*D)),k=L.east*D,U=S-2*x(P(-L.north*D)));let H=t.relativeToCenter;const G=(0,c.Z)(H);H=G?H:s.Z.ZERO;const F=(0,a.Z)(t.includeWebMercatorT,!1),V=(0,a.Z)(t.exaggeration,1),W=(0,a.Z)(t.exaggerationRelativeHeight,0),Y=1!==V,X=(0,a.Z)(t.structure,w.DEFAULT_STRUCTURE),$=(0,a.Z)(X.heightScale,w.DEFAULT_STRUCTURE.heightScale),J=(0,a.Z)(X.heightOffset,w.DEFAULT_STRUCTURE.heightOffset),Q=(0,a.Z)(X.elementsPerHeight,w.DEFAULT_STRUCTURE.elementsPerHeight),K=(0,a.Z)(X.stride,w.DEFAULT_STRUCTURE.stride),tt=(0,a.Z)(X.elementMultiplier,w.DEFAULT_STRUCTURE.elementMultiplier),et=(0,a.Z)(X.isBigEndian,w.DEFAULT_STRUCTURE.isBigEndian);let nt=d.Z.computeWidth(L),rt=d.Z.computeHeight(L);const it=nt/(R-1),ot=rt/(v-1);C||(nt*=D,rt*=D);const st=q.radiiSquared,at=st.x,ct=st.y,ut=st.z;let Zt=65536,lt=-65536;const ht=y.Z.eastNorthUpToFixedFrame(H,q),ft=f.Z.inverseTransformation(ht,b);let pt,dt;F&&(pt=g.Z.geodeticLatitudeToMercatorAngle(z),dt=1/(g.Z.geodeticLatitudeToMercatorAngle(U)-pt));const mt=O;mt.x=Number.POSITIVE_INFINITY,mt.y=Number.POSITIVE_INFINITY,mt.z=Number.POSITIVE_INFINITY;const yt=T;yt.x=Number.NEGATIVE_INFINITY,yt.y=Number.NEGATIVE_INFINITY,yt.z=Number.NEGATIVE_INFINITY;let gt=Number.POSITIVE_INFINITY;const wt=R*v,_t=wt+(M>0?2*R+2*v:0),bt=new Array(_t),Ot=new Array(_t),Tt=new Array(_t),Et=F?new Array(_t):[],xt=Y?new Array(_t):[];let Pt=0,St=v,It=0,At=R;N&&(--Pt,++St,--It,++At);const Rt=1e-5;for(let t=Pt;t<St;++t){let r=t;r<0&&(r=0),r>=v&&(r=v-1);let i=L.north-ot*r;i=C?I(i):S-2*x(P(-i*D));let a=(i-z)/(U-z);a=h.Z.clamp(a,0,1);const c=t===Pt,u=t===St-1;M>0&&(c?i+=Rt*rt:u&&(i-=Rt*rt));const Z=e(i),l=n(i),p=ut*l;let d;F&&(d=(g.Z.geodeticLatitudeToMercatorAngle(i)-pt)*dt);for(let t=It;t<At;++t){let i=t;i<0&&(i=0),i>=R&&(i=R-1);const m=r*(R*K)+i*K;let y;if(1===Q)y=A[m];else{let t;if(y=0,et)for(t=0;t<Q;++t)y=y*tt+A[m+t];else for(t=Q-1;t>=0;--t)y=y*tt+A[m+t]}y=y*$+J,lt=Math.max(lt,y),Zt=Math.min(Zt,y);let g=L.west+it*i;C?g=I(g):g*=D;let w=(g-j)/(k-j);w=h.Z.clamp(w,0,1);let b=r*R+i;if(M>0){const e=t===It,n=t===At-1,o=c||u||e||n;if((c||u)&&(e||n))continue;o&&(y-=M,e?(b=wt+(v-r-1),g-=Rt*nt):u?b=wt+v+(R-i-1):n?(b=wt+v+R+r,g+=Rt*nt):c&&(b=wt+v+R+v+i))}const O=Z*e(g),T=Z*n(g),x=at*O,P=ct*T,S=1/E(x*O+P*T+p*l),N=x*S,B=P*S,z=p*S,U=new s.Z;U.x=N+O*y,U.y=B+T*y,U.z=z+l*y,f.Z.multiplyByPoint(ft,U,_),s.Z.minimumByComponent(_,mt,mt),s.Z.maximumByComponent(_,yt,yt),gt=Math.min(gt,y),bt[b]=U,Tt[b]=new o.Z(w,a),Ot[b]=y,F&&(Et[b]=d),Y&&(xt[b]=q.geodeticSurfaceNormal(U))}}const vt=i.Z.fromPoints(bt);let Mt,Nt;if((0,c.Z)(B)&&(Mt=p.Z.fromRectangle(B,Zt,lt,q)),G){Nt=new l.Z(q).computeHorizonCullingPointPossiblyUnderEllipsoid(H,bt,Zt)}const Ct=new r.Z(mt,yt,H),qt=new m.Z(H,Ct,gt,lt,ht,!1,F,Y,V,W),Dt=new Float32Array(_t*qt.stride);let Lt=0;for(let t=0;t<_t;++t)Lt=qt.encode(Dt,Lt,bt[t],Tt[t],Ot[t],void 0,Et[t],xt[t]);return{vertices:Dt,maximumHeight:lt,minimumHeight:Zt,encoding:qt,boundingSphere3D:vt,orientedBoundingBox:Mt,occludeePointInScaledSpace:Nt}};const E=w},34474:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(88779),i=n(54485),o=n(20176),s=n(22874);const a=s.Z.factorial;function c(t,e,n,r,i,o){let s,a,u,Z=0;if(r>0){for(a=0;a<i;a++){for(s=!1,u=0;u<o.length&&!s;u++)a===o[u]&&(s=!0);s||(o.push(a),Z+=c(t,e,n,r-1,i,o),o.splice(o.length-1,1))}return Z}for(Z=1,a=0;a<i;a++){for(s=!1,u=0;u<o.length&&!s;u++)a===o[u]&&(s=!0);s||(Z*=t-n[e[a]])}return Z}const u={type:"Hermite",getRequiredDataPoints:function(t,e){if(e=(0,r.Z)(e,0),!(0,i.Z)(t))throw new o.Z("degree is required.");if(t<0)throw new o.Z("degree must be 0 or greater.");if(e<0)throw new o.Z("inputOrder must be 0 or greater.");return Math.max(Math.floor((t+1)/(e+1)),2)},interpolateOrderZero:function(t,e,n,r,o){let s,u,Z,l,h,f;(0,i.Z)(o)||(o=new Array(r));const p=e.length,d=new Array(r);for(s=0;s<r;s++){o[s]=0;const t=new Array(p);for(d[s]=t,u=0;u<p;u++)t[u]=[]}const m=p,y=new Array(m);for(s=0;s<m;s++)y[s]=s;let g=p-1;for(l=0;l<r;l++){for(u=0;u<m;u++)f=y[u]*r+l,d[l][0].push(n[f]);for(s=1;s<m;s++){let t=!1;for(u=0;u<m-s;u++){const i=e[y[u]],o=e[y[u+s]];let c;o-i<=0?(f=y[u]*r+r*s+l,c=n[f],d[l][s].push(c/a(s))):(c=d[l][s-1][u+1]-d[l][s-1][u],d[l][s].push(c/(o-i))),t=t||0!==c}t||(g=s-1)}}for(Z=0,h=0;Z<=0;Z++)for(s=Z;s<=g;s++){const n=c(t,y,e,Z,s,[]);for(l=0;l<r;l++){const t=d[l][s][0];o[l+Z*r]+=t*n}}return o}},Z=[];u.interpolate=function(t,e,n,r,o,a,u){const l=r*(a+1);(0,i.Z)(u)||(u=new Array(l));for(let t=0;t<l;t++)u[t]=0;const h=e.length,f=new Array(h*(o+1));let p;for(p=0;p<h;p++)for(let t=0;t<o+1;t++)f[p*(o+1)+t]=p;const d=f.length,m=Z,y=function(t,e,n,r,i,o){let a,c,u=-1;const Z=e.length,l=Z*(Z+1)/2;for(let h=0;h<i;h++){const f=Math.floor(h*l);for(a=0;a<Z;a++)c=e[a]*i*(o+1)+h,t[f+a]=r[c];for(let l=1;l<Z;l++){let p=0;const d=Math.floor(l*(1-l)/2)+Z*l;let m=!1;for(a=0;a<Z-l;a++){const u=n[e[a]],y=n[e[a+l]];let g,w;if(y-u<=0)c=e[a]*i*(o+1)+i*l+h,g=r[c],w=g/s.Z.factorial(l),t[f+d+p]=w,p++;else{const e=Math.floor((l-1)*(2-l)/2)+Z*(l-1);g=t[f+e+a+1]-t[f+e+a],w=g/(y-u),t[f+d+p]=w,p++}m=m||0!==g}m&&(u=Math.max(u,l))}}return u}(m,f,e,n,r,o),g=[],w=d*(d+1)/2,_=Math.min(y,a);for(let n=0;n<=_;n++)for(p=n;p<=y;p++){g.length=0;const i=c(t,f,e,n,p,g),o=Math.floor(p*(1-p)/2)+d*p;for(let t=0;t<r;t++){const e=m[Math.floor(t*w)+o];u[t+n*r]+=e*i}}return u};const l=u},29695:(t,e,n)=>{n.d(e,{Z:()=>w});var r=n(93517),i=n(90868),o=n(88779),s=n(54485),a=n(20176),c=n(94292),u=n(71118),Z=n(69070),l=n(2290);const h=[],f=[],p=[],d=[];function m(t){const e=(t=(0,o.Z)(t,o.Z.EMPTY_OBJECT)).points,n=t.times,r=t.inTangents,i=t.outTangents;if(!((0,s.Z)(e)&&(0,s.Z)(n)&&(0,s.Z)(r)&&(0,s.Z)(i)))throw new a.Z("times, points, inTangents, and outTangents are required.");if(e.length<2)throw new a.Z("points.length must be greater than or equal to 2.");if(n.length!==e.length)throw new a.Z("times.length must be equal to points.length.");if(r.length!==i.length||r.length!==e.length-1)throw new a.Z("inTangents and outTangents must have a length equal to points.length - 1.");if(this._times=n,this._points=e,this._pointType=Z.Z.getPointType(e[0]),this._pointType!==Z.Z.getPointType(r[0])||this._pointType!==Z.Z.getPointType(i[0]))throw new a.Z("inTangents and outTangents must be of the same type as points.");this._inTangents=r,this._outTangents=i,this._lastTimeIndex=0}Object.defineProperties(m.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}},inTangents:{get:function(){return this._inTangents}},outTangents:{get:function(){return this._outTangents}}}),m.createC1=function(t){const e=(t=(0,o.Z)(t,o.Z.EMPTY_OBJECT)).times,n=t.points,r=t.tangents;if(!(0,s.Z)(n)||!(0,s.Z)(e)||!(0,s.Z)(r))throw new a.Z("points, times and tangents are required.");if(n.length<2)throw new a.Z("points.length must be greater than or equal to 2.");if(e.length!==n.length||e.length!==r.length)throw new a.Z("times, points and tangents must have the same length.");const i=r.slice(0,r.length-1);return new m({times:e,points:n,inTangents:r.slice(1,r.length),outTangents:i})},m.createNaturalCubic=function(t){const e=(t=(0,o.Z)(t,o.Z.EMPTY_OBJECT)).times,n=t.points;if(!(0,s.Z)(n)||!(0,s.Z)(e))throw new a.Z("points and times are required.");if(n.length<2)throw new a.Z("points.length must be greater than or equal to 2.");if(e.length!==n.length)throw new a.Z("times.length must be equal to points.length.");if(n.length<3)return new c.Z({points:n,times:e});const i=function(t){const e=h,n=p,i=f,o=d;let a;e.length=n.length=t.length-1,i.length=o.length=t.length,e[0]=n[0]=1,i[0]=2;let c=o[0];for((0,s.Z)(c)||(c=o[0]=new r.Z),r.Z.subtract(t[1],t[0],c),r.Z.multiplyByScalar(c,3,c),a=1;a<e.length;++a)e[a]=n[a]=1,i[a]=4,c=o[a],(0,s.Z)(c)||(c=o[a]=new r.Z),r.Z.subtract(t[a+1],t[a-1],c),r.Z.multiplyByScalar(c,3,c);return i[a]=2,c=o[a],(0,s.Z)(c)||(c=o[a]=new r.Z),r.Z.subtract(t[a],t[a-1],c),r.Z.multiplyByScalar(c,3,c),l.Z.solve(e,i,n,o)}(n),u=i.slice(0,i.length-1);return new m({times:e,points:n,inTangents:i.slice(1,i.length),outTangents:u})},m.createClampedCubic=function(t){const e=(t=(0,o.Z)(t,o.Z.EMPTY_OBJECT)).times,n=t.points,i=t.firstTangent,u=t.lastTangent;if(!((0,s.Z)(n)&&(0,s.Z)(e)&&(0,s.Z)(i)&&(0,s.Z)(u)))throw new a.Z("points, times, firstTangent and lastTangent are required.");if(n.length<2)throw new a.Z("points.length must be greater than or equal to 2.");if(e.length!==n.length)throw new a.Z("times.length must be equal to points.length.");const y=Z.Z.getPointType(n[0]);if(y!==Z.Z.getPointType(i)||y!==Z.Z.getPointType(u))throw new a.Z("firstTangent and lastTangent must be of the same type as points.");if(n.length<3)return new c.Z({points:n,times:e});const g=function(t,e,n){const i=h,o=p,a=f,c=d;let u;i.length=o.length=t.length-1,a.length=c.length=t.length,i[0]=a[0]=1,o[0]=0;let Z=c[0];for((0,s.Z)(Z)||(Z=c[0]=new r.Z),r.Z.clone(e,Z),u=1;u<i.length-1;++u)i[u]=o[u]=1,a[u]=4,Z=c[u],(0,s.Z)(Z)||(Z=c[u]=new r.Z),r.Z.subtract(t[u+1],t[u-1],Z),r.Z.multiplyByScalar(Z,3,Z);return i[u]=0,o[u]=1,a[u]=4,Z=c[u],(0,s.Z)(Z)||(Z=c[u]=new r.Z),r.Z.subtract(t[u+1],t[u-1],Z),r.Z.multiplyByScalar(Z,3,Z),a[u+1]=1,Z=c[u+1],(0,s.Z)(Z)||(Z=c[u+1]=new r.Z),r.Z.clone(n,Z),l.Z.solve(i,a,o,c)}(n,i,u),w=g.slice(0,g.length-1);return new m({times:e,points:n,inTangents:g.slice(1,g.length),outTangents:w})},m.hermiteCoefficientMatrix=new u.Z(2,-3,0,1,-2,3,0,0,1,-2,1,0,1,-1,0,0),m.prototype.findTimeInterval=Z.Z.prototype.findTimeInterval;const y=new i.Z,g=new r.Z;m.prototype.wrapTime=Z.Z.prototype.wrapTime,m.prototype.clampTime=Z.Z.prototype.clampTime,m.prototype.evaluate=function(t,e){const n=this.points,r=this.times,i=this.inTangents,o=this.outTangents;this._lastTimeIndex=this.findTimeInterval(t,this._lastTimeIndex);const a=this._lastTimeIndex,c=r[a+1]-r[a],Z=(t-r[a])/c,l=y;l.z=Z,l.y=Z*Z,l.x=l.y*Z,l.w=1;const h=u.Z.multiplyByVector(m.hermiteCoefficientMatrix,l,l);h.z*=c,h.w*=c;const f=this._pointType;return f===Number?n[a]*h.x+n[a+1]*h.y+o[a]*h.z+i[a]*h.w:((0,s.Z)(e)||(e=new f),e=f.multiplyByScalar(n[a],h.x,e),f.multiplyByScalar(n[a+1],h.y,g),f.add(e,g,e),f.multiplyByScalar(o[a],h.z,g),f.add(e,g,e),f.multiplyByScalar(i[a],h.w,g),f.add(e,g,e))};const w=m},66590:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(17497),i=n(20176);const o={};function s(t,e,n,r){if(0!==r)return;1===n&&(e.x=t-1-e.x,e.y=t-1-e.y);const i=e.x;e.x=e.y,e.y=i}o.encode2D=function(t,e,n){const o=Math.pow(2,t);if(r.Z.typeOf.number("level",t),r.Z.typeOf.number("x",e),r.Z.typeOf.number("y",n),t<1)throw new i.Z("Hilbert level cannot be less than 1.");if(e<0||e>=o||n<0||n>=o)throw new i.Z("Invalid coordinates for given level.");const a={x:e,y:n};let c,u,Z,l=BigInt(0);for(Z=o/2;Z>0;Z/=2)c=(a.x&Z)>0?1:0,u=(a.y&Z)>0?1:0,l+=BigInt((3*c^u)*Z*Z),s(o,a,c,u);return l},o.decode2D=function(t,e){if(r.Z.typeOf.number("level",t),r.Z.typeOf.bigint("index",e),t<1)throw new i.Z("Hilbert level cannot be less than 1.");if(e<BigInt(0)||e>=BigInt(Math.pow(4,t)))throw new i.Z("Hilbert index exceeds valid maximum for given level.");const n=Math.pow(2,t),o={x:0,y:0};let a,c,u,Z;for(u=1,Z=e;u<n;u*=2)a=1&Number(Z/BigInt(2)),c=1&Number(Z^BigInt(a)),s(u,o,a,c),o.x+=u*a,o.y+=u*c,Z/=BigInt(4);return[o.x,o.y]};const a=o},17158:(t,e,n)=>{n.d(e,{Z:()=>T});var r=n(54485),i=n(7991),o=n(97262),s=n(22874),a=n(4230);const c={},u=-.0529921,Z=-.1059842,l=13.0120009,h=13.3407154,f=.9856003,p=26.4057084,d=13.064993,m=.3287146,y=1.7484877,g=-.1589763,w=.0036096,_=.1643573,b=12.9590088;let O=new o.Z;c.ComputeMoon=function(t,e){(0,r.Z)(t)||(t=o.Z.now()),O=o.Z.addSeconds(t,32.184,O);const n=o.Z.totalDays(O)-2451545,c=n/a.Z.DAYS_PER_JULIAN_CENTURY,T=(125.045+u*n)*s.Z.RADIANS_PER_DEGREE,E=(250.089+Z*n)*s.Z.RADIANS_PER_DEGREE,x=(260.008+l*n)*s.Z.RADIANS_PER_DEGREE,P=(176.625+h*n)*s.Z.RADIANS_PER_DEGREE,S=(357.529+f*n)*s.Z.RADIANS_PER_DEGREE,I=(311.589+p*n)*s.Z.RADIANS_PER_DEGREE,A=(134.963+d*n)*s.Z.RADIANS_PER_DEGREE,R=(276.617+m*n)*s.Z.RADIANS_PER_DEGREE,v=(34.226+y*n)*s.Z.RADIANS_PER_DEGREE,M=(15.134+g*n)*s.Z.RADIANS_PER_DEGREE,N=(119.743+w*n)*s.Z.RADIANS_PER_DEGREE,C=(239.961+_*n)*s.Z.RADIANS_PER_DEGREE,q=(25.053+b*n)*s.Z.RADIANS_PER_DEGREE,D=Math.sin(T),L=Math.sin(E),B=Math.sin(x),j=Math.sin(P),z=Math.sin(S),k=Math.sin(I),U=Math.sin(A),H=Math.sin(R),G=Math.sin(v),F=Math.sin(M),V=Math.sin(N),W=Math.sin(C),Y=Math.sin(q),X=Math.cos(T),$=Math.cos(E),J=Math.cos(x),Q=Math.cos(P),K=Math.cos(S),tt=Math.cos(I),et=Math.cos(A),nt=Math.cos(R),rt=Math.cos(v),it=Math.cos(M),ot=Math.cos(N),st=Math.cos(C),at=Math.cos(q),ct=(269.9949+.0031*c-3.8787*D-.1204*L+.07*B-.0172*j+.0072*k-.0052*F+.0043*Y)*s.Z.RADIANS_PER_DEGREE,ut=(66.5392+.013*c+1.5419*X+.0239*$-.0278*J+.0068*Q-.0029*tt+9e-4*et+8e-4*it-9e-4*at)*s.Z.RADIANS_PER_DEGREE,Zt=(38.3213+13.17635815*n-14e-13*n*n+3.561*D+.1208*L-.0642*B+.0158*j+.0252*z-.0066*k-.0047*U-.0046*H+.0028*G+.0052*F+.004*V+.0019*W-.0044*Y)*s.Z.RADIANS_PER_DEGREE,lt=(13.17635815-2*n*14e-13+3.561*X*u+.1208*$*Z-.0642*J*l+.0158*Q*h+.0252*K*f-.0066*tt*p-.0047*et*d-.0046*nt*m+.0028*rt*y+.0052*it*g+.004*ot*w+.0019*st*_-.0044*at*b)/86400*s.Z.RADIANS_PER_DEGREE;return(0,r.Z)(e)||(e=new i.Z),e.rightAscension=ct,e.declination=ut,e.rotation=Zt,e.rotationRate=lt,e};const T=c},17282:(t,e,n)=>{n.d(e,{Z:()=>d});var r=n(25914),i=n(88779),o=n(58587),s=n(54485),a=n(91391),c=n(97262),u=n(67197),Z=n(33081);function l(t){t=(0,i.Z)(t,i.Z.EMPTY_OBJECT),this._xysFileUrlTemplate=u.Z.createIfNeeded(t.xysFileUrlTemplate),this._interpolationOrder=(0,i.Z)(t.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=(0,i.Z)(t.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new c.Z(this._sampleZeroJulianEphemerisDate,0,Z.Z.TAI),this._stepSizeDays=(0,i.Z)(t.stepSizeDays,1),this._samplesPerXysFile=(0,i.Z)(t.samplesPerXysFile,1e3),this._totalSamples=(0,i.Z)(t.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];const e=this._interpolationOrder,n=this._denominators=new Array(e+1),r=this._xTable=new Array(e+1),o=Math.pow(this._stepSizeDays,e);for(let t=0;t<=e;++t){n[t]=o,r[t]=t*this._stepSizeDays;for(let r=0;r<=e;++r)r!==t&&(n[t]*=t-r);n[t]=1/n[t]}this._work=new Array(e+1),this._coef=new Array(e+1)}const h=new c.Z(0,0,Z.Z.TAI);function f(t,e,n){const r=h;return r.dayNumber=e,r.secondsOfDay=n,c.Z.daysDifference(r,t._sampleZeroDateTT)}function p(t,e){if(t._chunkDownloadsInProgress[e])return t._chunkDownloadsInProgress[e];const n=(0,o.Z)();let i;t._chunkDownloadsInProgress[e]=n;const a=t._xysFileUrlTemplate;return i=(0,s.Z)(a)?a.getDerivedResource({templateValues:{0:e}}):new u.Z({url:(0,r.Z)(`Assets/IAU2006_XYS/IAU2006_XYS_${e}.json`)}),i.fetchJson().then((function(r){t._chunkDownloadsInProgress[e]=!1;const i=t._samples,o=r.samples,s=e*t._samplesPerXysFile*3;for(let t=0,e=o.length;t<e;++t)i[s+t]=o[t];n.resolve()})),n.promise}l.prototype.preload=function(t,e,n,r){const i=f(this,t,e),o=f(this,n,r);let s=i/this._stepSizeDays-this._interpolationOrder/2|0;s<0&&(s=0);let a=o/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder;a>=this._totalSamples&&(a=this._totalSamples-1);const c=s/this._samplesPerXysFile|0,u=a/this._samplesPerXysFile|0,Z=[];for(let t=c;t<=u;++t)Z.push(p(this,t));return Promise.all(Z)},l.prototype.computeXysRadians=function(t,e,n){const r=f(this,t,e);if(r<0)return;const i=r/this._stepSizeDays|0;if(i>=this._totalSamples)return;const o=this._interpolationOrder;let c=i-(o/2|0);c<0&&(c=0);let u=c+o;u>=this._totalSamples&&(u=this._totalSamples-1,c=u-o,c<0&&(c=0));let Z=!1;const l=this._samples;if((0,s.Z)(l[3*c])||(p(this,c/this._samplesPerXysFile|0),Z=!0),(0,s.Z)(l[3*u])||(p(this,u/this._samplesPerXysFile|0),Z=!0),Z)return;(0,s.Z)(n)?(n.x=0,n.y=0,n.s=0):n=new a.Z(0,0,0);const h=r-c*this._stepSizeDays,d=this._work,m=this._denominators,y=this._coef,g=this._xTable;let w,_;for(w=0;w<=o;++w)d[w]=h-g[w];for(w=0;w<=o;++w){for(y[w]=1,_=0;_<=o;++_)_!==w&&(y[w]*=d[_]);y[w]*=m[w];let t=3*(c+w);n.x+=y[w]*l[t++],n.y+=y[w]*l[t++],n.s+=y[w]*l[t]}return n};const d=l},91391:(t,e,n)=>{n.d(e,{Z:()=>r});const r=function(t,e,n){this.x=t,this.y=e,this.s=n}},18463:(t,e,n)=>{n.d(e,{Z:()=>m});var r=n(93517),i=n(54485),o=n(17158),s=n(97262),a=n(22874),c=n(39109),u=n(20291);function Z(t){(0,i.Z)(t)&&"function"==typeof t||(t=o.Z.ComputeMoon),this._computeFunction=t}const l=new r.Z,h=new r.Z,f=new r.Z;const p=new c.Z,d=new u.Z;Z.prototype.evaluate=function(t,e){(0,i.Z)(t)||(t=s.Z.now());const n=this._computeFunction(t),o=function(t,e,n){const o=l;o.x=Math.cos(t+a.Z.PI_OVER_TWO),o.y=Math.sin(t+a.Z.PI_OVER_TWO),o.z=0;const s=Math.cos(e),u=f;u.x=s*Math.cos(t),u.y=s*Math.sin(t),u.z=Math.sin(e);const Z=r.Z.cross(u,o,h);return(0,i.Z)(n)||(n=new c.Z),n[0]=o.x,n[1]=Z.x,n[2]=u.x,n[3]=o.y,n[4]=Z.y,n[5]=u.y,n[6]=o.z,n[7]=Z.z,n[8]=u.z,n}(n.rightAscension,n.declination,e),Z=a.Z.zeroToTwoPi(n.rotation),m=u.Z.fromAxisAngle(r.Z.UNIT_Z,Z,d),y=c.Z.fromQuaternion(u.Z.conjugate(m,m),p);return c.Z.multiply(y,o,o)};const m=Z},7991:(t,e,n)=>{n.d(e,{Z:()=>r});const r=function(t,e,n,r){this.rightAscension=t,this.declination=e,this.rotation=n,this.rotationRate=r}},39172:(t,e,n)=>{n.d(e,{Z:()=>c});var r=n(54485),i=n(20176),o=n(22874),s=n(95411);const a={UNSIGNED_BYTE:s.Z.UNSIGNED_BYTE,UNSIGNED_SHORT:s.Z.UNSIGNED_SHORT,UNSIGNED_INT:s.Z.UNSIGNED_INT,getSizeInBytes:function(t){switch(t){case a.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case a.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case a.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT}throw new i.Z("indexDatatype is required and must be a valid IndexDatatype constant.")},fromSizeInBytes:function(t){switch(t){case 2:return a.UNSIGNED_SHORT;case 4:return a.UNSIGNED_INT;case 1:return a.UNSIGNED_BYTE;default:throw new i.Z("Size in bytes cannot be mapped to an IndexDatatype")}},validate:function(t){return(0,r.Z)(t)&&(t===a.UNSIGNED_BYTE||t===a.UNSIGNED_SHORT||t===a.UNSIGNED_INT)},createTypedArray:function(t,e){if(!(0,r.Z)(t))throw new i.Z("numberOfVertices is required.");return t>=o.Z.SIXTY_FOUR_KILOBYTES?new Uint32Array(e):new Uint16Array(e)},createTypedArrayFromArrayBuffer:function(t,e,n,s){if(!(0,r.Z)(t))throw new i.Z("numberOfVertices is required.");if(!(0,r.Z)(e))throw new i.Z("sourceArray is required.");if(!(0,r.Z)(n))throw new i.Z("byteOffset is required.");return t>=o.Z.SIXTY_FOUR_KILOBYTES?new Uint32Array(e,n,s):new Uint16Array(e,n,s)},fromTypedArray:function(t){if(t instanceof Uint8Array)return a.UNSIGNED_BYTE;if(t instanceof Uint16Array)return a.UNSIGNED_SHORT;if(t instanceof Uint32Array)return a.UNSIGNED_INT;throw new i.Z("array must be a Uint8Array, Uint16Array, or Uint32Array.")}},c=Object.freeze(a)},47618:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(20176);const i={type:void 0};i.getRequiredDataPoints=r.Z.throwInstantiationError,i.interpolateOrderZero=r.Z.throwInstantiationError,i.interpolate=r.Z.throwInstantiationError;const o=i},26092:(t,e,n)=>{n.d(e,{Z:()=>r});const r=Object.freeze({STEP:0,LINEAR:1,CUBICSPLINE:2})},3169:(t,e,n)=>{n.d(e,{Z:()=>r});const r=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1})},14090:(t,e,n)=>{n.d(e,{Z:()=>H});var r=n(93517),i=n(66866),o=n(88779),s=n(54485),a=n(20176),c=n(20442),u=n(22874),Z=n(39109),l=n(39920),h=n(19454),f=n(43262);const p={rayPlane:function(t,e,n){if(!(0,s.Z)(t))throw new a.Z("ray is required.");if(!(0,s.Z)(e))throw new a.Z("plane is required.");(0,s.Z)(n)||(n=new r.Z);const i=t.origin,o=t.direction,c=e.normal,Z=r.Z.dot(c,o);if(Math.abs(Z)<u.Z.EPSILON15)return;const l=(-e.distance-r.Z.dot(c,i))/Z;return l<0?void 0:(n=r.Z.multiplyByScalar(o,l,n),r.Z.add(i,n,n))}},d=new r.Z,m=new r.Z,y=new r.Z,g=new r.Z,w=new r.Z;p.rayTriangleParametric=function(t,e,n,i,c){if(!(0,s.Z)(t))throw new a.Z("ray is required.");if(!(0,s.Z)(e))throw new a.Z("p0 is required.");if(!(0,s.Z)(n))throw new a.Z("p1 is required.");if(!(0,s.Z)(i))throw new a.Z("p2 is required.");c=(0,o.Z)(c,!1);const Z=t.origin,l=t.direction,h=r.Z.subtract(n,e,d),f=r.Z.subtract(i,e,m),p=r.Z.cross(l,f,y),_=r.Z.dot(h,p);let b,O,T,E,x;if(c){if(_<u.Z.EPSILON6)return;if(b=r.Z.subtract(Z,e,g),T=r.Z.dot(b,p),T<0||T>_)return;if(O=r.Z.cross(b,h,w),E=r.Z.dot(l,O),E<0||T+E>_)return;x=r.Z.dot(f,O)/_}else{if(Math.abs(_)<u.Z.EPSILON6)return;const t=1/_;if(b=r.Z.subtract(Z,e,g),T=r.Z.dot(b,p)*t,T<0||T>1)return;if(O=r.Z.cross(b,h,w),E=r.Z.dot(l,O)*t,E<0||T+E>1)return;x=r.Z.dot(f,O)*t}return x},p.rayTriangle=function(t,e,n,i,o,a){const c=p.rayTriangleParametric(t,e,n,i,o);if((0,s.Z)(c)&&!(c<0))return(0,s.Z)(a)||(a=new r.Z),r.Z.multiplyByScalar(t.direction,c,a),r.Z.add(t.origin,a,a)};const _=new f.Z;p.lineSegmentTriangle=function(t,e,n,i,o,c,u){if(!(0,s.Z)(t))throw new a.Z("v0 is required.");if(!(0,s.Z)(e))throw new a.Z("v1 is required.");if(!(0,s.Z)(n))throw new a.Z("p0 is required.");if(!(0,s.Z)(i))throw new a.Z("p1 is required.");if(!(0,s.Z)(o))throw new a.Z("p2 is required.");const Z=_;r.Z.clone(t,Z.origin),r.Z.subtract(e,t,Z.direction),r.Z.normalize(Z.direction,Z.direction);const l=p.rayTriangleParametric(Z,n,i,o,c);if(!(!(0,s.Z)(l)||l<0||l>r.Z.distance(t,e)))return(0,s.Z)(u)||(u=new r.Z),r.Z.multiplyByScalar(Z.direction,l,u),r.Z.add(Z.origin,u,u)};const b={root0:0,root1:0};function O(t,e,n){(0,s.Z)(n)||(n=new c.Z);const i=t.origin,o=t.direction,a=e.center,u=e.radius*e.radius,Z=r.Z.subtract(i,a,y),l=function(t,e,n,r){const i=e*e-4*t*n;if(i<0)return;if(i>0){const n=1/(2*t),o=Math.sqrt(i),s=(-e+o)*n,a=(-e-o)*n;return s<a?(r.root0=s,r.root1=a):(r.root0=a,r.root1=s),r}const o=-e/(2*t);return 0!==o?(r.root0=r.root1=o,r):void 0}(r.Z.dot(o,o),2*r.Z.dot(o,Z),r.Z.magnitudeSquared(Z)-u,b);if((0,s.Z)(l))return n.start=l.root0,n.stop=l.root1,n}p.raySphere=function(t,e,n){if(!(0,s.Z)(t))throw new a.Z("ray is required.");if(!(0,s.Z)(e))throw new a.Z("sphere is required.");if(n=O(t,e,n),(0,s.Z)(n)&&!(n.stop<0))return n.start=Math.max(n.start,0),n};const T=new f.Z;p.lineSegmentSphere=function(t,e,n,i){if(!(0,s.Z)(t))throw new a.Z("p0 is required.");if(!(0,s.Z)(e))throw new a.Z("p1 is required.");if(!(0,s.Z)(n))throw new a.Z("sphere is required.");const o=T;r.Z.clone(t,o.origin);const c=r.Z.subtract(e,t,o.direction),u=r.Z.magnitude(c);if(r.Z.normalize(c,c),i=O(o,n,i),!(!(0,s.Z)(i)||i.stop<0||i.start>u))return i.start=Math.max(i.start,0),i.stop=Math.min(i.stop,u),i};const E=new r.Z,x=new r.Z;function P(t,e,n){const r=t+e;return u.Z.sign(t)!==u.Z.sign(e)&&Math.abs(r/Math.max(Math.abs(t),Math.abs(e)))<n?0:r}p.rayEllipsoid=function(t,e){if(!(0,s.Z)(t))throw new a.Z("ray is required.");if(!(0,s.Z)(e))throw new a.Z("ellipsoid is required.");const n=e.oneOverRadii,i=r.Z.multiplyComponents(n,t.origin,E),o=r.Z.multiplyComponents(n,t.direction,x),u=r.Z.magnitudeSquared(i),Z=r.Z.dot(i,o);let l,h,f,p,d;if(u>1){if(Z>=0)return;const t=Z*Z;if(l=u-1,h=r.Z.magnitudeSquared(o),f=h*l,t<f)return;if(t>f){p=Z*Z-f,d=-Z+Math.sqrt(p);const t=d/h,e=l/d;return t<e?new c.Z(t,e):{start:e,stop:t}}const e=Math.sqrt(l/h);return new c.Z(e,e)}return u<1?(l=u-1,h=r.Z.magnitudeSquared(o),f=h*l,p=Z*Z-f,d=-Z+Math.sqrt(p),new c.Z(0,d/h)):Z<0?(h=r.Z.magnitudeSquared(o),new c.Z(0,-Z/h)):void 0};const S=new r.Z,I=new r.Z,A=new r.Z,R=new r.Z,v=new r.Z,M=new Z.Z,N=new Z.Z,C=new Z.Z,q=new Z.Z,D=new Z.Z,L=new Z.Z,B=new Z.Z,j=new r.Z,z=new r.Z,k=new i.Z;p.grazingAltitudeLocation=function(t,e){if(!(0,s.Z)(t))throw new a.Z("ray is required.");if(!(0,s.Z)(e))throw new a.Z("ellipsoid is required.");const n=t.origin,i=t.direction;if(!r.Z.equals(n,r.Z.ZERO)){const t=e.geodeticSurfaceNormal(n,S);if(r.Z.dot(i,t)>=0)return n}const o=(0,s.Z)(this.rayEllipsoid(t,e)),c=e.transformPositionToScaledSpace(i,S),f=r.Z.normalize(c,c),p=r.Z.mostOrthogonalAxis(c,R),d=r.Z.normalize(r.Z.cross(p,f,I),I),m=r.Z.normalize(r.Z.cross(f,d,A),A),y=M;y[0]=f.x,y[1]=f.y,y[2]=f.z,y[3]=d.x,y[4]=d.y,y[5]=d.z,y[6]=m.x,y[7]=m.y,y[8]=m.z;const g=Z.Z.transpose(y,N),w=Z.Z.fromScale(e.radii,C),_=Z.Z.fromScale(e.oneOverRadii,q),b=D;b[0]=0,b[1]=-i.z,b[2]=i.y,b[3]=i.z,b[4]=0,b[5]=-i.x,b[6]=-i.y,b[7]=i.x,b[8]=0;const O=Z.Z.multiply(Z.Z.multiply(g,_,L),b,L),T=Z.Z.multiply(Z.Z.multiply(O,w,B),y,B),E=Z.Z.multiplyByVector(O,n,v),x=function(t,e,n,i,o){const s=i*i,a=o*o,c=(t[Z.Z.COLUMN1ROW1]-t[Z.Z.COLUMN2ROW2])*a,f=o*(i*P(t[Z.Z.COLUMN1ROW0],t[Z.Z.COLUMN0ROW1],u.Z.EPSILON15)+e.y),p=t[Z.Z.COLUMN0ROW0]*s+t[Z.Z.COLUMN2ROW2]*a+i*e.x+n,d=a*P(t[Z.Z.COLUMN2ROW1],t[Z.Z.COLUMN1ROW2],u.Z.EPSILON15),m=o*(i*P(t[Z.Z.COLUMN2ROW0],t[Z.Z.COLUMN0ROW2])+e.z);let y;const g=[];if(0===m&&0===d){if(y=l.Z.computeRealRoots(c,f,p),0===y.length)return g;const t=y[0],e=Math.sqrt(Math.max(1-t*t,0));if(g.push(new r.Z(i,o*t,o*-e)),g.push(new r.Z(i,o*t,o*e)),2===y.length){const t=y[1],e=Math.sqrt(Math.max(1-t*t,0));g.push(new r.Z(i,o*t,o*-e)),g.push(new r.Z(i,o*t,o*e))}return g}const w=m*m,_=d*d,b=m*d,O=c*c+_,T=2*(f*c+b),E=2*p*c+f*f-_+w,x=2*(p*f-b),S=p*p-w;if(0===O&&0===T&&0===E&&0===x)return g;y=h.Z.computeRealRoots(O,T,E,x,S);const I=y.length;if(0===I)return g;for(let t=0;t<I;++t){const e=y[t],n=e*e,s=Math.max(1-n,0),a=Math.sqrt(s);let Z;Z=u.Z.sign(c)===u.Z.sign(p)?P(c*n+p,f*e,u.Z.EPSILON12):u.Z.sign(p)===u.Z.sign(f*e)?P(c*n,f*e+p,u.Z.EPSILON12):P(c*n+f*e,p,u.Z.EPSILON12);const l=Z*P(d*e,m,u.Z.EPSILON15);l<0?g.push(new r.Z(i,o*e,o*a)):l>0?g.push(new r.Z(i,o*e,o*-a)):0!==a?(g.push(new r.Z(i,o*e,o*-a)),g.push(new r.Z(i,o*e,o*a)),++t):g.push(new r.Z(i,o*e,o*a))}return g}(T,r.Z.negate(E,S),0,0,1);let U,H;const G=x.length;if(G>0){let t=r.Z.clone(r.Z.ZERO,z),s=Number.NEGATIVE_INFINITY;for(let e=0;e<G;++e){U=Z.Z.multiplyByVector(w,Z.Z.multiplyByVector(y,x[e],j),j);const o=r.Z.normalize(r.Z.subtract(U,n,R),R),a=r.Z.dot(o,i);a>s&&(s=a,t=r.Z.clone(U,t))}const a=e.cartesianToCartographic(t,k);return s=u.Z.clamp(s,0,1),H=r.Z.magnitude(r.Z.subtract(t,n,R))*Math.sqrt(1-s*s),H=o?-H:H,a.height=H,e.cartographicToCartesian(a,new r.Z)}};const U=new r.Z;p.lineSegmentPlane=function(t,e,n,i){if(!(0,s.Z)(t))throw new a.Z("endPoint0 is required.");if(!(0,s.Z)(e))throw new a.Z("endPoint1 is required.");if(!(0,s.Z)(n))throw new a.Z("plane is required.");(0,s.Z)(i)||(i=new r.Z);const o=r.Z.subtract(e,t,U),c=n.normal,Z=r.Z.dot(c,o);if(Math.abs(Z)<u.Z.EPSILON6)return;const l=r.Z.dot(c,t),h=-(n.distance+l)/Z;return h<0||h>1?void 0:(r.Z.multiplyByScalar(o,h,i),r.Z.add(t,i,i),i)},p.trianglePlaneIntersection=function(t,e,n,i){if(!((0,s.Z)(t)&&(0,s.Z)(e)&&(0,s.Z)(n)&&(0,s.Z)(i)))throw new a.Z("p0, p1, p2, and plane are required.");const o=i.normal,c=i.distance,u=r.Z.dot(o,t)+c<0,Z=r.Z.dot(o,e)+c<0,l=r.Z.dot(o,n)+c<0;let h,f,d=0;if(d+=u?1:0,d+=Z?1:0,d+=l?1:0,1!==d&&2!==d||(h=new r.Z,f=new r.Z),1===d){if(u)return p.lineSegmentPlane(t,e,i,h),p.lineSegmentPlane(t,n,i,f),{positions:[t,e,n,h,f],indices:[0,3,4,1,2,4,1,4,3]};if(Z)return p.lineSegmentPlane(e,n,i,h),p.lineSegmentPlane(e,t,i,f),{positions:[t,e,n,h,f],indices:[1,3,4,2,0,4,2,4,3]};if(l)return p.lineSegmentPlane(n,t,i,h),p.lineSegmentPlane(n,e,i,f),{positions:[t,e,n,h,f],indices:[2,3,4,0,1,4,0,4,3]}}else if(2===d){if(!u)return p.lineSegmentPlane(e,t,i,h),p.lineSegmentPlane(n,t,i,f),{positions:[t,e,n,h,f],indices:[1,2,4,1,4,3,0,3,4]};if(!Z)return p.lineSegmentPlane(n,e,i,h),p.lineSegmentPlane(t,e,i,f),{positions:[t,e,n,h,f],indices:[2,0,4,2,4,3,1,3,4]};if(!l)return p.lineSegmentPlane(t,n,i,h),p.lineSegmentPlane(e,n,i,f),{positions:[t,e,n,h,f],indices:[0,1,4,0,4,3,2,3,4]}}};const H=p},80513:(t,e,n)=>{n.d(e,{Z:()=>u});var r=n(59015),i=n(93517),o=n(17497),s=n(54485),a=n(20176);const c={clipTriangleAtAxisAlignedThreshold:function(t,e,n,r,i,o){if(!(0,s.Z)(t))throw new a.Z("threshold is required.");if(!(0,s.Z)(e))throw new a.Z("keepAbove is required.");if(!(0,s.Z)(n))throw new a.Z("u0 is required.");if(!(0,s.Z)(r))throw new a.Z("u1 is required.");if(!(0,s.Z)(i))throw new a.Z("u2 is required.");let c,u,Z;(0,s.Z)(o)?o.length=0:o=[],e?(c=n<t,u=r<t,Z=i<t):(c=n>t,u=r>t,Z=i>t);const l=c+u+Z;let h,f,p,d,m,y;return 1===l?c?(h=(t-n)/(r-n),f=(t-n)/(i-n),o.push(1),o.push(2),1!==f&&(o.push(-1),o.push(0),o.push(2),o.push(f)),1!==h&&(o.push(-1),o.push(0),o.push(1),o.push(h))):u?(p=(t-r)/(i-r),d=(t-r)/(n-r),o.push(2),o.push(0),1!==d&&(o.push(-1),o.push(1),o.push(0),o.push(d)),1!==p&&(o.push(-1),o.push(1),o.push(2),o.push(p))):Z&&(m=(t-i)/(n-i),y=(t-i)/(r-i),o.push(0),o.push(1),1!==y&&(o.push(-1),o.push(2),o.push(1),o.push(y)),1!==m&&(o.push(-1),o.push(2),o.push(0),o.push(m))):2===l?c||n===t?u||r===t?Z||i===t||(f=(t-n)/(i-n),p=(t-r)/(i-r),o.push(2),o.push(-1),o.push(0),o.push(2),o.push(f),o.push(-1),o.push(1),o.push(2),o.push(p)):(y=(t-i)/(r-i),h=(t-n)/(r-n),o.push(1),o.push(-1),o.push(2),o.push(1),o.push(y),o.push(-1),o.push(0),o.push(1),o.push(h)):(d=(t-r)/(n-r),m=(t-i)/(n-i),o.push(0),o.push(-1),o.push(1),o.push(0),o.push(d),o.push(-1),o.push(2),o.push(0),o.push(m)):3!==l&&(o.push(0),o.push(1),o.push(2)),o},computeBarycentricCoordinates:function(t,e,n,r,o,c,u,Z,l){if(!(0,s.Z)(t))throw new a.Z("x is required.");if(!(0,s.Z)(e))throw new a.Z("y is required.");if(!(0,s.Z)(n))throw new a.Z("x1 is required.");if(!(0,s.Z)(r))throw new a.Z("y1 is required.");if(!(0,s.Z)(o))throw new a.Z("x2 is required.");if(!(0,s.Z)(c))throw new a.Z("y2 is required.");if(!(0,s.Z)(u))throw new a.Z("x3 is required.");if(!(0,s.Z)(Z))throw new a.Z("y3 is required.");const h=n-u,f=u-o,p=c-Z,d=r-Z,m=1/(p*h+f*d),y=e-Z,g=t-u,w=(p*g+f*y)*m,_=(-d*g+h*y)*m,b=1-w-_;return(0,s.Z)(l)?(l.x=w,l.y=_,l.z=b,l):new i.Z(w,_,b)},computeLineSegmentLineSegmentIntersection:function(t,e,n,i,a,c,u,Z,l){o.Z.typeOf.number("x00",t),o.Z.typeOf.number("y00",e),o.Z.typeOf.number("x01",n),o.Z.typeOf.number("y01",i),o.Z.typeOf.number("x10",a),o.Z.typeOf.number("y10",c),o.Z.typeOf.number("x11",u),o.Z.typeOf.number("y11",Z);const h=(Z-c)*(n-t)-(u-a)*(i-e);if(0===h)return;const f=((u-a)*(e-c)-(Z-c)*(t-a))/h,p=((n-t)*(e-c)-(i-e)*(t-a))/h;return f>=0&&f<=1&&p>=0&&p<=1?((0,s.Z)(l)||(l=new r.Z),l.x=t+f*(n-t),l.y=e+f*(i-e),l):void 0}},u=c},20442:(t,e,n)=>{n.d(e,{Z:()=>i});var r=n(88779);const i=function(t,e){this.start=(0,r.Z)(t,0),this.stop=(0,r.Z)(e,0)}},41294:(t,e,n)=>{n.d(e,{Z:()=>u});var r=n(78505),i=n(54485),o=n(67197);let s;const a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI5MTdhODgxYi1hNzE4LTRlYjAtOWY4Zi0yN2RjNmIxMDA3MWEiLCJpZCI6MjU5LCJpYXQiOjE2NTQwOTk1ODB9.6fgeb1wewbbv88IZBRvjGM6tqNXXc_3x0Lawo8lCt7c",c={};c.defaultAccessToken=a,c.defaultServer=new o.Z({url:"https://api.cesium.com/"}),c.getDefaultTokenCredit=function(t){if(t===a){if(!(0,i.Z)(s)){const t='<b>             This application is using Cesium\'s default ion access token. Please assign <i>Cesium.Ion.defaultAccessToken</i>             with an access token from your ion account before making any Cesium API calls.             You can sign up for a free ion account at <a href="https://cesium.com">https://cesium.com</a>.</b>';s=new r.Z(t,!0)}return s}};const u=c},76306:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(17497),i=n(78505),o=n(88779),s=n(54485),a=n(41294),c=n(51850),u=n(67197);function Z(t){t=(0,o.Z)(t,o.Z.EMPTY_OBJECT),r.Z.typeOf.object("options.scene",t.scene);const e=(0,o.Z)(t.accessToken,a.Z.defaultAccessToken),n=u.Z.createIfNeeded((0,o.Z)(t.server,a.Z.defaultServer));n.appendForwardSlash();const Z=a.Z.getDefaultTokenCredit(e);(0,s.Z)(Z)&&t.scene.frameState.creditDisplay.addDefaultCredit(i.Z.clone(Z));const l=n.getDerivedResource({url:"v1/geocode"});(0,s.Z)(e)&&l.appendQueryParameters({access_token:e}),this._accessToken=e,this._server=n,this._pelias=new c.Z(l)}Z.prototype.geocode=function(t,e){return this._pelias.geocode(t,e)};const l=Z},33556:(t,e,n)=>{n.d(e,{Z:()=>f});var r=n(42113),i=n(17497),o=n(78505),s=n(88779),a=n(54485),c=n(41294),u=n(67197),Z=n(21514);function l(t,e){let n;i.Z.defined("endpoint",t),i.Z.defined("endpointResource",e);const o=t.externalType,s=(0,a.Z)(o);if(s){if("3DTILES"!==o&&"STK_TERRAIN_SERVER"!==o)throw new Z.Z("Ion.createResource does not support external imagery assets; use IonImageryProvider instead.");n={url:t.options.url}}else n={url:t.url,retryAttempts:1,retryCallback:h};u.Z.call(this,n),this._ionEndpoint=t,this._ionEndpointDomain=s?void 0:new r.Z(t.url).authority(),this._ionEndpointResource=e,this._ionRoot=void 0,this._pendingPromise=void 0,this._credits=void 0,this._isExternal=s}function h(t,e){const n=(0,s.Z)(t._ionRoot,t),r=n._ionEndpointResource,i="undefined"!=typeof Image;return(0,a.Z)(e)&&(401===e.statusCode||i&&e.target instanceof Image)?((0,a.Z)(n._pendingPromise)||(n._pendingPromise=r.fetchJson().then((function(t){return n._ionEndpoint=t,t})).finally((function(t){return n._pendingPromise=void 0,t}))),n._pendingPromise.then((function(e){return t._ionEndpoint=e,!0}))):Promise.resolve(!1)}(0,a.Z)(Object.create)&&(l.prototype=Object.create(u.Z.prototype),l.prototype.constructor=l),l.fromAssetId=function(t,e){const n=l._createEndpointResource(t,e);return n.fetchJson().then((function(t){return new l(t,n)}))},Object.defineProperties(l.prototype,{credits:{get:function(){return(0,a.Z)(this._ionRoot)?this._ionRoot.credits:((0,a.Z)(this._credits)||(this._credits=l.getCreditsFromEndpoint(this._ionEndpoint,this._ionEndpointResource)),this._credits)}}}),l.getCreditsFromEndpoint=function(t,e){const n=t.attributions.map(o.Z.getIonCredit),r=c.Z.getDefaultTokenCredit(e.queryParameters.access_token);return(0,a.Z)(r)&&n.push(o.Z.clone(r)),n},l.prototype.clone=function(t){const e=(0,s.Z)(this._ionRoot,this);return(0,a.Z)(t)||(t=new l(e._ionEndpoint,e._ionEndpointResource)),(t=u.Z.prototype.clone.call(this,t))._ionRoot=e,t._isExternal=this._isExternal,t},l.prototype.fetchImage=function(t){if(!this._isExternal){const e=t;t={preferBlob:!0},(0,a.Z)(e)&&(t.flipY=e.flipY,t.preferImageBitmap=e.preferImageBitmap)}return u.Z.prototype.fetchImage.call(this,t)},l.prototype._makeRequest=function(t){return this._isExternal||new r.Z(this.url).authority()!==this._ionEndpointDomain||((0,a.Z)(t.headers)||(t.headers={}),t.headers.Authorization=`Bearer ${this._ionEndpoint.accessToken}`),u.Z.prototype._makeRequest.call(this,t)},l._createEndpointResource=function(t,e){i.Z.defined("assetId",t),e=(0,s.Z)(e,s.Z.EMPTY_OBJECT);let n=(0,s.Z)(e.server,c.Z.defaultServer);const r=(0,s.Z)(e.accessToken,c.Z.defaultAccessToken);n=u.Z.createIfNeeded(n);const o={url:`v1/assets/${t}/endpoint`};return(0,a.Z)(r)&&(o.queryParameters={access_token:r}),n.getDerivedResource(o)};const f=l},18926:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(97262),i=n(78368);const o=Object.freeze(r.Z.fromIso8601("0000-01-01T00:00:00Z")),s=Object.freeze(r.Z.fromIso8601("9999-12-31T24:00:00Z")),a={MINIMUM_VALUE:o,MAXIMUM_VALUE:s,MAXIMUM_INTERVAL:Object.freeze(new i.Z({start:o,stop:s}))}},97262:(t,e,n)=>{n.d(e,{Z:()=>M});var r=n(17216),i=n(88779),o=n(54485),s=n(20176),a=n(4069),c=n(29283),u=n(87218),Z=n(4230),l=n(33081);const h=new a.Z,f=[31,28,31,30,31,30,31,31,30,31,30,31];function p(t,e){return R.compare(t.julianDate,e.julianDate)}const d=new u.Z;function m(t){d.julianDate=t;const e=R.leapSeconds;let n=(0,r.Z)(e,d,p);n<0&&(n=~n),n>=e.length&&(n=e.length-1);let i=e[n].offset;if(n>0){R.secondsDifference(e[n].julianDate,t)>i&&(n--,i=e[n].offset)}R.addSeconds(t,i,t)}function y(t,e){d.julianDate=t;const n=R.leapSeconds;let i=(0,r.Z)(n,d,p);if(i<0&&(i=~i),0===i)return R.addSeconds(t,-n[0].offset,e);if(i>=n.length)return R.addSeconds(t,-n[i-1].offset,e);const o=R.secondsDifference(n[i].julianDate,t);return 0===o?R.addSeconds(t,-n[i].offset,e):o<=1?void 0:R.addSeconds(t,-n[--i].offset,e)}function g(t,e,n){const r=e/Z.Z.SECONDS_PER_DAY|0;return t+=r,(e-=Z.Z.SECONDS_PER_DAY*r)<0&&(t--,e+=Z.Z.SECONDS_PER_DAY),n.dayNumber=t,n.secondsOfDay=e,n}function w(t,e,n,r,i,o,s){const a=(e-14)/12|0,c=t+4800+a;let u=(1461*c/4|0)+(367*(e-2-12*a)/12|0)-(3*((c+100)/100|0)/4|0)+n-32075;(r-=12)<0&&(r+=24);const l=o+(r*Z.Z.SECONDS_PER_HOUR+i*Z.Z.SECONDS_PER_MINUTE+s*Z.Z.SECONDS_PER_MILLISECOND);return l>=43200&&(u-=1),[u,l]}const _=/^(\d{4})$/,b=/^(\d{4})-(\d{2})$/,O=/^(\d{4})-?(\d{3})$/,T=/^(\d{4})-?W(\d{2})-?(\d{1})?$/,E=/^(\d{4})-?(\d{2})-?(\d{2})$/,x=/([Z+\-])?(\d{2})?:?(\d{2})?$/,P=/^(\d{2})(\.\d+)?/.source+x.source,S=/^(\d{2}):?(\d{2})(\.\d+)?/.source+x.source,I=/^(\d{2}):?(\d{2}):?(\d{2})(\.\d+)?/.source+x.source,A="Invalid ISO 8601 date.";function R(t,e,n){this.dayNumber=void 0,this.secondsOfDay=void 0,t=(0,i.Z)(t,0),e=(0,i.Z)(e,0),n=(0,i.Z)(n,l.Z.UTC);const r=0|t;g(r,e+=(t-r)*Z.Z.SECONDS_PER_DAY,this),n===l.Z.UTC&&m(this)}R.fromGregorianDate=function(t,e){if(!(t instanceof a.Z))throw new s.Z("date must be a valid GregorianDate.");const n=w(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond);return(0,o.Z)(e)?(g(n[0],n[1],e),m(e),e):new R(n[0],n[1],l.Z.UTC)},R.fromDate=function(t,e){if(!(t instanceof Date)||isNaN(t.getTime()))throw new s.Z("date must be a valid JavaScript Date.");const n=w(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds());return(0,o.Z)(e)?(g(n[0],n[1],e),m(e),e):new R(n[0],n[1],l.Z.UTC)},R.fromIso8601=function(t,e){if("string"!=typeof t)throw new s.Z(A);let n,r=(t=t.replace(",",".")).split("T"),i=1,a=1,u=0,Z=0,h=0,p=0;const d=r[0],y=r[1];let x,v,M,N;if(!(0,o.Z)(d))throw new s.Z(A);if(r=d.match(E),null!==r){if(M=d.split("-").length-1,M>0&&2!==M)throw new s.Z(A);n=+r[1],i=+r[2],a=+r[3]}else if(r=d.match(b),null!==r)n=+r[1],i=+r[2];else if(r=d.match(_),null!==r)n=+r[1];else{let t;if(r=d.match(O),null!==r){if(n=+r[1],t=+r[2],v=(0,c.Z)(n),t<1||v&&t>366||!v&&t>365)throw new s.Z(A)}else{if(r=d.match(T),null===r)throw new s.Z(A);{n=+r[1];const e=+r[2],i=+r[3]||0;if(M=d.split("-").length-1,M>0&&(!(0,o.Z)(r[3])&&1!==M||(0,o.Z)(r[3])&&2!==M))throw new s.Z(A);t=7*e+i-new Date(Date.UTC(n,0,4)).getUTCDay()-3}}x=new Date(Date.UTC(n,0,1)),x.setUTCDate(t),i=x.getUTCMonth()+1,a=x.getUTCDate()}if(v=(0,c.Z)(n),i<1||i>12||a<1||(2!==i||!v)&&a>f[i-1]||v&&2===i&&a>29)throw new s.Z(A);if((0,o.Z)(y)){if(r=y.match(I),null!==r){if(M=y.split(":").length-1,M>0&&2!==M&&3!==M)throw new s.Z(A);u=+r[1],Z=+r[2],h=+r[3],p=1e3*+(r[4]||0),N=5}else if(r=y.match(S),null!==r){if(M=y.split(":").length-1,M>2)throw new s.Z(A);u=+r[1],Z=+r[2],h=60*+(r[3]||0),N=4}else{if(r=y.match(P),null===r)throw new s.Z(A);u=+r[1],Z=60*+(r[2]||0),N=3}if(Z>=60||h>=61||u>24||24===u&&(Z>0||h>0||p>0))throw new s.Z(A);const t=r[N],e=+r[N+1],o=+(r[N+2]||0);switch(t){case"+":u-=e,Z-=o;break;case"-":u+=e,Z+=o;break;case"Z":break;default:Z+=new Date(Date.UTC(n,i-1,a,u,Z)).getTimezoneOffset()}}const C=60===h;for(C&&h--;Z>=60;)Z-=60,u++;for(;u>=24;)u-=24,a++;for(x=v&&2===i?29:f[i-1];a>x;)a-=x,i++,i>12&&(i-=12,n++),x=v&&2===i?29:f[i-1];for(;Z<0;)Z+=60,u--;for(;u<0;)u+=24,a--;for(;a<1;)i--,i<1&&(i+=12,n--),x=v&&2===i?29:f[i-1],a+=x;const q=w(n,i,a,u,Z,h,p);return(0,o.Z)(e)?(g(q[0],q[1],e),m(e)):e=new R(q[0],q[1],l.Z.UTC),C&&R.addSeconds(e,1,e),e},R.now=function(t){return R.fromDate(new Date,t)};const v=new R(0,0,l.Z.TAI);R.toGregorianDate=function(t,e){if(!(0,o.Z)(t))throw new s.Z("julianDate is required.");let n=!1,r=y(t,v);(0,o.Z)(r)||(R.addSeconds(t,-1,v),r=y(v,v),n=!0);let i=r.dayNumber;const c=r.secondsOfDay;c>=43200&&(i+=1);let u=i+68569|0;const l=4*u/146097|0;u=u-((146097*l+3)/4|0)|0;const h=4e3*(u+1)/1461001|0;u=u-(1461*h/4|0)+31|0;const f=80*u/2447|0,p=u-(2447*f/80|0)|0;u=f/11|0;const d=f+2-12*u|0,m=100*(l-49)+h+u|0;let g=c/Z.Z.SECONDS_PER_HOUR|0,w=c-g*Z.Z.SECONDS_PER_HOUR;const _=w/Z.Z.SECONDS_PER_MINUTE|0;w-=_*Z.Z.SECONDS_PER_MINUTE;let b=0|w;const O=(w-b)/Z.Z.SECONDS_PER_MILLISECOND;return g+=12,g>23&&(g-=24),n&&(b+=1),(0,o.Z)(e)?(e.year=m,e.month=d,e.day=p,e.hour=g,e.minute=_,e.second=b,e.millisecond=O,e.isLeapSecond=n,e):new a.Z(m,d,p,g,_,b,O,n)},R.toDate=function(t){if(!(0,o.Z)(t))throw new s.Z("julianDate is required.");const e=R.toGregorianDate(t,h);let n=e.second;return e.isLeapSecond&&(n-=1),new Date(Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,n,e.millisecond))},R.toIso8601=function(t,e){if(!(0,o.Z)(t))throw new s.Z("julianDate is required.");const n=R.toGregorianDate(t,h);let r=n.year,i=n.month,a=n.day,c=n.hour;const u=n.minute,Z=n.second,l=n.millisecond;let f;return 1e4===r&&1===i&&1===a&&0===c&&0===u&&0===Z&&0===l&&(r=9999,i=12,a=31,c=24),(0,o.Z)(e)||0===l?(0,o.Z)(e)&&0!==e?(f=(.01*l).toFixed(e).replace(".","").slice(0,e),`${r.toString().padStart(4,"0")}-${i.toString().padStart(2,"0")}-${a.toString().padStart(2,"0")}T${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}:${Z.toString().padStart(2,"0")}.${f}Z`):`${r.toString().padStart(4,"0")}-${i.toString().padStart(2,"0")}-${a.toString().padStart(2,"0")}T${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}:${Z.toString().padStart(2,"0")}Z`:(f=(.01*l).toString().replace(".",""),`${r.toString().padStart(4,"0")}-${i.toString().padStart(2,"0")}-${a.toString().padStart(2,"0")}T${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}:${Z.toString().padStart(2,"0")}.${f}Z`)},R.clone=function(t,e){if((0,o.Z)(t))return(0,o.Z)(e)?(e.dayNumber=t.dayNumber,e.secondsOfDay=t.secondsOfDay,e):new R(t.dayNumber,t.secondsOfDay,l.Z.TAI)},R.compare=function(t,e){if(!(0,o.Z)(t))throw new s.Z("left is required.");if(!(0,o.Z)(e))throw new s.Z("right is required.");const n=t.dayNumber-e.dayNumber;return 0!==n?n:t.secondsOfDay-e.secondsOfDay},R.equals=function(t,e){return t===e||(0,o.Z)(t)&&(0,o.Z)(e)&&t.dayNumber===e.dayNumber&&t.secondsOfDay===e.secondsOfDay},R.equalsEpsilon=function(t,e,n){return n=(0,i.Z)(n,0),t===e||(0,o.Z)(t)&&(0,o.Z)(e)&&Math.abs(R.secondsDifference(t,e))<=n},R.totalDays=function(t){if(!(0,o.Z)(t))throw new s.Z("julianDate is required.");return t.dayNumber+t.secondsOfDay/Z.Z.SECONDS_PER_DAY},R.secondsDifference=function(t,e){if(!(0,o.Z)(t))throw new s.Z("left is required.");if(!(0,o.Z)(e))throw new s.Z("right is required.");return(t.dayNumber-e.dayNumber)*Z.Z.SECONDS_PER_DAY+(t.secondsOfDay-e.secondsOfDay)},R.daysDifference=function(t,e){if(!(0,o.Z)(t))throw new s.Z("left is required.");if(!(0,o.Z)(e))throw new s.Z("right is required.");return t.dayNumber-e.dayNumber+(t.secondsOfDay-e.secondsOfDay)/Z.Z.SECONDS_PER_DAY},R.computeTaiMinusUtc=function(t){d.julianDate=t;const e=R.leapSeconds;let n=(0,r.Z)(e,d,p);return n<0&&(n=~n,--n,n<0&&(n=0)),e[n].offset},R.addSeconds=function(t,e,n){if(!(0,o.Z)(t))throw new s.Z("julianDate is required.");if(!(0,o.Z)(e))throw new s.Z("seconds is required.");if(!(0,o.Z)(n))throw new s.Z("result is required.");return g(t.dayNumber,t.secondsOfDay+e,n)},R.addMinutes=function(t,e,n){if(!(0,o.Z)(t))throw new s.Z("julianDate is required.");if(!(0,o.Z)(e))throw new s.Z("minutes is required.");if(!(0,o.Z)(n))throw new s.Z("result is required.");const r=t.secondsOfDay+e*Z.Z.SECONDS_PER_MINUTE;return g(t.dayNumber,r,n)},R.addHours=function(t,e,n){if(!(0,o.Z)(t))throw new s.Z("julianDate is required.");if(!(0,o.Z)(e))throw new s.Z("hours is required.");if(!(0,o.Z)(n))throw new s.Z("result is required.");const r=t.secondsOfDay+e*Z.Z.SECONDS_PER_HOUR;return g(t.dayNumber,r,n)},R.addDays=function(t,e,n){if(!(0,o.Z)(t))throw new s.Z("julianDate is required.");if(!(0,o.Z)(e))throw new s.Z("days is required.");if(!(0,o.Z)(n))throw new s.Z("result is required.");return g(t.dayNumber+e,t.secondsOfDay,n)},R.lessThan=function(t,e){return R.compare(t,e)<0},R.lessThanOrEquals=function(t,e){return R.compare(t,e)<=0},R.greaterThan=function(t,e){return R.compare(t,e)>0},R.greaterThanOrEquals=function(t,e){return R.compare(t,e)>=0},R.prototype.clone=function(t){return R.clone(this,t)},R.prototype.equals=function(t){return R.equals(this,t)},R.prototype.equalsEpsilon=function(t,e){return R.equalsEpsilon(this,t,e)},R.prototype.toString=function(){return R.toIso8601(this)},R.leapSeconds=[new u.Z(new R(2441317,43210,l.Z.TAI),10),new u.Z(new R(2441499,43211,l.Z.TAI),11),new u.Z(new R(2441683,43212,l.Z.TAI),12),new u.Z(new R(2442048,43213,l.Z.TAI),13),new u.Z(new R(2442413,43214,l.Z.TAI),14),new u.Z(new R(2442778,43215,l.Z.TAI),15),new u.Z(new R(2443144,43216,l.Z.TAI),16),new u.Z(new R(2443509,43217,l.Z.TAI),17),new u.Z(new R(2443874,43218,l.Z.TAI),18),new u.Z(new R(2444239,43219,l.Z.TAI),19),new u.Z(new R(2444786,43220,l.Z.TAI),20),new u.Z(new R(2445151,43221,l.Z.TAI),21),new u.Z(new R(2445516,43222,l.Z.TAI),22),new u.Z(new R(2446247,43223,l.Z.TAI),23),new u.Z(new R(2447161,43224,l.Z.TAI),24),new u.Z(new R(2447892,43225,l.Z.TAI),25),new u.Z(new R(2448257,43226,l.Z.TAI),26),new u.Z(new R(2448804,43227,l.Z.TAI),27),new u.Z(new R(2449169,43228,l.Z.TAI),28),new u.Z(new R(2449534,43229,l.Z.TAI),29),new u.Z(new R(2450083,43230,l.Z.TAI),30),new u.Z(new R(2450630,43231,l.Z.TAI),31),new u.Z(new R(2451179,43232,l.Z.TAI),32),new u.Z(new R(2453736,43233,l.Z.TAI),33),new u.Z(new R(2454832,43234,l.Z.TAI),34),new u.Z(new R(2456109,43235,l.Z.TAI),35),new u.Z(new R(2457204,43236,l.Z.TAI),36),new u.Z(new R(2457754,43237,l.Z.TAI),37)];const M=R},70784:(t,e,n)=>{n.d(e,{Z:()=>c});var r=n(17497),i=n(77158),o=n(54485),s=n(7612);function a(){}a._transcodeTaskProcessor=new s.Z("transcodeKTX2",Number.POSITIVE_INFINITY),a._readyPromise=void 0,a.transcode=function(t,e){return r.Z.defined("supportedTargetFormats",e),(0,o.Z)(a._readyPromise)||function(){const t=a._transcodeTaskProcessor.initWebAssemblyModule({modulePath:"ThirdParty/Workers/basis_transcoder.js",wasmBinaryFile:"ThirdParty/basis_transcoder.wasm"}).then((function(){return a._transcodeTaskProcessor}));a._readyPromise=t}(),a._readyPromise.then((function(n){let r;if(t instanceof ArrayBuffer){const i=new Uint8Array(t);return r={supportedTargetFormats:e,ktx2Buffer:i},n.scheduleTask(r,[t])}return r={supportedTargetFormats:e,ktx2Buffer:t},n.scheduleTask(r,[t.buffer])})).then((function(t){const e=t.length,n=Object.keys(t[0]),r=n.length;let o;for(o=0;o<e;o++){const e=t[o];for(let t=0;t<r;t++){const r=e[n[t]];e[n[t]]=new i.Z(r.internalFormat,r.datatype,r.width,r.height,r.levelBuffer)}}if(1===r){for(o=0;o<e;++o)t[o]=t[o][n[0]];1===e&&(t=t[0])}return t})).catch((function(t){throw t}))};const c=a},77407:(t,e,n)=>{n.d(e,{Z:()=>r});const r=Object.freeze({SHIFT:0,CTRL:1,ALT:2})},2728:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(54485);const i={type:"Lagrange",getRequiredDataPoints:function(t){return Math.max(t+1,2)},interpolateOrderZero:function(t,e,n,i,o){let s,a;(0,r.Z)(o)||(o=new Array(i));const c=e.length;for(s=0;s<i;s++)o[s]=0;for(s=0;s<c;s++){let r=1;for(a=0;a<c;a++)if(a!==s){const n=e[s]-e[a];r*=(t-e[a])/n}for(a=0;a<i;a++)o[a]+=r*n[s*i+a]}return o}},o=i},87218:(t,e,n)=>{n.d(e,{Z:()=>r});const r=function(t,e){this.julianDate=t,this.offset=e}},99536:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(54485),i=n(20176);const o={type:"Linear",getRequiredDataPoints:function(t){return 2},interpolateOrderZero:function(t,e,n,o,s){if(2!==e.length)throw new i.Z("The xTable provided to the linear interpolator must have exactly two elements.");if(o<=0)throw new i.Z("There must be at least 1 dependent variable for each independent variable.");let a,c,u;(0,r.Z)(s)||(s=new Array(o));const Z=e[0],l=e[1];if(Z===l)throw new i.Z("Divide by zero error: xTable[0] and xTable[1] are equal");for(a=0;a<o;a++)c=n[a],u=n[a+o],s[a]=((u-c)*t+l*c-Z*u)/(l-Z);return s}},s=o},94292:(t,e,n)=>{n.d(e,{Z:()=>u});var r=n(93517),i=n(88779),o=n(54485),s=n(20176),a=n(69070);function c(t){const e=(t=(0,i.Z)(t,i.Z.EMPTY_OBJECT)).points,n=t.times;if(!(0,o.Z)(e)||!(0,o.Z)(n))throw new s.Z("points and times are required.");if(e.length<2)throw new s.Z("points.length must be greater than or equal to 2.");if(n.length!==e.length)throw new s.Z("times.length must be equal to points.length.");this._times=n,this._points=e,this._pointType=a.Z.getPointType(e[0]),this._lastTimeIndex=0}Object.defineProperties(c.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}}}),c.prototype.findTimeInterval=a.Z.prototype.findTimeInterval,c.prototype.wrapTime=a.Z.prototype.wrapTime,c.prototype.clampTime=a.Z.prototype.clampTime,c.prototype.evaluate=function(t,e){const n=this.points,i=this.times,s=this._lastTimeIndex=this.findTimeInterval(t,this._lastTimeIndex),a=(t-i[s])/(i[s+1]-i[s]);return this._pointType===Number?(1-a)*n[s]+a*n[s+1]:((0,o.Z)(e)||(e=new r.Z),r.Z.lerp(n[s],n[s+1],a,e))};const u=c},65812:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(17497),i=n(88779);function o(t){t=(0,i.Z)(t,0),this._array=new Array(t),this._length=t}Object.defineProperties(o.prototype,{length:{get:function(){return this._length},set:function(t){r.Z.typeOf.number.greaterThanOrEquals("length",t,0);const e=this._array,n=this._length;if(t<n)for(let r=t;r<n;++r)e[r]=void 0;else t>e.length&&(e.length=t);this._length=t}},values:{get:function(){return this._array}}}),o.prototype.get=function(t){return r.Z.typeOf.number.lessThan("index",t,this._array.length),this._array[t]},o.prototype.set=function(t,e){r.Z.typeOf.number("index",t),t>=this._length&&(this.length=t+1),this._array[t]=e},o.prototype.peek=function(){return this._array[this._length-1]},o.prototype.push=function(t){const e=this.length++;this._array[e]=t},o.prototype.pop=function(){if(0===this._length)return;const t=this._array[this._length-1];return--this.length,t},o.prototype.reserve=function(t){r.Z.typeOf.number.greaterThanOrEquals("length",t,0),t>this._array.length&&(this._array.length=t)},o.prototype.resize=function(t){r.Z.typeOf.number.greaterThanOrEquals("length",t,0),this.length=t},o.prototype.trim=function(t){t=(0,i.Z)(t,this._length),this._array.length=t};const s=o},63774:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(20176);function i(){r.Z.throwInstantiationError()}Object.defineProperties(i.prototype,{ellipsoid:{get:r.Z.throwInstantiationError}}),i.prototype.project=r.Z.throwInstantiationError,i.prototype.unproject=r.Z.throwInstantiationError;const o=i},22874:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(7034),i=n(17497),o=n(88779),s=n(54485),a=n(20176);const c={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,EPSILON21:1e-21,GRAVITATIONALPARAMETER:3986004418e5,SOLAR_RADIUS:6955e5,LUNAR_RADIUS:1737400,SIXTY_FOUR_KILOBYTES:65536,FOUR_GIGABYTES:4294967296};c.sign=(0,o.Z)(Math.sign,(function(t){return 0===(t=+t)||t!=t?t:t>0?1:-1})),c.signNotZero=function(t){return t<0?-1:1},c.toSNorm=function(t,e){return e=(0,o.Z)(e,255),Math.round((.5*c.clamp(t,-1,1)+.5)*e)},c.fromSNorm=function(t,e){return e=(0,o.Z)(e,255),c.clamp(t,0,e)/e*2-1},c.normalize=function(t,e,n){return 0===(n=Math.max(n-e,0))?0:c.clamp((t-e)/n,0,1)},c.sinh=(0,o.Z)(Math.sinh,(function(t){return(Math.exp(t)-Math.exp(-t))/2})),c.cosh=(0,o.Z)(Math.cosh,(function(t){return(Math.exp(t)+Math.exp(-t))/2})),c.lerp=function(t,e,n){return(1-n)*t+n*e},c.PI=Math.PI,c.ONE_OVER_PI=1/Math.PI,c.PI_OVER_TWO=Math.PI/2,c.PI_OVER_THREE=Math.PI/3,c.PI_OVER_FOUR=Math.PI/4,c.PI_OVER_SIX=Math.PI/6,c.THREE_PI_OVER_TWO=3*Math.PI/2,c.TWO_PI=2*Math.PI,c.ONE_OVER_TWO_PI=1/(2*Math.PI),c.RADIANS_PER_DEGREE=Math.PI/180,c.DEGREES_PER_RADIAN=180/Math.PI,c.RADIANS_PER_ARCSECOND=c.RADIANS_PER_DEGREE/3600,c.toRadians=function(t){if(!(0,s.Z)(t))throw new a.Z("degrees is required.");return t*c.RADIANS_PER_DEGREE},c.toDegrees=function(t){if(!(0,s.Z)(t))throw new a.Z("radians is required.");return t*c.DEGREES_PER_RADIAN},c.convertLongitudeRange=function(t){if(!(0,s.Z)(t))throw new a.Z("angle is required.");const e=c.TWO_PI,n=t-Math.floor(t/e)*e;return n<-Math.PI?n+e:n>=Math.PI?n-e:n},c.clampToLatitudeRange=function(t){if(!(0,s.Z)(t))throw new a.Z("angle is required.");return c.clamp(t,-1*c.PI_OVER_TWO,c.PI_OVER_TWO)},c.negativePiToPi=function(t){if(!(0,s.Z)(t))throw new a.Z("angle is required.");return t>=-c.PI&&t<=c.PI?t:c.zeroToTwoPi(t+c.PI)-c.PI},c.zeroToTwoPi=function(t){if(!(0,s.Z)(t))throw new a.Z("angle is required.");if(t>=0&&t<=c.TWO_PI)return t;const e=c.mod(t,c.TWO_PI);return Math.abs(e)<c.EPSILON14&&Math.abs(t)>c.EPSILON14?c.TWO_PI:e},c.mod=function(t,e){if(!(0,s.Z)(t))throw new a.Z("m is required.");if(!(0,s.Z)(e))throw new a.Z("n is required.");if(0===e)throw new a.Z("divisor cannot be 0.");return c.sign(t)===c.sign(e)&&Math.abs(t)<Math.abs(e)?t:(t%e+e)%e},c.equalsEpsilon=function(t,e,n,r){if(!(0,s.Z)(t))throw new a.Z("left is required.");if(!(0,s.Z)(e))throw new a.Z("right is required.");n=(0,o.Z)(n,0),r=(0,o.Z)(r,n);const i=Math.abs(t-e);return i<=r||i<=n*Math.max(Math.abs(t),Math.abs(e))},c.lessThan=function(t,e,n){if(!(0,s.Z)(t))throw new a.Z("first is required.");if(!(0,s.Z)(e))throw new a.Z("second is required.");if(!(0,s.Z)(n))throw new a.Z("absoluteEpsilon is required.");return t-e<-n},c.lessThanOrEquals=function(t,e,n){if(!(0,s.Z)(t))throw new a.Z("first is required.");if(!(0,s.Z)(e))throw new a.Z("second is required.");if(!(0,s.Z)(n))throw new a.Z("absoluteEpsilon is required.");return t-e<n},c.greaterThan=function(t,e,n){if(!(0,s.Z)(t))throw new a.Z("first is required.");if(!(0,s.Z)(e))throw new a.Z("second is required.");if(!(0,s.Z)(n))throw new a.Z("absoluteEpsilon is required.");return t-e>n},c.greaterThanOrEquals=function(t,e,n){if(!(0,s.Z)(t))throw new a.Z("first is required.");if(!(0,s.Z)(e))throw new a.Z("second is required.");if(!(0,s.Z)(n))throw new a.Z("absoluteEpsilon is required.");return t-e>-n};const u=[1];c.factorial=function(t){if("number"!=typeof t||t<0)throw new a.Z("A number greater than or equal to 0 is required.");const e=u.length;if(t>=e){let n=u[e-1];for(let r=e;r<=t;r++){const t=n*r;u.push(t),n=t}}return u[t]},c.incrementWrap=function(t,e,n){if(n=(0,o.Z)(n,0),!(0,s.Z)(t))throw new a.Z("n is required.");if(e<=n)throw new a.Z("maximumValue must be greater than minimumValue.");return++t>e&&(t=n),t},c.isPowerOfTwo=function(t){if("number"!=typeof t||t<0||t>4294967295)throw new a.Z("A number between 0 and (2^32)-1 is required.");return 0!==t&&0==(t&t-1)},c.nextPowerOfTwo=function(t){if("number"!=typeof t||t<0||t>2147483648)throw new a.Z("A number between 0 and 2^31 is required.");return--t,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t},c.previousPowerOfTwo=function(t){if("number"!=typeof t||t<0||t>4294967295)throw new a.Z("A number between 0 and (2^32)-1 is required.");return t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t=((t|=t>>32)>>>0)-(t>>>1)},c.clamp=function(t,e,n){return i.Z.typeOf.number("value",t),i.Z.typeOf.number("min",e),i.Z.typeOf.number("max",n),t<e?e:t>n?n:t};let Z=new r.Z;c.setRandomNumberSeed=function(t){if(!(0,s.Z)(t))throw new a.Z("seed is required.");Z=new r.Z(t)},c.nextRandomNumber=function(){return Z.random()},c.randomBetween=function(t,e){return c.nextRandomNumber()*(e-t)+t},c.acosClamped=function(t){if(!(0,s.Z)(t))throw new a.Z("value is required.");return Math.acos(c.clamp(t,-1,1))},c.asinClamped=function(t){if(!(0,s.Z)(t))throw new a.Z("value is required.");return Math.asin(c.clamp(t,-1,1))},c.chordLength=function(t,e){if(!(0,s.Z)(t))throw new a.Z("angle is required.");if(!(0,s.Z)(e))throw new a.Z("radius is required.");return 2*e*Math.sin(.5*t)},c.logBase=function(t,e){if(!(0,s.Z)(t))throw new a.Z("number is required.");if(!(0,s.Z)(e))throw new a.Z("base is required.");return Math.log(t)/Math.log(e)},c.cbrt=(0,o.Z)(Math.cbrt,(function(t){const e=Math.pow(Math.abs(t),1/3);return t<0?-e:e})),c.log2=(0,o.Z)(Math.log2,(function(t){return Math.log(t)*Math.LOG2E})),c.fog=function(t,e){const n=t*e;return 1-Math.exp(-n*n)},c.fastApproximateAtan=function(t){return i.Z.typeOf.number("x",t),t*(-.1784*Math.abs(t)-.0663*t*t+1.0301)},c.fastApproximateAtan2=function(t,e){let n;i.Z.typeOf.number("x",t),i.Z.typeOf.number("y",e);let r=Math.abs(t);n=Math.abs(e);const o=Math.max(r,n);n=Math.min(r,n);const s=n/o;if(isNaN(s))throw new a.Z("either x or y must be nonzero");return r=c.fastApproximateAtan(s),r=Math.abs(e)>Math.abs(t)?c.PI_OVER_TWO-r:r,r=t<0?c.PI-r:r,r=e<0?-r:r,r};const l=c},40734:(t,e,n)=>{n.d(e,{Z:()=>d});var r=n(59015),i=n(17497),o=n(88779),s=n(54485),a=n(20176);function c(t,e,n,r){this[0]=(0,o.Z)(t,0),this[1]=(0,o.Z)(n,0),this[2]=(0,o.Z)(e,0),this[3]=(0,o.Z)(r,0)}c.packedLength=4,c.pack=function(t,e,n){return i.Z.typeOf.object("value",t),i.Z.defined("array",e),n=(0,o.Z)(n,0),e[n++]=t[0],e[n++]=t[1],e[n++]=t[2],e[n++]=t[3],e},c.unpack=function(t,e,n){return i.Z.defined("array",t),e=(0,o.Z)(e,0),(0,s.Z)(n)||(n=new c),n[0]=t[e++],n[1]=t[e++],n[2]=t[e++],n[3]=t[e++],n},c.packArray=function(t,e){i.Z.defined("array",t);const n=t.length,r=4*n;if((0,s.Z)(e)){if(!Array.isArray(e)&&e.length!==r)throw new a.Z("If result is a typed array, it must have exactly array.length * 4 elements");e.length!==r&&(e.length=r)}else e=new Array(r);for(let r=0;r<n;++r)c.pack(t[r],e,4*r);return e},c.unpackArray=function(t,e){if(i.Z.defined("array",t),i.Z.typeOf.number.greaterThanOrEquals("array.length",t.length,4),t.length%4!=0)throw new a.Z("array length must be a multiple of 4.");const n=t.length;(0,s.Z)(e)?e.length=n/4:e=new Array(n/4);for(let r=0;r<n;r+=4){const n=r/4;e[n]=c.unpack(t,r,e[n])}return e},c.clone=function(t,e){if((0,s.Z)(t))return(0,s.Z)(e)?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):new c(t[0],t[2],t[1],t[3])},c.fromArray=c.unpack,c.fromColumnMajorArray=function(t,e){return i.Z.defined("values",t),c.clone(t,e)},c.fromRowMajorArray=function(t,e){return i.Z.defined("values",t),(0,s.Z)(e)?(e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3],e):new c(t[0],t[1],t[2],t[3])},c.fromScale=function(t,e){return i.Z.typeOf.object("scale",t),(0,s.Z)(e)?(e[0]=t.x,e[1]=0,e[2]=0,e[3]=t.y,e):new c(t.x,0,0,t.y)},c.fromUniformScale=function(t,e){return i.Z.typeOf.number("scale",t),(0,s.Z)(e)?(e[0]=t,e[1]=0,e[2]=0,e[3]=t,e):new c(t,0,0,t)},c.fromRotation=function(t,e){i.Z.typeOf.number("angle",t);const n=Math.cos(t),r=Math.sin(t);return(0,s.Z)(e)?(e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e):new c(n,-r,r,n)},c.toArray=function(t,e){return i.Z.typeOf.object("matrix",t),(0,s.Z)(e)?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):[t[0],t[1],t[2],t[3]]},c.getElementIndex=function(t,e){return i.Z.typeOf.number.greaterThanOrEquals("row",e,0),i.Z.typeOf.number.lessThanOrEquals("row",e,1),i.Z.typeOf.number.greaterThanOrEquals("column",t,0),i.Z.typeOf.number.lessThanOrEquals("column",t,1),2*t+e},c.getColumn=function(t,e,n){i.Z.typeOf.object("matrix",t),i.Z.typeOf.number.greaterThanOrEquals("index",e,0),i.Z.typeOf.number.lessThanOrEquals("index",e,1),i.Z.typeOf.object("result",n);const r=2*e,o=t[r],s=t[r+1];return n.x=o,n.y=s,n},c.setColumn=function(t,e,n,r){i.Z.typeOf.object("matrix",t),i.Z.typeOf.number.greaterThanOrEquals("index",e,0),i.Z.typeOf.number.lessThanOrEquals("index",e,1),i.Z.typeOf.object("cartesian",n),i.Z.typeOf.object("result",r);const o=2*e;return(r=c.clone(t,r))[o]=n.x,r[o+1]=n.y,r},c.getRow=function(t,e,n){i.Z.typeOf.object("matrix",t),i.Z.typeOf.number.greaterThanOrEquals("index",e,0),i.Z.typeOf.number.lessThanOrEquals("index",e,1),i.Z.typeOf.object("result",n);const r=t[e],o=t[e+2];return n.x=r,n.y=o,n},c.setRow=function(t,e,n,r){return i.Z.typeOf.object("matrix",t),i.Z.typeOf.number.greaterThanOrEquals("index",e,0),i.Z.typeOf.number.lessThanOrEquals("index",e,1),i.Z.typeOf.object("cartesian",n),i.Z.typeOf.object("result",r),(r=c.clone(t,r))[e]=n.x,r[e+2]=n.y,r};const u=new r.Z;c.setScale=function(t,e,n){i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("scale",e),i.Z.typeOf.object("result",n);const r=c.getScale(t,u),o=e.x/r.x,s=e.y/r.y;return n[0]=t[0]*o,n[1]=t[1]*o,n[2]=t[2]*s,n[3]=t[3]*s,n};const Z=new r.Z;c.setUniformScale=function(t,e,n){i.Z.typeOf.object("matrix",t),i.Z.typeOf.number("scale",e),i.Z.typeOf.object("result",n);const r=c.getScale(t,Z),o=e/r.x,s=e/r.y;return n[0]=t[0]*o,n[1]=t[1]*o,n[2]=t[2]*s,n[3]=t[3]*s,n};const l=new r.Z;c.getScale=function(t,e){return i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("result",e),e.x=r.Z.magnitude(r.Z.fromElements(t[0],t[1],l)),e.y=r.Z.magnitude(r.Z.fromElements(t[2],t[3],l)),e};const h=new r.Z;c.getMaximumScale=function(t){return c.getScale(t,h),r.Z.maximumComponent(h)};const f=new r.Z;c.setRotation=function(t,e,n){i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("result",n);const r=c.getScale(t,f);return n[0]=e[0]*r.x,n[1]=e[1]*r.x,n[2]=e[2]*r.y,n[3]=e[3]*r.y,n};const p=new r.Z;c.getRotation=function(t,e){i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("result",e);const n=c.getScale(t,p);return e[0]=t[0]/n.x,e[1]=t[1]/n.x,e[2]=t[2]/n.y,e[3]=t[3]/n.y,e},c.multiply=function(t,e,n){i.Z.typeOf.object("left",t),i.Z.typeOf.object("right",e),i.Z.typeOf.object("result",n);const r=t[0]*e[0]+t[2]*e[1],o=t[0]*e[2]+t[2]*e[3],s=t[1]*e[0]+t[3]*e[1],a=t[1]*e[2]+t[3]*e[3];return n[0]=r,n[1]=s,n[2]=o,n[3]=a,n},c.add=function(t,e,n){return i.Z.typeOf.object("left",t),i.Z.typeOf.object("right",e),i.Z.typeOf.object("result",n),n[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n[3]=t[3]+e[3],n},c.subtract=function(t,e,n){return i.Z.typeOf.object("left",t),i.Z.typeOf.object("right",e),i.Z.typeOf.object("result",n),n[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n[3]=t[3]-e[3],n},c.multiplyByVector=function(t,e,n){i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("cartesian",e),i.Z.typeOf.object("result",n);const r=t[0]*e.x+t[2]*e.y,o=t[1]*e.x+t[3]*e.y;return n.x=r,n.y=o,n},c.multiplyByScalar=function(t,e,n){return i.Z.typeOf.object("matrix",t),i.Z.typeOf.number("scalar",e),i.Z.typeOf.object("result",n),n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e,n[3]=t[3]*e,n},c.multiplyByScale=function(t,e,n){return i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("scale",e),i.Z.typeOf.object("result",n),n[0]=t[0]*e.x,n[1]=t[1]*e.x,n[2]=t[2]*e.y,n[3]=t[3]*e.y,n},c.multiplyByUniformScale=function(t,e,n){return i.Z.typeOf.object("matrix",t),i.Z.typeOf.number("scale",e),i.Z.typeOf.object("result",n),n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e,n[3]=t[3]*e,n},c.negate=function(t,e){return i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("result",e),e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},c.transpose=function(t,e){i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("result",e);const n=t[0],r=t[2],o=t[1],s=t[3];return e[0]=n,e[1]=r,e[2]=o,e[3]=s,e},c.abs=function(t,e){return i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("result",e),e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e[3]=Math.abs(t[3]),e},c.equals=function(t,e){return t===e||(0,s.Z)(t)&&(0,s.Z)(e)&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},c.equalsArray=function(t,e,n){return t[0]===e[n]&&t[1]===e[n+1]&&t[2]===e[n+2]&&t[3]===e[n+3]},c.equalsEpsilon=function(t,e,n){return n=(0,o.Z)(n,0),t===e||(0,s.Z)(t)&&(0,s.Z)(e)&&Math.abs(t[0]-e[0])<=n&&Math.abs(t[1]-e[1])<=n&&Math.abs(t[2]-e[2])<=n&&Math.abs(t[3]-e[3])<=n},c.IDENTITY=Object.freeze(new c(1,0,0,1)),c.ZERO=Object.freeze(new c(0,0,0,0)),c.COLUMN0ROW0=0,c.COLUMN0ROW1=1,c.COLUMN1ROW0=2,c.COLUMN1ROW1=3,Object.defineProperties(c.prototype,{length:{get:function(){return c.packedLength}}}),c.prototype.clone=function(t){return c.clone(this,t)},c.prototype.equals=function(t){return c.equals(this,t)},c.prototype.equalsEpsilon=function(t,e){return c.equalsEpsilon(this,t,e)},c.prototype.toString=function(){return`(${this[0]}, ${this[2]})\n(${this[1]}, ${this[3]})`};const d=c},39109:(t,e,n)=>{n.d(e,{Z:()=>T});var r=n(93517),i=n(17497),o=n(88779),s=n(54485),a=n(20176),c=n(22874);function u(t,e,n,r,i,s,a,c,u){this[0]=(0,o.Z)(t,0),this[1]=(0,o.Z)(r,0),this[2]=(0,o.Z)(a,0),this[3]=(0,o.Z)(e,0),this[4]=(0,o.Z)(i,0),this[5]=(0,o.Z)(c,0),this[6]=(0,o.Z)(n,0),this[7]=(0,o.Z)(s,0),this[8]=(0,o.Z)(u,0)}u.packedLength=9,u.pack=function(t,e,n){return i.Z.typeOf.object("value",t),i.Z.defined("array",e),n=(0,o.Z)(n,0),e[n++]=t[0],e[n++]=t[1],e[n++]=t[2],e[n++]=t[3],e[n++]=t[4],e[n++]=t[5],e[n++]=t[6],e[n++]=t[7],e[n++]=t[8],e},u.unpack=function(t,e,n){return i.Z.defined("array",t),e=(0,o.Z)(e,0),(0,s.Z)(n)||(n=new u),n[0]=t[e++],n[1]=t[e++],n[2]=t[e++],n[3]=t[e++],n[4]=t[e++],n[5]=t[e++],n[6]=t[e++],n[7]=t[e++],n[8]=t[e++],n},u.packArray=function(t,e){i.Z.defined("array",t);const n=t.length,r=9*n;if((0,s.Z)(e)){if(!Array.isArray(e)&&e.length!==r)throw new a.Z("If result is a typed array, it must have exactly array.length * 9 elements");e.length!==r&&(e.length=r)}else e=new Array(r);for(let r=0;r<n;++r)u.pack(t[r],e,9*r);return e},u.unpackArray=function(t,e){if(i.Z.defined("array",t),i.Z.typeOf.number.greaterThanOrEquals("array.length",t.length,9),t.length%9!=0)throw new a.Z("array length must be a multiple of 9.");const n=t.length;(0,s.Z)(e)?e.length=n/9:e=new Array(n/9);for(let r=0;r<n;r+=9){const n=r/9;e[n]=u.unpack(t,r,e[n])}return e},u.clone=function(t,e){if((0,s.Z)(t))return(0,s.Z)(e)?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e):new u(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8])},u.fromArray=u.unpack,u.fromColumnMajorArray=function(t,e){return i.Z.defined("values",t),u.clone(t,e)},u.fromRowMajorArray=function(t,e){return i.Z.defined("values",t),(0,s.Z)(e)?(e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],e):new u(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},u.fromQuaternion=function(t,e){i.Z.typeOf.object("quaternion",t);const n=t.x*t.x,r=t.x*t.y,o=t.x*t.z,a=t.x*t.w,c=t.y*t.y,Z=t.y*t.z,l=t.y*t.w,h=t.z*t.z,f=t.z*t.w,p=t.w*t.w,d=n-c-h+p,m=2*(r-f),y=2*(o+l),g=2*(r+f),w=-n+c-h+p,_=2*(Z-a),b=2*(o-l),O=2*(Z+a),T=-n-c+h+p;return(0,s.Z)(e)?(e[0]=d,e[1]=g,e[2]=b,e[3]=m,e[4]=w,e[5]=O,e[6]=y,e[7]=_,e[8]=T,e):new u(d,m,y,g,w,_,b,O,T)},u.fromHeadingPitchRoll=function(t,e){i.Z.typeOf.object("headingPitchRoll",t);const n=Math.cos(-t.pitch),r=Math.cos(-t.heading),o=Math.cos(t.roll),a=Math.sin(-t.pitch),c=Math.sin(-t.heading),Z=Math.sin(t.roll),l=n*r,h=-o*c+Z*a*r,f=Z*c+o*a*r,p=n*c,d=o*r+Z*a*c,m=-Z*r+o*a*c,y=-a,g=Z*n,w=o*n;return(0,s.Z)(e)?(e[0]=l,e[1]=p,e[2]=y,e[3]=h,e[4]=d,e[5]=g,e[6]=f,e[7]=m,e[8]=w,e):new u(l,h,f,p,d,m,y,g,w)},u.fromScale=function(t,e){return i.Z.typeOf.object("scale",t),(0,s.Z)(e)?(e[0]=t.x,e[1]=0,e[2]=0,e[3]=0,e[4]=t.y,e[5]=0,e[6]=0,e[7]=0,e[8]=t.z,e):new u(t.x,0,0,0,t.y,0,0,0,t.z)},u.fromUniformScale=function(t,e){return i.Z.typeOf.number("scale",t),(0,s.Z)(e)?(e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=t,e[5]=0,e[6]=0,e[7]=0,e[8]=t,e):new u(t,0,0,0,t,0,0,0,t)},u.fromCrossProduct=function(t,e){return i.Z.typeOf.object("vector",t),(0,s.Z)(e)?(e[0]=0,e[1]=t.z,e[2]=-t.y,e[3]=-t.z,e[4]=0,e[5]=t.x,e[6]=t.y,e[7]=-t.x,e[8]=0,e):new u(0,-t.z,t.y,t.z,0,-t.x,-t.y,t.x,0)},u.fromRotationX=function(t,e){i.Z.typeOf.number("angle",t);const n=Math.cos(t),r=Math.sin(t);return(0,s.Z)(e)?(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=n,e[5]=r,e[6]=0,e[7]=-r,e[8]=n,e):new u(1,0,0,0,n,-r,0,r,n)},u.fromRotationY=function(t,e){i.Z.typeOf.number("angle",t);const n=Math.cos(t),r=Math.sin(t);return(0,s.Z)(e)?(e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=1,e[5]=0,e[6]=r,e[7]=0,e[8]=n,e):new u(n,0,r,0,1,0,-r,0,n)},u.fromRotationZ=function(t,e){i.Z.typeOf.number("angle",t);const n=Math.cos(t),r=Math.sin(t);return(0,s.Z)(e)?(e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e):new u(n,-r,0,r,n,0,0,0,1)},u.toArray=function(t,e){return i.Z.typeOf.object("matrix",t),(0,s.Z)(e)?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e):[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},u.getElementIndex=function(t,e){return i.Z.typeOf.number.greaterThanOrEquals("row",e,0),i.Z.typeOf.number.lessThanOrEquals("row",e,2),i.Z.typeOf.number.greaterThanOrEquals("column",t,0),i.Z.typeOf.number.lessThanOrEquals("column",t,2),3*t+e},u.getColumn=function(t,e,n){i.Z.typeOf.object("matrix",t),i.Z.typeOf.number.greaterThanOrEquals("index",e,0),i.Z.typeOf.number.lessThanOrEquals("index",e,2),i.Z.typeOf.object("result",n);const r=3*e,o=t[r],s=t[r+1],a=t[r+2];return n.x=o,n.y=s,n.z=a,n},u.setColumn=function(t,e,n,r){i.Z.typeOf.object("matrix",t),i.Z.typeOf.number.greaterThanOrEquals("index",e,0),i.Z.typeOf.number.lessThanOrEquals("index",e,2),i.Z.typeOf.object("cartesian",n),i.Z.typeOf.object("result",r);const o=3*e;return(r=u.clone(t,r))[o]=n.x,r[o+1]=n.y,r[o+2]=n.z,r},u.getRow=function(t,e,n){i.Z.typeOf.object("matrix",t),i.Z.typeOf.number.greaterThanOrEquals("index",e,0),i.Z.typeOf.number.lessThanOrEquals("index",e,2),i.Z.typeOf.object("result",n);const r=t[e],o=t[e+3],s=t[e+6];return n.x=r,n.y=o,n.z=s,n},u.setRow=function(t,e,n,r){return i.Z.typeOf.object("matrix",t),i.Z.typeOf.number.greaterThanOrEquals("index",e,0),i.Z.typeOf.number.lessThanOrEquals("index",e,2),i.Z.typeOf.object("cartesian",n),i.Z.typeOf.object("result",r),(r=u.clone(t,r))[e]=n.x,r[e+3]=n.y,r[e+6]=n.z,r};const Z=new r.Z;u.setScale=function(t,e,n){i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("scale",e),i.Z.typeOf.object("result",n);const r=u.getScale(t,Z),o=e.x/r.x,s=e.y/r.y,a=e.z/r.z;return n[0]=t[0]*o,n[1]=t[1]*o,n[2]=t[2]*o,n[3]=t[3]*s,n[4]=t[4]*s,n[5]=t[5]*s,n[6]=t[6]*a,n[7]=t[7]*a,n[8]=t[8]*a,n};const l=new r.Z;u.setUniformScale=function(t,e,n){i.Z.typeOf.object("matrix",t),i.Z.typeOf.number("scale",e),i.Z.typeOf.object("result",n);const r=u.getScale(t,l),o=e/r.x,s=e/r.y,a=e/r.z;return n[0]=t[0]*o,n[1]=t[1]*o,n[2]=t[2]*o,n[3]=t[3]*s,n[4]=t[4]*s,n[5]=t[5]*s,n[6]=t[6]*a,n[7]=t[7]*a,n[8]=t[8]*a,n};const h=new r.Z;u.getScale=function(t,e){return i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("result",e),e.x=r.Z.magnitude(r.Z.fromElements(t[0],t[1],t[2],h)),e.y=r.Z.magnitude(r.Z.fromElements(t[3],t[4],t[5],h)),e.z=r.Z.magnitude(r.Z.fromElements(t[6],t[7],t[8],h)),e};const f=new r.Z;u.getMaximumScale=function(t){return u.getScale(t,f),r.Z.maximumComponent(f)};const p=new r.Z;u.setRotation=function(t,e,n){i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("result",n);const r=u.getScale(t,p);return n[0]=e[0]*r.x,n[1]=e[1]*r.x,n[2]=e[2]*r.x,n[3]=e[3]*r.y,n[4]=e[4]*r.y,n[5]=e[5]*r.y,n[6]=e[6]*r.z,n[7]=e[7]*r.z,n[8]=e[8]*r.z,n};const d=new r.Z;u.getRotation=function(t,e){i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("result",e);const n=u.getScale(t,d);return e[0]=t[0]/n.x,e[1]=t[1]/n.x,e[2]=t[2]/n.x,e[3]=t[3]/n.y,e[4]=t[4]/n.y,e[5]=t[5]/n.y,e[6]=t[6]/n.z,e[7]=t[7]/n.z,e[8]=t[8]/n.z,e},u.multiply=function(t,e,n){i.Z.typeOf.object("left",t),i.Z.typeOf.object("right",e),i.Z.typeOf.object("result",n);const r=t[0]*e[0]+t[3]*e[1]+t[6]*e[2],o=t[1]*e[0]+t[4]*e[1]+t[7]*e[2],s=t[2]*e[0]+t[5]*e[1]+t[8]*e[2],a=t[0]*e[3]+t[3]*e[4]+t[6]*e[5],c=t[1]*e[3]+t[4]*e[4]+t[7]*e[5],u=t[2]*e[3]+t[5]*e[4]+t[8]*e[5],Z=t[0]*e[6]+t[3]*e[7]+t[6]*e[8],l=t[1]*e[6]+t[4]*e[7]+t[7]*e[8],h=t[2]*e[6]+t[5]*e[7]+t[8]*e[8];return n[0]=r,n[1]=o,n[2]=s,n[3]=a,n[4]=c,n[5]=u,n[6]=Z,n[7]=l,n[8]=h,n},u.add=function(t,e,n){return i.Z.typeOf.object("left",t),i.Z.typeOf.object("right",e),i.Z.typeOf.object("result",n),n[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n[3]=t[3]+e[3],n[4]=t[4]+e[4],n[5]=t[5]+e[5],n[6]=t[6]+e[6],n[7]=t[7]+e[7],n[8]=t[8]+e[8],n},u.subtract=function(t,e,n){return i.Z.typeOf.object("left",t),i.Z.typeOf.object("right",e),i.Z.typeOf.object("result",n),n[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n[3]=t[3]-e[3],n[4]=t[4]-e[4],n[5]=t[5]-e[5],n[6]=t[6]-e[6],n[7]=t[7]-e[7],n[8]=t[8]-e[8],n},u.multiplyByVector=function(t,e,n){i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("cartesian",e),i.Z.typeOf.object("result",n);const r=e.x,o=e.y,s=e.z,a=t[0]*r+t[3]*o+t[6]*s,c=t[1]*r+t[4]*o+t[7]*s,u=t[2]*r+t[5]*o+t[8]*s;return n.x=a,n.y=c,n.z=u,n},u.multiplyByScalar=function(t,e,n){return i.Z.typeOf.object("matrix",t),i.Z.typeOf.number("scalar",e),i.Z.typeOf.object("result",n),n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e,n[3]=t[3]*e,n[4]=t[4]*e,n[5]=t[5]*e,n[6]=t[6]*e,n[7]=t[7]*e,n[8]=t[8]*e,n},u.multiplyByScale=function(t,e,n){return i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("scale",e),i.Z.typeOf.object("result",n),n[0]=t[0]*e.x,n[1]=t[1]*e.x,n[2]=t[2]*e.x,n[3]=t[3]*e.y,n[4]=t[4]*e.y,n[5]=t[5]*e.y,n[6]=t[6]*e.z,n[7]=t[7]*e.z,n[8]=t[8]*e.z,n},u.multiplyByUniformScale=function(t,e,n){return i.Z.typeOf.object("matrix",t),i.Z.typeOf.number("scale",e),i.Z.typeOf.object("result",n),n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e,n[3]=t[3]*e,n[4]=t[4]*e,n[5]=t[5]*e,n[6]=t[6]*e,n[7]=t[7]*e,n[8]=t[8]*e,n},u.negate=function(t,e){return i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("result",e),e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=-t[7],e[8]=-t[8],e},u.transpose=function(t,e){i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("result",e);const n=t[0],r=t[3],o=t[6],s=t[1],a=t[4],c=t[7],u=t[2],Z=t[5],l=t[8];return e[0]=n,e[1]=r,e[2]=o,e[3]=s,e[4]=a,e[5]=c,e[6]=u,e[7]=Z,e[8]=l,e};const m=[1,0,0],y=[2,2,1];function g(t){let e=0;for(let n=0;n<3;++n){const r=t[u.getElementIndex(y[n],m[n])];e+=2*r*r}return Math.sqrt(e)}function w(t,e){const n=c.Z.EPSILON15;let r=0,i=1;for(let e=0;e<3;++e){const n=Math.abs(t[u.getElementIndex(y[e],m[e])]);n>r&&(i=e,r=n)}let o=1,s=0;const a=m[i],Z=y[i];if(Math.abs(t[u.getElementIndex(Z,a)])>n){const e=(t[u.getElementIndex(Z,Z)]-t[u.getElementIndex(a,a)])/2/t[u.getElementIndex(Z,a)];let n;n=e<0?-1/(-e+Math.sqrt(1+e*e)):1/(e+Math.sqrt(1+e*e)),o=1/Math.sqrt(1+n*n),s=n*o}return(e=u.clone(u.IDENTITY,e))[u.getElementIndex(a,a)]=e[u.getElementIndex(Z,Z)]=o,e[u.getElementIndex(Z,a)]=s,e[u.getElementIndex(a,Z)]=-s,e}const _=new u,b=new u;u.computeEigenDecomposition=function(t,e){i.Z.typeOf.object("matrix",t);const n=c.Z.EPSILON20;let r=0,o=0;(0,s.Z)(e)||(e={});const a=e.unitary=u.clone(u.IDENTITY,e.unitary),Z=e.diagonal=u.clone(t,e.diagonal),l=n*function(t){let e=0;for(let n=0;n<9;++n){const r=t[n];e+=r*r}return Math.sqrt(e)}(Z);for(;o<10&&g(Z)>l;)w(Z,_),u.transpose(_,b),u.multiply(Z,_,Z),u.multiply(b,Z,Z),u.multiply(a,_,a),++r>2&&(++o,r=0);return e},u.abs=function(t,e){return i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("result",e),e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e[3]=Math.abs(t[3]),e[4]=Math.abs(t[4]),e[5]=Math.abs(t[5]),e[6]=Math.abs(t[6]),e[7]=Math.abs(t[7]),e[8]=Math.abs(t[8]),e},u.determinant=function(t){i.Z.typeOf.object("matrix",t);const e=t[0],n=t[3],r=t[6],o=t[1],s=t[4],a=t[7],c=t[2],u=t[5],Z=t[8];return e*(s*Z-u*a)+o*(u*r-n*Z)+c*(n*a-s*r)},u.inverse=function(t,e){i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("result",e);const n=t[0],r=t[1],o=t[2],s=t[3],Z=t[4],l=t[5],h=t[6],f=t[7],p=t[8],d=u.determinant(t);if(Math.abs(d)<=c.Z.EPSILON15)throw new a.Z("matrix is not invertible");e[0]=Z*p-f*l,e[1]=f*o-r*p,e[2]=r*l-Z*o,e[3]=h*l-s*p,e[4]=n*p-h*o,e[5]=s*o-n*l,e[6]=s*f-h*Z,e[7]=h*r-n*f,e[8]=n*Z-s*r;const m=1/d;return u.multiplyByScalar(e,m,e)};const O=new u;u.inverseTranspose=function(t,e){return i.Z.typeOf.object("matrix",t),i.Z.typeOf.object("result",e),u.inverse(u.transpose(t,O),e)},u.equals=function(t,e){return t===e||(0,s.Z)(t)&&(0,s.Z)(e)&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},u.equalsEpsilon=function(t,e,n){return n=(0,o.Z)(n,0),t===e||(0,s.Z)(t)&&(0,s.Z)(e)&&Math.abs(t[0]-e[0])<=n&&Math.abs(t[1]-e[1])<=n&&Math.abs(t[2]-e[2])<=n&&Math.abs(t[3]-e[3])<=n&&Math.abs(t[4]-e[4])<=n&&Math.abs(t[5]-e[5])<=n&&Math.abs(t[6]-e[6])<=n&&Math.abs(t[7]-e[7])<=n&&Math.abs(t[8]-e[8])<=n},u.IDENTITY=Object.freeze(new u(1,0,0,0,1,0,0,0,1)),u.ZERO=Object.freeze(new u(0,0,0,0,0,0,0,0,0)),u.COLUMN0ROW0=0,u.COLUMN0ROW1=1,u.COLUMN0ROW2=2,u.COLUMN1ROW0=3,u.COLUMN1ROW1=4,u.COLUMN1ROW2=5,u.COLUMN2ROW0=6,u.COLUMN2ROW1=7,u.COLUMN2ROW2=8,Object.defineProperties(u.prototype,{length:{get:function(){return u.packedLength}}}),u.prototype.clone=function(t){return u.clone(this,t)},u.prototype.equals=function(t){return u.equals(this,t)},u.equalsArray=function(t,e,n){return t[0]===e[n]&&t[1]===e[n+1]&&t[2]===e[n+2]&&t[3]===e[n+3]&&t[4]===e[n+4]&&t[5]===e[n+5]&&t[6]===e[n+6]&&t[7]===e[n+7]&&t[8]===e[n+8]},u.prototype.equalsEpsilon=function(t,e){return u.equalsEpsilon(this,t,e)},u.prototype.toString=function(){return`(${this[0]}, ${this[3]}, ${this[6]})\n(${this[1]}, ${this[4]}, ${this[7]})\n(${this[2]}, ${this[5]}, ${this[8]})`};const T=u},71118:(t,e,n)=>{n.d(e,{Z:()=>S});var r=n(93517),i=n(90868),o=n(17497),s=n(88779),a=n(54485),c=n(20176),u=n(22874),Z=n(39109),l=n(21514);function h(t,e,n,r,i,o,a,c,u,Z,l,h,f,p,d,m){this[0]=(0,s.Z)(t,0),this[1]=(0,s.Z)(i,0),this[2]=(0,s.Z)(u,0),this[3]=(0,s.Z)(f,0),this[4]=(0,s.Z)(e,0),this[5]=(0,s.Z)(o,0),this[6]=(0,s.Z)(Z,0),this[7]=(0,s.Z)(p,0),this[8]=(0,s.Z)(n,0),this[9]=(0,s.Z)(a,0),this[10]=(0,s.Z)(l,0),this[11]=(0,s.Z)(d,0),this[12]=(0,s.Z)(r,0),this[13]=(0,s.Z)(c,0),this[14]=(0,s.Z)(h,0),this[15]=(0,s.Z)(m,0)}h.packedLength=16,h.pack=function(t,e,n){return o.Z.typeOf.object("value",t),o.Z.defined("array",e),n=(0,s.Z)(n,0),e[n++]=t[0],e[n++]=t[1],e[n++]=t[2],e[n++]=t[3],e[n++]=t[4],e[n++]=t[5],e[n++]=t[6],e[n++]=t[7],e[n++]=t[8],e[n++]=t[9],e[n++]=t[10],e[n++]=t[11],e[n++]=t[12],e[n++]=t[13],e[n++]=t[14],e[n]=t[15],e},h.unpack=function(t,e,n){return o.Z.defined("array",t),e=(0,s.Z)(e,0),(0,a.Z)(n)||(n=new h),n[0]=t[e++],n[1]=t[e++],n[2]=t[e++],n[3]=t[e++],n[4]=t[e++],n[5]=t[e++],n[6]=t[e++],n[7]=t[e++],n[8]=t[e++],n[9]=t[e++],n[10]=t[e++],n[11]=t[e++],n[12]=t[e++],n[13]=t[e++],n[14]=t[e++],n[15]=t[e],n},h.packArray=function(t,e){o.Z.defined("array",t);const n=t.length,r=16*n;if((0,a.Z)(e)){if(!Array.isArray(e)&&e.length!==r)throw new c.Z("If result is a typed array, it must have exactly array.length * 16 elements");e.length!==r&&(e.length=r)}else e=new Array(r);for(let r=0;r<n;++r)h.pack(t[r],e,16*r);return e},h.unpackArray=function(t,e){if(o.Z.defined("array",t),o.Z.typeOf.number.greaterThanOrEquals("array.length",t.length,16),t.length%16!=0)throw new c.Z("array length must be a multiple of 16.");const n=t.length;(0,a.Z)(e)?e.length=n/16:e=new Array(n/16);for(let r=0;r<n;r+=16){const n=r/16;e[n]=h.unpack(t,r,e[n])}return e},h.clone=function(t,e){if((0,a.Z)(t))return(0,a.Z)(e)?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e):new h(t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15])},h.fromArray=h.unpack,h.fromColumnMajorArray=function(t,e){return o.Z.defined("values",t),h.clone(t,e)},h.fromRowMajorArray=function(t,e){return o.Z.defined("values",t),(0,a.Z)(e)?(e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15],e):new h(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},h.fromRotationTranslation=function(t,e,n){return o.Z.typeOf.object("rotation",t),e=(0,s.Z)(e,r.Z.ZERO),(0,a.Z)(n)?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=0,n[4]=t[3],n[5]=t[4],n[6]=t[5],n[7]=0,n[8]=t[6],n[9]=t[7],n[10]=t[8],n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n):new h(t[0],t[3],t[6],e.x,t[1],t[4],t[7],e.y,t[2],t[5],t[8],e.z,0,0,0,1)},h.fromTranslationQuaternionRotationScale=function(t,e,n,r){o.Z.typeOf.object("translation",t),o.Z.typeOf.object("rotation",e),o.Z.typeOf.object("scale",n),(0,a.Z)(r)||(r=new h);const i=n.x,s=n.y,c=n.z,u=e.x*e.x,Z=e.x*e.y,l=e.x*e.z,f=e.x*e.w,p=e.y*e.y,d=e.y*e.z,m=e.y*e.w,y=e.z*e.z,g=e.z*e.w,w=e.w*e.w,_=u-p-y+w,b=2*(Z-g),O=2*(l+m),T=2*(Z+g),E=-u+p-y+w,x=2*(d-f),P=2*(l-m),S=2*(d+f),I=-u-p+y+w;return r[0]=_*i,r[1]=T*i,r[2]=P*i,r[3]=0,r[4]=b*s,r[5]=E*s,r[6]=S*s,r[7]=0,r[8]=O*c,r[9]=x*c,r[10]=I*c,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,r},h.fromTranslationRotationScale=function(t,e){return o.Z.typeOf.object("translationRotationScale",t),h.fromTranslationQuaternionRotationScale(t.translation,t.rotation,t.scale,e)},h.fromTranslation=function(t,e){return o.Z.typeOf.object("translation",t),h.fromRotationTranslation(Z.Z.IDENTITY,t,e)},h.fromScale=function(t,e){return o.Z.typeOf.object("scale",t),(0,a.Z)(e)?(e[0]=t.x,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t.y,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t.z,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e):new h(t.x,0,0,0,0,t.y,0,0,0,0,t.z,0,0,0,0,1)},h.fromUniformScale=function(t,e){return o.Z.typeOf.number("scale",t),(0,a.Z)(e)?(e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e):new h(t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1)},h.fromRotation=function(t,e){return o.Z.typeOf.object("rotation",t),(0,a.Z)(e)||(e=new h),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=0,e[4]=t[3],e[5]=t[4],e[6]=t[5],e[7]=0,e[8]=t[6],e[9]=t[7],e[10]=t[8],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};const f=new r.Z,p=new r.Z,d=new r.Z;h.fromCamera=function(t,e){o.Z.typeOf.object("camera",t);const n=t.position,i=t.direction,s=t.up;o.Z.typeOf.object("camera.position",n),o.Z.typeOf.object("camera.direction",i),o.Z.typeOf.object("camera.up",s),r.Z.normalize(i,f),r.Z.normalize(r.Z.cross(f,s,p),p),r.Z.normalize(r.Z.cross(p,f,d),d);const c=p.x,u=p.y,Z=p.z,l=f.x,m=f.y,y=f.z,g=d.x,w=d.y,_=d.z,b=n.x,O=n.y,T=n.z,E=c*-b+u*-O+Z*-T,x=g*-b+w*-O+_*-T,P=l*b+m*O+y*T;return(0,a.Z)(e)?(e[0]=c,e[1]=g,e[2]=-l,e[3]=0,e[4]=u,e[5]=w,e[6]=-m,e[7]=0,e[8]=Z,e[9]=_,e[10]=-y,e[11]=0,e[12]=E,e[13]=x,e[14]=P,e[15]=1,e):new h(c,u,Z,E,g,w,_,x,-l,-m,-y,P,0,0,0,1)},h.computePerspectiveFieldOfView=function(t,e,n,r,i){o.Z.typeOf.number.greaterThan("fovY",t,0),o.Z.typeOf.number.lessThan("fovY",t,Math.PI),o.Z.typeOf.number.greaterThan("near",n,0),o.Z.typeOf.number.greaterThan("far",r,0),o.Z.typeOf.object("result",i);const s=1/Math.tan(.5*t),a=s/e,c=(r+n)/(n-r),u=2*r*n/(n-r);return i[0]=a,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=s,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=c,i[11]=-1,i[12]=0,i[13]=0,i[14]=u,i[15]=0,i},h.computeOrthographicOffCenter=function(t,e,n,r,i,s,a){o.Z.typeOf.number("left",t),o.Z.typeOf.number("right",e),o.Z.typeOf.number("bottom",n),o.Z.typeOf.number("top",r),o.Z.typeOf.number("near",i),o.Z.typeOf.number("far",s),o.Z.typeOf.object("result",a);let c=1/(e-t),u=1/(r-n),Z=1/(s-i);const l=-(e+t)*c,h=-(r+n)*u,f=-(s+i)*Z;return c*=2,u*=2,Z*=-2,a[0]=c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=Z,a[11]=0,a[12]=l,a[13]=h,a[14]=f,a[15]=1,a},h.computePerspectiveOffCenter=function(t,e,n,r,i,s,a){o.Z.typeOf.number("left",t),o.Z.typeOf.number("right",e),o.Z.typeOf.number("bottom",n),o.Z.typeOf.number("top",r),o.Z.typeOf.number("near",i),o.Z.typeOf.number("far",s),o.Z.typeOf.object("result",a);const c=2*i/(e-t),u=2*i/(r-n),Z=(e+t)/(e-t),l=(r+n)/(r-n),h=-(s+i)/(s-i),f=-2*s*i/(s-i);return a[0]=c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u,a[6]=0,a[7]=0,a[8]=Z,a[9]=l,a[10]=h,a[11]=-1,a[12]=0,a[13]=0,a[14]=f,a[15]=0,a},h.computeInfinitePerspectiveOffCenter=function(t,e,n,r,i,s){o.Z.typeOf.number("left",t),o.Z.typeOf.number("right",e),o.Z.typeOf.number("bottom",n),o.Z.typeOf.number("top",r),o.Z.typeOf.number("near",i),o.Z.typeOf.object("result",s);const a=2*i/(e-t),c=2*i/(r-n),u=(e+t)/(e-t),Z=(r+n)/(r-n),l=-2*i;return s[0]=a,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=c,s[6]=0,s[7]=0,s[8]=u,s[9]=Z,s[10]=-1,s[11]=-1,s[12]=0,s[13]=0,s[14]=l,s[15]=0,s},h.computeViewportTransformation=function(t,e,n,r){(0,a.Z)(r)||(r=new h),t=(0,s.Z)(t,s.Z.EMPTY_OBJECT);const i=(0,s.Z)(t.x,0),o=(0,s.Z)(t.y,0),c=(0,s.Z)(t.width,0),u=(0,s.Z)(t.height,0);e=(0,s.Z)(e,0);const Z=.5*c,l=.5*u,f=.5*((n=(0,s.Z)(n,1))-e),p=Z,d=l,m=f,y=i+Z,g=o+l,w=e+f;return r[0]=p,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=d,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=m,r[11]=0,r[12]=y,r[13]=g,r[14]=w,r[15]=1,r},h.computeView=function(t,e,n,i,s){return o.Z.typeOf.object("position",t),o.Z.typeOf.object("direction",e),o.Z.typeOf.object("up",n),o.Z.typeOf.object("right",i),o.Z.typeOf.object("result",s),s[0]=i.x,s[1]=n.x,s[2]=-e.x,s[3]=0,s[4]=i.y,s[5]=n.y,s[6]=-e.y,s[7]=0,s[8]=i.z,s[9]=n.z,s[10]=-e.z,s[11]=0,s[12]=-r.Z.dot(i,t),s[13]=-r.Z.dot(n,t),s[14]=r.Z.dot(e,t),s[15]=1,s},h.toArray=function(t,e){return o.Z.typeOf.object("matrix",t),(0,a.Z)(e)?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e):[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},h.getElementIndex=function(t,e){return o.Z.typeOf.number.greaterThanOrEquals("row",e,0),o.Z.typeOf.number.lessThanOrEquals("row",e,3),o.Z.typeOf.number.greaterThanOrEquals("column",t,0),o.Z.typeOf.number.lessThanOrEquals("column",t,3),4*t+e},h.getColumn=function(t,e,n){o.Z.typeOf.object("matrix",t),o.Z.typeOf.number.greaterThanOrEquals("index",e,0),o.Z.typeOf.number.lessThanOrEquals("index",e,3),o.Z.typeOf.object("result",n);const r=4*e,i=t[r],s=t[r+1],a=t[r+2],c=t[r+3];return n.x=i,n.y=s,n.z=a,n.w=c,n},h.setColumn=function(t,e,n,r){o.Z.typeOf.object("matrix",t),o.Z.typeOf.number.greaterThanOrEquals("index",e,0),o.Z.typeOf.number.lessThanOrEquals("index",e,3),o.Z.typeOf.object("cartesian",n),o.Z.typeOf.object("result",r);const i=4*e;return(r=h.clone(t,r))[i]=n.x,r[i+1]=n.y,r[i+2]=n.z,r[i+3]=n.w,r},h.getRow=function(t,e,n){o.Z.typeOf.object("matrix",t),o.Z.typeOf.number.greaterThanOrEquals("index",e,0),o.Z.typeOf.number.lessThanOrEquals("index",e,3),o.Z.typeOf.object("result",n);const r=t[e],i=t[e+4],s=t[e+8],a=t[e+12];return n.x=r,n.y=i,n.z=s,n.w=a,n},h.setRow=function(t,e,n,r){return o.Z.typeOf.object("matrix",t),o.Z.typeOf.number.greaterThanOrEquals("index",e,0),o.Z.typeOf.number.lessThanOrEquals("index",e,3),o.Z.typeOf.object("cartesian",n),o.Z.typeOf.object("result",r),(r=h.clone(t,r))[e]=n.x,r[e+4]=n.y,r[e+8]=n.z,r[e+12]=n.w,r},h.setTranslation=function(t,e,n){return o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("translation",e),o.Z.typeOf.object("result",n),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=t[15],n};const m=new r.Z;h.setScale=function(t,e,n){o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("scale",e),o.Z.typeOf.object("result",n);const r=h.getScale(t,m),i=e.x/r.x,s=e.y/r.y,a=e.z/r.z;return n[0]=t[0]*i,n[1]=t[1]*i,n[2]=t[2]*i,n[3]=t[3],n[4]=t[4]*s,n[5]=t[5]*s,n[6]=t[6]*s,n[7]=t[7],n[8]=t[8]*a,n[9]=t[9]*a,n[10]=t[10]*a,n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n};const y=new r.Z;h.setUniformScale=function(t,e,n){o.Z.typeOf.object("matrix",t),o.Z.typeOf.number("scale",e),o.Z.typeOf.object("result",n);const r=h.getScale(t,y),i=e/r.x,s=e/r.y,a=e/r.z;return n[0]=t[0]*i,n[1]=t[1]*i,n[2]=t[2]*i,n[3]=t[3],n[4]=t[4]*s,n[5]=t[5]*s,n[6]=t[6]*s,n[7]=t[7],n[8]=t[8]*a,n[9]=t[9]*a,n[10]=t[10]*a,n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n};const g=new r.Z;h.getScale=function(t,e){return o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("result",e),e.x=r.Z.magnitude(r.Z.fromElements(t[0],t[1],t[2],g)),e.y=r.Z.magnitude(r.Z.fromElements(t[4],t[5],t[6],g)),e.z=r.Z.magnitude(r.Z.fromElements(t[8],t[9],t[10],g)),e};const w=new r.Z;h.getMaximumScale=function(t){return h.getScale(t,w),r.Z.maximumComponent(w)};const _=new r.Z;h.setRotation=function(t,e,n){o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("result",n);const r=h.getScale(t,_);return n[0]=e[0]*r.x,n[1]=e[1]*r.x,n[2]=e[2]*r.x,n[3]=t[3],n[4]=e[3]*r.y,n[5]=e[4]*r.y,n[6]=e[5]*r.y,n[7]=t[7],n[8]=e[6]*r.z,n[9]=e[7]*r.z,n[10]=e[8]*r.z,n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n};const b=new r.Z;h.getRotation=function(t,e){o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("result",e);const n=h.getScale(t,b);return e[0]=t[0]/n.x,e[1]=t[1]/n.x,e[2]=t[2]/n.x,e[3]=t[4]/n.y,e[4]=t[5]/n.y,e[5]=t[6]/n.y,e[6]=t[8]/n.z,e[7]=t[9]/n.z,e[8]=t[10]/n.z,e},h.multiply=function(t,e,n){o.Z.typeOf.object("left",t),o.Z.typeOf.object("right",e),o.Z.typeOf.object("result",n);const r=t[0],i=t[1],s=t[2],a=t[3],c=t[4],u=t[5],Z=t[6],l=t[7],h=t[8],f=t[9],p=t[10],d=t[11],m=t[12],y=t[13],g=t[14],w=t[15],_=e[0],b=e[1],O=e[2],T=e[3],E=e[4],x=e[5],P=e[6],S=e[7],I=e[8],A=e[9],R=e[10],v=e[11],M=e[12],N=e[13],C=e[14],q=e[15],D=r*_+c*b+h*O+m*T,L=i*_+u*b+f*O+y*T,B=s*_+Z*b+p*O+g*T,j=a*_+l*b+d*O+w*T,z=r*E+c*x+h*P+m*S,k=i*E+u*x+f*P+y*S,U=s*E+Z*x+p*P+g*S,H=a*E+l*x+d*P+w*S,G=r*I+c*A+h*R+m*v,F=i*I+u*A+f*R+y*v,V=s*I+Z*A+p*R+g*v,W=a*I+l*A+d*R+w*v,Y=r*M+c*N+h*C+m*q,X=i*M+u*N+f*C+y*q,$=s*M+Z*N+p*C+g*q,J=a*M+l*N+d*C+w*q;return n[0]=D,n[1]=L,n[2]=B,n[3]=j,n[4]=z,n[5]=k,n[6]=U,n[7]=H,n[8]=G,n[9]=F,n[10]=V,n[11]=W,n[12]=Y,n[13]=X,n[14]=$,n[15]=J,n},h.add=function(t,e,n){return o.Z.typeOf.object("left",t),o.Z.typeOf.object("right",e),o.Z.typeOf.object("result",n),n[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n[3]=t[3]+e[3],n[4]=t[4]+e[4],n[5]=t[5]+e[5],n[6]=t[6]+e[6],n[7]=t[7]+e[7],n[8]=t[8]+e[8],n[9]=t[9]+e[9],n[10]=t[10]+e[10],n[11]=t[11]+e[11],n[12]=t[12]+e[12],n[13]=t[13]+e[13],n[14]=t[14]+e[14],n[15]=t[15]+e[15],n},h.subtract=function(t,e,n){return o.Z.typeOf.object("left",t),o.Z.typeOf.object("right",e),o.Z.typeOf.object("result",n),n[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n[3]=t[3]-e[3],n[4]=t[4]-e[4],n[5]=t[5]-e[5],n[6]=t[6]-e[6],n[7]=t[7]-e[7],n[8]=t[8]-e[8],n[9]=t[9]-e[9],n[10]=t[10]-e[10],n[11]=t[11]-e[11],n[12]=t[12]-e[12],n[13]=t[13]-e[13],n[14]=t[14]-e[14],n[15]=t[15]-e[15],n},h.multiplyTransformation=function(t,e,n){o.Z.typeOf.object("left",t),o.Z.typeOf.object("right",e),o.Z.typeOf.object("result",n);const r=t[0],i=t[1],s=t[2],a=t[4],c=t[5],u=t[6],Z=t[8],l=t[9],h=t[10],f=t[12],p=t[13],d=t[14],m=e[0],y=e[1],g=e[2],w=e[4],_=e[5],b=e[6],O=e[8],T=e[9],E=e[10],x=e[12],P=e[13],S=e[14],I=r*m+a*y+Z*g,A=i*m+c*y+l*g,R=s*m+u*y+h*g,v=r*w+a*_+Z*b,M=i*w+c*_+l*b,N=s*w+u*_+h*b,C=r*O+a*T+Z*E,q=i*O+c*T+l*E,D=s*O+u*T+h*E,L=r*x+a*P+Z*S+f,B=i*x+c*P+l*S+p,j=s*x+u*P+h*S+d;return n[0]=I,n[1]=A,n[2]=R,n[3]=0,n[4]=v,n[5]=M,n[6]=N,n[7]=0,n[8]=C,n[9]=q,n[10]=D,n[11]=0,n[12]=L,n[13]=B,n[14]=j,n[15]=1,n},h.multiplyByMatrix3=function(t,e,n){o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("rotation",e),o.Z.typeOf.object("result",n);const r=t[0],i=t[1],s=t[2],a=t[4],c=t[5],u=t[6],Z=t[8],l=t[9],h=t[10],f=e[0],p=e[1],d=e[2],m=e[3],y=e[4],g=e[5],w=e[6],_=e[7],b=e[8],O=r*f+a*p+Z*d,T=i*f+c*p+l*d,E=s*f+u*p+h*d,x=r*m+a*y+Z*g,P=i*m+c*y+l*g,S=s*m+u*y+h*g,I=r*w+a*_+Z*b,A=i*w+c*_+l*b,R=s*w+u*_+h*b;return n[0]=O,n[1]=T,n[2]=E,n[3]=0,n[4]=x,n[5]=P,n[6]=S,n[7]=0,n[8]=I,n[9]=A,n[10]=R,n[11]=0,n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n},h.multiplyByTranslation=function(t,e,n){o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("translation",e),o.Z.typeOf.object("result",n);const r=e.x,i=e.y,s=e.z,a=r*t[0]+i*t[4]+s*t[8]+t[12],c=r*t[1]+i*t[5]+s*t[9]+t[13],u=r*t[2]+i*t[6]+s*t[10]+t[14];return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=a,n[13]=c,n[14]=u,n[15]=t[15],n},h.multiplyByScale=function(t,e,n){o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("scale",e),o.Z.typeOf.object("result",n);const r=e.x,i=e.y,s=e.z;return 1===r&&1===i&&1===s?h.clone(t,n):(n[0]=r*t[0],n[1]=r*t[1],n[2]=r*t[2],n[3]=t[3],n[4]=i*t[4],n[5]=i*t[5],n[6]=i*t[6],n[7]=t[7],n[8]=s*t[8],n[9]=s*t[9],n[10]=s*t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n)},h.multiplyByUniformScale=function(t,e,n){return o.Z.typeOf.object("matrix",t),o.Z.typeOf.number("scale",e),o.Z.typeOf.object("result",n),n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e,n[3]=t[3],n[4]=t[4]*e,n[5]=t[5]*e,n[6]=t[6]*e,n[7]=t[7],n[8]=t[8]*e,n[9]=t[9]*e,n[10]=t[10]*e,n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n},h.multiplyByVector=function(t,e,n){o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("cartesian",e),o.Z.typeOf.object("result",n);const r=e.x,i=e.y,s=e.z,a=e.w,c=t[0]*r+t[4]*i+t[8]*s+t[12]*a,u=t[1]*r+t[5]*i+t[9]*s+t[13]*a,Z=t[2]*r+t[6]*i+t[10]*s+t[14]*a,l=t[3]*r+t[7]*i+t[11]*s+t[15]*a;return n.x=c,n.y=u,n.z=Z,n.w=l,n},h.multiplyByPointAsVector=function(t,e,n){o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("cartesian",e),o.Z.typeOf.object("result",n);const r=e.x,i=e.y,s=e.z,a=t[0]*r+t[4]*i+t[8]*s,c=t[1]*r+t[5]*i+t[9]*s,u=t[2]*r+t[6]*i+t[10]*s;return n.x=a,n.y=c,n.z=u,n},h.multiplyByPoint=function(t,e,n){o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("cartesian",e),o.Z.typeOf.object("result",n);const r=e.x,i=e.y,s=e.z,a=t[0]*r+t[4]*i+t[8]*s+t[12],c=t[1]*r+t[5]*i+t[9]*s+t[13],u=t[2]*r+t[6]*i+t[10]*s+t[14];return n.x=a,n.y=c,n.z=u,n},h.multiplyByScalar=function(t,e,n){return o.Z.typeOf.object("matrix",t),o.Z.typeOf.number("scalar",e),o.Z.typeOf.object("result",n),n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e,n[3]=t[3]*e,n[4]=t[4]*e,n[5]=t[5]*e,n[6]=t[6]*e,n[7]=t[7]*e,n[8]=t[8]*e,n[9]=t[9]*e,n[10]=t[10]*e,n[11]=t[11]*e,n[12]=t[12]*e,n[13]=t[13]*e,n[14]=t[14]*e,n[15]=t[15]*e,n},h.negate=function(t,e){return o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("result",e),e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=-t[7],e[8]=-t[8],e[9]=-t[9],e[10]=-t[10],e[11]=-t[11],e[12]=-t[12],e[13]=-t[13],e[14]=-t[14],e[15]=-t[15],e},h.transpose=function(t,e){o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("result",e);const n=t[1],r=t[2],i=t[3],s=t[6],a=t[7],c=t[11];return e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=s,e[10]=t[10],e[11]=t[14],e[12]=i,e[13]=a,e[14]=c,e[15]=t[15],e},h.abs=function(t,e){return o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("result",e),e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e[3]=Math.abs(t[3]),e[4]=Math.abs(t[4]),e[5]=Math.abs(t[5]),e[6]=Math.abs(t[6]),e[7]=Math.abs(t[7]),e[8]=Math.abs(t[8]),e[9]=Math.abs(t[9]),e[10]=Math.abs(t[10]),e[11]=Math.abs(t[11]),e[12]=Math.abs(t[12]),e[13]=Math.abs(t[13]),e[14]=Math.abs(t[14]),e[15]=Math.abs(t[15]),e},h.equals=function(t,e){return t===e||(0,a.Z)(t)&&(0,a.Z)(e)&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[3]===e[3]&&t[7]===e[7]&&t[11]===e[11]&&t[15]===e[15]},h.equalsEpsilon=function(t,e,n){return n=(0,s.Z)(n,0),t===e||(0,a.Z)(t)&&(0,a.Z)(e)&&Math.abs(t[0]-e[0])<=n&&Math.abs(t[1]-e[1])<=n&&Math.abs(t[2]-e[2])<=n&&Math.abs(t[3]-e[3])<=n&&Math.abs(t[4]-e[4])<=n&&Math.abs(t[5]-e[5])<=n&&Math.abs(t[6]-e[6])<=n&&Math.abs(t[7]-e[7])<=n&&Math.abs(t[8]-e[8])<=n&&Math.abs(t[9]-e[9])<=n&&Math.abs(t[10]-e[10])<=n&&Math.abs(t[11]-e[11])<=n&&Math.abs(t[12]-e[12])<=n&&Math.abs(t[13]-e[13])<=n&&Math.abs(t[14]-e[14])<=n&&Math.abs(t[15]-e[15])<=n},h.getTranslation=function(t,e){return o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("result",e),e.x=t[12],e.y=t[13],e.z=t[14],e},h.getMatrix3=function(t,e){return o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("result",e),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e};const O=new Z.Z,T=new Z.Z,E=new i.Z,x=new i.Z(0,0,0,1);h.inverse=function(t,e){o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("result",e);const n=t[0],r=t[4],s=t[8],a=t[12],c=t[1],f=t[5],p=t[9],d=t[13],m=t[2],y=t[6],g=t[10],w=t[14],_=t[3],b=t[7],P=t[11],S=t[15];let I=g*S,A=w*P,R=y*S,v=w*b,M=y*P,N=g*b,C=m*S,q=w*_,D=m*P,L=g*_,B=m*b,j=y*_;const z=I*f+v*p+M*d-(A*f+R*p+N*d),k=A*c+C*p+L*d-(I*c+q*p+D*d),U=R*c+q*f+B*d-(v*c+C*f+j*d),H=N*c+D*f+j*p-(M*c+L*f+B*p),G=A*r+R*s+N*a-(I*r+v*s+M*a),F=I*n+q*s+D*a-(A*n+C*s+L*a),V=v*n+C*r+j*a-(R*n+q*r+B*a),W=M*n+L*r+B*s-(N*n+D*r+j*s);I=s*d,A=a*p,R=r*d,v=a*f,M=r*p,N=s*f,C=n*d,q=a*c,D=n*p,L=s*c,B=n*f,j=r*c;const Y=I*b+v*P+M*S-(A*b+R*P+N*S),X=A*_+C*P+L*S-(I*_+q*P+D*S),$=R*_+q*b+B*S-(v*_+C*b+j*S),J=N*_+D*b+j*P-(M*_+L*b+B*P),Q=R*g+N*w+A*y-(M*w+I*y+v*g),K=D*w+I*m+q*g-(C*g+L*w+A*m),tt=C*y+j*w+v*m-(B*w+R*m+q*y),et=B*g+M*m+L*y-(D*y+j*g+N*m);let nt=n*z+r*k+s*U+a*H;if(Math.abs(nt)<u.Z.EPSILON21){if(Z.Z.equalsEpsilon(h.getMatrix3(t,O),T,u.Z.EPSILON7)&&i.Z.equals(h.getRow(t,3,E),x))return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=0,e[11]=0,e[12]=-t[12],e[13]=-t[13],e[14]=-t[14],e[15]=1,e;throw new l.Z("matrix is not invertible because its determinate is zero.")}return nt=1/nt,e[0]=z*nt,e[1]=k*nt,e[2]=U*nt,e[3]=H*nt,e[4]=G*nt,e[5]=F*nt,e[6]=V*nt,e[7]=W*nt,e[8]=Y*nt,e[9]=X*nt,e[10]=$*nt,e[11]=J*nt,e[12]=Q*nt,e[13]=K*nt,e[14]=tt*nt,e[15]=et*nt,e},h.inverseTransformation=function(t,e){o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("result",e);const n=t[0],r=t[1],i=t[2],s=t[4],a=t[5],c=t[6],u=t[8],Z=t[9],l=t[10],h=t[12],f=t[13],p=t[14],d=-n*h-r*f-i*p,m=-s*h-a*f-c*p,y=-u*h-Z*f-l*p;return e[0]=n,e[1]=s,e[2]=u,e[3]=0,e[4]=r,e[5]=a,e[6]=Z,e[7]=0,e[8]=i,e[9]=c,e[10]=l,e[11]=0,e[12]=d,e[13]=m,e[14]=y,e[15]=1,e};const P=new h;h.inverseTranspose=function(t,e){return o.Z.typeOf.object("matrix",t),o.Z.typeOf.object("result",e),h.inverse(h.transpose(t,P),e)},h.IDENTITY=Object.freeze(new h(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),h.ZERO=Object.freeze(new h(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),h.COLUMN0ROW0=0,h.COLUMN0ROW1=1,h.COLUMN0ROW2=2,h.COLUMN0ROW3=3,h.COLUMN1ROW0=4,h.COLUMN1ROW1=5,h.COLUMN1ROW2=6,h.COLUMN1ROW3=7,h.COLUMN2ROW0=8,h.COLUMN2ROW1=9,h.COLUMN2ROW2=10,h.COLUMN2ROW3=11,h.COLUMN3ROW0=12,h.COLUMN3ROW1=13,h.COLUMN3ROW2=14,h.COLUMN3ROW3=15,Object.defineProperties(h.prototype,{length:{get:function(){return h.packedLength}}}),h.prototype.clone=function(t){return h.clone(this,t)},h.prototype.equals=function(t){return h.equals(this,t)},h.equalsArray=function(t,e,n){return t[0]===e[n]&&t[1]===e[n+1]&&t[2]===e[n+2]&&t[3]===e[n+3]&&t[4]===e[n+4]&&t[5]===e[n+5]&&t[6]===e[n+6]&&t[7]===e[n+7]&&t[8]===e[n+8]&&t[9]===e[n+9]&&t[10]===e[n+10]&&t[11]===e[n+11]&&t[12]===e[n+12]&&t[13]===e[n+13]&&t[14]===e[n+14]&&t[15]===e[n+15]},h.prototype.equalsEpsilon=function(t,e){return h.equalsEpsilon(this,t,e)},h.prototype.toString=function(){return`(${this[0]}, ${this[4]}, ${this[8]}, ${this[12]})\n(${this[1]}, ${this[5]}, ${this[9]}, ${this[13]})\n(${this[2]}, ${this[6]}, ${this[10]}, ${this[14]})\n(${this[3]}, ${this[7]}, ${this[11]}, ${this[15]})`};const S=h},99949:(t,e,n)=>{n.d(e,{Z:()=>u});var r=n(17497),i=n(88779),o=n(54485),s=n(20176),a=n(69070);function c(t){const e=(t=(0,i.Z)(t,i.Z.EMPTY_OBJECT)).weights,n=t.times;if(r.Z.defined("weights",e),r.Z.defined("times",n),r.Z.typeOf.number.greaterThanOrEquals("weights.length",e.length,3),e.length%n.length!=0)throw new s.Z("times.length must be a factor of weights.length.");this._times=n,this._weights=e,this._count=e.length/n.length,this._lastTimeIndex=0}Object.defineProperties(c.prototype,{times:{get:function(){return this._times}},weights:{get:function(){return this._weights}}}),c.prototype.findTimeInterval=a.Z.prototype.findTimeInterval,c.prototype.wrapTime=a.Z.prototype.wrapTime,c.prototype.clampTime=a.Z.prototype.clampTime,c.prototype.evaluate=function(t,e){const n=this.weights,r=this.times,i=this._lastTimeIndex=this.findTimeInterval(t,this._lastTimeIndex),s=(t-r[i])/(r[i+1]-r[i]);(0,o.Z)(e)||(e=new Array(this._count));for(let t=0;t<this._count;t++){const r=i*this._count+t;e[t]=n[r]*(1-s)+n[r+this._count]*s}return e};const u=c},84564:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(17497),i=n(54485),o=n(20176);const s={};function a(t){return t=1431655765&((t=858993459&((t=252645135&((t=16711935&(t^t<<8))^t<<4))^t<<2))^t<<1)}function c(t){return t=153391689&((t=51130563&((t=50393103&((t=50331903&(t^t<<16))^t<<8))^t<<4))^t<<2)}function u(t){return t=65535&((t=16711935&((t=252645135&((t=858993459&((t&=1431655765)^t>>1))^t>>2))^t>>4))^t>>8)}function Z(t){return t=1023&((t=4278190335&((t=50393103&((t=51130563&((t&=153391689)^t>>2))^t>>4))^t>>8))^t>>16)}s.encode2D=function(t,e){if(r.Z.typeOf.number("x",t),r.Z.typeOf.number("y",e),t<0||t>65535||e<0||e>65535)throw new o.Z("inputs must be 16-bit unsigned integers");return(a(t)|a(e)<<1)>>>0},s.decode2D=function(t,e){if(r.Z.typeOf.number("mortonIndex",t),t<0||t>4294967295)throw new o.Z("input must be a 32-bit unsigned integer");return(0,i.Z)(e)||(e=new Array(2)),e[0]=u(t),e[1]=u(t>>1),e},s.encode3D=function(t,e,n){if(r.Z.typeOf.number("x",t),r.Z.typeOf.number("y",e),r.Z.typeOf.number("z",n),t<0||t>1023||e<0||e>1023||n<0||n>1023)throw new o.Z("inputs must be 10-bit unsigned integers");return c(t)|c(e)<<1|c(n)<<2},s.decode3D=function(t,e){if(r.Z.typeOf.number("mortonIndex",t),t<0||t>1073741823)throw new o.Z("input must be a 30-bit unsigned integer");return(0,i.Z)(e)||(e=new Array(3)),e[0]=Z(t),e[1]=Z(t>>1),e[2]=Z(t>>2),e};const l=s},14633:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(88779),i=n(54485),o=n(20176);function s(t,e,n,i){this.near=(0,r.Z)(t,0),this.nearValue=(0,r.Z)(e,0),this.far=(0,r.Z)(n,1),this.farValue=(0,r.Z)(i,0)}s.clone=function(t,e){if((0,i.Z)(t))return(0,i.Z)(e)?(e.near=t.near,e.nearValue=t.nearValue,e.far=t.far,e.farValue=t.farValue,e):new s(t.near,t.nearValue,t.far,t.farValue)},s.packedLength=4,s.pack=function(t,e,n){if(!(0,i.Z)(t))throw new o.Z("value is required");if(!(0,i.Z)(e))throw new o.Z("array is required");return n=(0,r.Z)(n,0),e[n++]=t.near,e[n++]=t.nearValue,e[n++]=t.far,e[n]=t.farValue,e},s.unpack=function(t,e,n){if(!(0,i.Z)(t))throw new o.Z("array is required");return e=(0,r.Z)(e,0),(0,i.Z)(n)||(n=new s),n.near=t[e++],n.nearValue=t[e++],n.far=t[e++],n.farValue=t[e],n},s.equals=function(t,e){return t===e||(0,i.Z)(t)&&(0,i.Z)(e)&&t.near===e.near&&t.nearValue===e.nearValue&&t.far===e.far&&t.farValue===e.farValue},s.prototype.clone=function(t){return s.clone(this,t)},s.prototype.equals=function(t){return s.equals(this,t)};const a=s},11248:(t,e,n)=>{n.d(e,{Z:()=>x});var r=n(52351),i=n(93517),o=n(88779),s=n(54485),a=n(20176),c=n(99996),u=n(22874),Z=n(34152),l=n(33374);function h(t,e){if(!(0,s.Z)(t))throw new a.Z("occluderBoundingSphere is required.");if(!(0,s.Z)(e))throw new a.Z("camera position is required.");this._occluderPosition=i.Z.clone(t.center),this._occluderRadius=t.radius,this._horizonDistance=0,this._horizonPlaneNormal=void 0,this._horizonPlanePosition=void 0,this._cameraPosition=void 0,this.cameraPosition=e}const f=new i.Z;Object.defineProperties(h.prototype,{position:{get:function(){return this._occluderPosition}},radius:{get:function(){return this._occluderRadius}},cameraPosition:{set:function(t){if(!(0,s.Z)(t))throw new a.Z("cameraPosition is required.");t=i.Z.clone(t,this._cameraPosition);const e=i.Z.subtract(this._occluderPosition,t,f);let n=i.Z.magnitudeSquared(e);const r=this._occluderRadius*this._occluderRadius;let o,c,u;if(n>r){o=Math.sqrt(n-r),n=1/Math.sqrt(n),c=i.Z.multiplyByScalar(e,n,f);const s=o*o*n;u=i.Z.add(t,i.Z.multiplyByScalar(c,s,f),f)}else o=Number.MAX_VALUE;this._horizonDistance=o,this._horizonPlaneNormal=c,this._horizonPlanePosition=u,this._cameraPosition=t}}}),h.fromBoundingSphere=function(t,e,n){if(!(0,s.Z)(t))throw new a.Z("occluderBoundingSphere is required.");if(!(0,s.Z)(e))throw new a.Z("camera position is required.");return(0,s.Z)(n)?(i.Z.clone(t.center,n._occluderPosition),n._occluderRadius=t.radius,n.cameraPosition=e,n):new h(t,e)};const p=new i.Z;h.prototype.isPointVisible=function(t){if(this._horizonDistance!==Number.MAX_VALUE){let e=i.Z.subtract(t,this._occluderPosition,p),n=this._occluderRadius;if(n=i.Z.magnitudeSquared(e)-n*n,n>0)return n=Math.sqrt(n)+this._horizonDistance,e=i.Z.subtract(t,this._cameraPosition,e),n*n>i.Z.magnitudeSquared(e)}return!1};const d=new i.Z;h.prototype.isBoundingSphereVisible=function(t){const e=i.Z.clone(t.center,d),n=t.radius;if(this._horizonDistance!==Number.MAX_VALUE){let t=i.Z.subtract(e,this._occluderPosition,p),r=this._occluderRadius-n;if(r=i.Z.magnitudeSquared(t)-r*r,n<this._occluderRadius)return r>0&&(r=Math.sqrt(r)+this._horizonDistance,t=i.Z.subtract(e,this._cameraPosition,t),r*r+n*n>i.Z.magnitudeSquared(t));if(r>0){t=i.Z.subtract(e,this._cameraPosition,t);const o=i.Z.magnitudeSquared(t),s=this._occluderRadius*this._occluderRadius,a=n*n;return(this._horizonDistance*this._horizonDistance+s)*a>o*s||(r=Math.sqrt(r)+this._horizonDistance,r*r+a>o)}return!0}return!1};const m=new i.Z;h.prototype.computeVisibility=function(t){if(!(0,s.Z)(t))throw new a.Z("occludeeBS is required.");const e=i.Z.clone(t.center),n=t.radius;if(n>this._occluderRadius)return l.Z.FULL;if(this._horizonDistance!==Number.MAX_VALUE){let t=i.Z.subtract(e,this._occluderPosition,m),r=this._occluderRadius-n;const o=i.Z.magnitudeSquared(t);if(r=o-r*r,r>0){r=Math.sqrt(r)+this._horizonDistance,t=i.Z.subtract(e,this._cameraPosition,t);const s=i.Z.magnitudeSquared(t);return r*r+n*n<s?l.Z.NONE:(r=this._occluderRadius+n,r=o-r*r,r>0?(r=Math.sqrt(r)+this._horizonDistance,s<r*r+n*n?l.Z.FULL:l.Z.PARTIAL):(t=i.Z.subtract(e,this._horizonPlanePosition,t),i.Z.dot(t,this._horizonPlaneNormal)>-n?l.Z.PARTIAL:l.Z.FULL))}}return l.Z.NONE};const y=new i.Z;h.computeOccludeePoint=function(t,e,n){if(!(0,s.Z)(t))throw new a.Z("occluderBoundingSphere is required.");if(!(0,s.Z)(n))throw new a.Z("positions is required.");if(0===n.length)throw new a.Z("positions must contain at least one element");const r=i.Z.clone(e),o=i.Z.clone(t.center),c=t.radius,u=n.length;if(i.Z.equals(o,e))throw new a.Z("occludeePosition must be different than occluderBoundingSphere.center");const Z=i.Z.normalize(i.Z.subtract(r,o,y),y),l=-i.Z.dot(Z,o),f=h._anyRotationVector(o,Z,l);let p,d=h._horizonToPlaneNormalDotProduct(t,Z,l,f,n[0]);if(!d)return;for(let e=1;e<u;++e){if(p=h._horizonToPlaneNormalDotProduct(t,Z,l,f,n[e]),!p)return;p<d&&(d=p)}if(d<.0017453283658983088)return;const m=c/d;return i.Z.add(o,i.Z.multiplyByScalar(Z,m,y),y)};const g=[];h.computeOccludeePointFromRectangle=function(t,e){if(!(0,s.Z)(t))throw new a.Z("rectangle is required.");e=(0,o.Z)(e,c.Z.WGS84);const n=Z.Z.subsample(t,e,0,g),u=r.Z.fromPoints(n),l=i.Z.ZERO;if(!i.Z.equals(l,u.center))return h.computeOccludeePoint(new r.Z(l,e.minimumRadius),u.center,n)};const w=new i.Z;h._anyRotationVector=function(t,e,n){const r=i.Z.abs(e,w);let o=r.x>r.y?0:1;(0===o&&r.z>r.x||1===o&&r.z>r.y)&&(o=2);const s=new i.Z;let a;0===o?(r.x=t.x,r.y=t.y+1,r.z=t.z+1,a=i.Z.UNIT_X):1===o?(r.x=t.x+1,r.y=t.y,r.z=t.z+1,a=i.Z.UNIT_Y):(r.x=t.x+1,r.y=t.y+1,r.z=t.z,a=i.Z.UNIT_Z);const c=(i.Z.dot(e,r)+n)/-i.Z.dot(e,a);return i.Z.normalize(i.Z.subtract(i.Z.add(r,i.Z.multiplyByScalar(a,c,s),r),t,r),r)};const _=new i.Z;h._rotationVector=function(t,e,n,r,o){let s=i.Z.subtract(r,t,_);if(s=i.Z.normalize(s,s),i.Z.dot(e,s)<.9999999847691291){const t=i.Z.cross(e,s,s);if(i.Z.magnitude(t)>u.Z.EPSILON13)return i.Z.normalize(t,new i.Z)}return o};const b=new i.Z,O=new i.Z,T=new i.Z,E=new i.Z;h._horizonToPlaneNormalDotProduct=function(t,e,n,r,o){const s=i.Z.clone(o,b),a=i.Z.clone(t.center,O),c=t.radius;let u=i.Z.subtract(a,s,T);const Z=i.Z.magnitudeSquared(u),l=c*c;if(Z<l)return!1;const h=Z-l,f=Math.sqrt(h),p=f*(1/Math.sqrt(Z))*f;u=i.Z.normalize(u,u);const d=i.Z.add(s,i.Z.multiplyByScalar(u,p,E),E),m=Math.sqrt(h-p*p);let y=this._rotationVector(a,e,n,s,r),g=i.Z.fromElements(y.x*y.x*u.x+(y.x*y.y-y.z)*u.y+(y.x*y.z+y.y)*u.z,(y.x*y.y+y.z)*u.x+y.y*y.y*u.y+(y.y*y.z-y.x)*u.z,(y.x*y.z-y.y)*u.x+(y.y*y.z+y.x)*u.y+y.z*y.z*u.z,b);g=i.Z.normalize(g,g);const w=i.Z.multiplyByScalar(g,m,b);y=i.Z.normalize(i.Z.subtract(i.Z.add(d,w,T),a,T),T);const _=i.Z.dot(e,y);y=i.Z.normalize(i.Z.subtract(i.Z.subtract(d,w,y),a,y),y);const x=i.Z.dot(e,y);return _<x?_:x};const x=h},6206:(t,e,n)=>{n.d(e,{Z:()=>c});var r=n(17497),i=n(44990),o=n(88779),s=n(54485);function a(t,e,n){t=(0,o.Z)(t,0),e=(0,o.Z)(e,0),n=(0,o.Z)(n,0),this.value=new Float32Array([t,e,n])}Object.defineProperties(a.prototype,{componentDatatype:{get:function(){return i.Z.FLOAT}},componentsPerAttribute:{get:function(){return 3}},normalize:{get:function(){return!1}}}),a.fromCartesian3=function(t){return r.Z.defined("offset",t),new a(t.x,t.y,t.z)},a.toValue=function(t,e){return r.Z.defined("offset",t),(0,s.Z)(e)||(e=new Float32Array([t.x,t.y,t.z])),e[0]=t.x,e[1]=t.y,e[2]=t.z,e};const c=a},94889:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(93517),i=n(17497),o=n(51138),s=n(88779),a=n(54485),c=n(34152),u=n(67197);function Z(t,e,n){i.Z.defined("url",t),i.Z.defined("apiKey",e),(0,a.Z)(n)&&i.Z.typeOf.object("params",n),(t=u.Z.createIfNeeded(t)).appendForwardSlash(),t.setQueryParameters({key:e}),this._url=t,this._params=(0,s.Z)(n,{})}Object.defineProperties(Z.prototype,{url:{get:function(){return this._url}},params:{get:function(){return this._params}}}),Z.prototype.geocode=function(t){i.Z.typeOf.string("query",t);return this._url.getDerivedResource({url:"json",queryParameters:(0,o.Z)(this._params,{q:t})}).fetchJson().then((function(t){return t.results.map((function(t){let e;const n=t.bounds;if((0,a.Z)(n))e=c.Z.fromDegrees(n.southwest.lng,n.southwest.lat,n.northeast.lng,n.northeast.lat);else{const n=t.geometry.lat,i=t.geometry.lng;e=r.Z.fromDegrees(n,i)}return{displayName:t.formatted,destination:e}}))}))};const l=Z},42428:(t,e,n)=>{n.d(e,{Z:()=>yt});var r=n(52351),i=n(59015),o=n(93517),s=n(66866),a=n(17497),c=n(88779),u=n(54485),Z=n(20176),l=n(99996),h=n(60794),f=n(3169),p=n(20442),d=n(22874),m=n(39109),y=n(71118),g=n(30445),w=n(34152);function _(t,e){this.center=o.Z.clone((0,c.Z)(t,o.Z.ZERO)),this.halfAxes=m.Z.clone((0,c.Z)(e,m.Z.ZERO))}_.packedLength=o.Z.packedLength+m.Z.packedLength,_.pack=function(t,e,n){return a.Z.typeOf.object("value",t),a.Z.defined("array",e),n=(0,c.Z)(n,0),o.Z.pack(t.center,e,n),m.Z.pack(t.halfAxes,e,n+o.Z.packedLength),e},_.unpack=function(t,e,n){return a.Z.defined("array",t),e=(0,c.Z)(e,0),(0,u.Z)(n)||(n=new _),o.Z.unpack(t,e,n.center),m.Z.unpack(t,e+o.Z.packedLength,n.halfAxes),n};const b=new o.Z,O=new o.Z,T=new o.Z,E=new o.Z,x=new o.Z,P=new o.Z,S=new m.Z,I={unitary:new m.Z,diagonal:new m.Z};_.fromPoints=function(t,e){if((0,u.Z)(e)||(e=new _),!(0,u.Z)(t)||0===t.length)return e.halfAxes=m.Z.ZERO,e.center=o.Z.ZERO,e;let n;const r=t.length,i=o.Z.clone(t[0],b);for(n=1;n<r;n++)o.Z.add(i,t[n],i);const s=1/r;o.Z.multiplyByScalar(i,s,i);let a,c=0,Z=0,l=0,h=0,f=0,p=0;for(n=0;n<r;n++)a=o.Z.subtract(t[n],i,O),c+=a.x*a.x,Z+=a.x*a.y,l+=a.x*a.z,h+=a.y*a.y,f+=a.y*a.z,p+=a.z*a.z;c*=s,Z*=s,l*=s,h*=s,f*=s,p*=s;const d=S;d[0]=c,d[1]=Z,d[2]=l,d[3]=Z,d[4]=h,d[5]=f,d[6]=l,d[7]=f,d[8]=p;const y=m.Z.computeEigenDecomposition(d,I),g=m.Z.clone(y.unitary,e.halfAxes);let w=m.Z.getColumn(g,0,E),A=m.Z.getColumn(g,1,x),R=m.Z.getColumn(g,2,P),v=-Number.MAX_VALUE,M=-Number.MAX_VALUE,N=-Number.MAX_VALUE,C=Number.MAX_VALUE,q=Number.MAX_VALUE,D=Number.MAX_VALUE;for(n=0;n<r;n++)a=t[n],v=Math.max(o.Z.dot(w,a),v),M=Math.max(o.Z.dot(A,a),M),N=Math.max(o.Z.dot(R,a),N),C=Math.min(o.Z.dot(w,a),C),q=Math.min(o.Z.dot(A,a),q),D=Math.min(o.Z.dot(R,a),D);w=o.Z.multiplyByScalar(w,.5*(C+v),w),A=o.Z.multiplyByScalar(A,.5*(q+M),A),R=o.Z.multiplyByScalar(R,.5*(D+N),R);const L=o.Z.add(w,A,e.center);o.Z.add(L,R,L);const B=T;return B.x=v-C,B.y=M-q,B.z=N-D,o.Z.multiplyByScalar(B,.5,B),m.Z.multiplyByScale(e.halfAxes,B,e.halfAxes),e};const A=new o.Z,R=new o.Z;function v(t,e,n,r,i,s,a,c,l,h,f){if(!((0,u.Z)(i)&&(0,u.Z)(s)&&(0,u.Z)(a)&&(0,u.Z)(c)&&(0,u.Z)(l)&&(0,u.Z)(h)))throw new Z.Z("all extents (minimum/maximum X/Y/Z) are required.");(0,u.Z)(f)||(f=new _);const p=f.halfAxes;m.Z.setColumn(p,0,e,p),m.Z.setColumn(p,1,n,p),m.Z.setColumn(p,2,r,p);let d=A;d.x=(i+s)/2,d.y=(a+c)/2,d.z=(l+h)/2;const y=R;y.x=(s-i)/2,y.y=(c-a)/2,y.z=(h-l)/2;const g=f.center;return d=m.Z.multiplyByVector(p,d,d),o.Z.add(t,d,g),m.Z.multiplyByScale(p,y,p),f}const M=new s.Z,N=new o.Z,C=new s.Z,q=new s.Z,D=new s.Z,L=new s.Z,B=new s.Z,j=new o.Z,z=new o.Z,k=new o.Z,U=new o.Z,H=new o.Z,G=new i.Z,F=new i.Z,V=new i.Z,W=new i.Z,Y=new i.Z,X=new o.Z,$=new o.Z,J=new o.Z,Q=new o.Z,K=new i.Z,tt=new o.Z,et=new o.Z,nt=new o.Z,rt=new g.Z(o.Z.UNIT_X,0);_.fromRectangle=function(t,e,n,r,i){if(!(0,u.Z)(t))throw new Z.Z("rectangle is required");if(t.width<0||t.width>d.Z.TWO_PI)throw new Z.Z("Rectangle width must be between 0 and 2*pi");if(t.height<0||t.height>d.Z.PI)throw new Z.Z("Rectangle height must be between 0 and pi");if((0,u.Z)(r)&&!d.Z.equalsEpsilon(r.radii.x,r.radii.y,d.Z.EPSILON15))throw new Z.Z("Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)");let a,f,p,m,y,_,b;if(e=(0,c.Z)(e,0),n=(0,c.Z)(n,0),r=(0,c.Z)(r,l.Z.WGS84),t.width<=d.Z.PI){const o=w.Z.center(t,M),c=r.cartographicToCartesian(o,N),u=new h.Z(c,r);b=u.plane;const Z=o.longitude,l=t.south<0&&t.north>0?0:o.latitude,d=s.Z.fromRadians(Z,t.north,n,C),O=s.Z.fromRadians(t.west,t.north,n,q),T=s.Z.fromRadians(t.west,l,n,D),E=s.Z.fromRadians(t.west,t.south,n,L),x=s.Z.fromRadians(Z,t.south,n,B),P=r.cartographicToCartesian(d,j);let S=r.cartographicToCartesian(O,z);const I=r.cartographicToCartesian(T,k);let A=r.cartographicToCartesian(E,U);const R=r.cartographicToCartesian(x,H),X=u.projectPointToNearestOnPlane(P,G),$=u.projectPointToNearestOnPlane(S,F),J=u.projectPointToNearestOnPlane(I,V),Q=u.projectPointToNearestOnPlane(A,W),K=u.projectPointToNearestOnPlane(R,Y);return a=Math.min($.x,J.x,Q.x),f=-a,m=Math.max($.y,X.y),p=Math.min(Q.y,K.y),O.height=E.height=e,S=r.cartographicToCartesian(O,z),A=r.cartographicToCartesian(E,U),y=Math.min(g.Z.getPointDistance(b,S),g.Z.getPointDistance(b,A)),_=n,v(u.origin,u.xAxis,u.yAxis,u.zAxis,a,f,p,m,y,_,i)}const O=t.south>0,T=t.north<0,E=O?t.south:T?t.north:0,x=w.Z.center(t,M).longitude,P=o.Z.fromRadians(x,E,n,r,X);P.z=0;const S=Math.abs(P.x)<d.Z.EPSILON10&&Math.abs(P.y)<d.Z.EPSILON10?o.Z.UNIT_X:o.Z.normalize(P,$),I=o.Z.UNIT_Z,A=o.Z.cross(S,I,J);b=g.Z.fromPointNormal(P,S,rt);const R=o.Z.fromRadians(x+d.Z.PI_OVER_TWO,E,n,r,Q);f=o.Z.dot(g.Z.projectPointOntoPlane(b,R,K),A),a=-f,m=o.Z.fromRadians(0,t.north,T?e:n,r,tt).z,p=o.Z.fromRadians(0,t.south,O?e:n,r,et).z;const it=o.Z.fromRadians(t.east,E,n,r,nt);return y=g.Z.getPointDistance(b,it),_=0,v(P,A,I,S,a,f,p,m,y,_,i)},_.fromTransformation=function(t,e){return a.Z.typeOf.object("transformation",t),(0,u.Z)(e)||(e=new _),e.center=y.Z.getTranslation(t,e.center),e.halfAxes=y.Z.getMatrix3(t,e.halfAxes),e.halfAxes=m.Z.multiplyByScalar(e.halfAxes,.5,e.halfAxes),e},_.clone=function(t,e){if((0,u.Z)(t))return(0,u.Z)(e)?(o.Z.clone(t.center,e.center),m.Z.clone(t.halfAxes,e.halfAxes),e):new _(t.center,t.halfAxes)},_.intersectPlane=function(t,e){if(!(0,u.Z)(t))throw new Z.Z("box is required.");if(!(0,u.Z)(e))throw new Z.Z("plane is required.");const n=t.center,r=e.normal,i=t.halfAxes,s=r.x,a=r.y,c=r.z,l=Math.abs(s*i[m.Z.COLUMN0ROW0]+a*i[m.Z.COLUMN0ROW1]+c*i[m.Z.COLUMN0ROW2])+Math.abs(s*i[m.Z.COLUMN1ROW0]+a*i[m.Z.COLUMN1ROW1]+c*i[m.Z.COLUMN1ROW2])+Math.abs(s*i[m.Z.COLUMN2ROW0]+a*i[m.Z.COLUMN2ROW1]+c*i[m.Z.COLUMN2ROW2]),h=o.Z.dot(r,n)+e.distance;return h<=-l?f.Z.OUTSIDE:h>=l?f.Z.INSIDE:f.Z.INTERSECTING};const it=new o.Z,ot=new o.Z,st=new o.Z,at=new o.Z,ct=new o.Z,ut=new o.Z;_.distanceSquaredTo=function(t,e){if(!(0,u.Z)(t))throw new Z.Z("box is required.");if(!(0,u.Z)(e))throw new Z.Z("cartesian is required.");const n=o.Z.subtract(e,t.center,A),r=t.halfAxes;let i=m.Z.getColumn(r,0,it),s=m.Z.getColumn(r,1,ot),a=m.Z.getColumn(r,2,st);const c=o.Z.magnitude(i),l=o.Z.magnitude(s),h=o.Z.magnitude(a);let f=!0,p=!0,y=!0;c>0?o.Z.divideByScalar(i,c,i):f=!1,l>0?o.Z.divideByScalar(s,l,s):p=!1,h>0?o.Z.divideByScalar(a,h,a):y=!1;const g=!f+!p+!y;let w,_,b;if(1===g){let t=i;w=s,_=a,p?y||(t=a,_=i):(t=s,w=i),b=o.Z.cross(w,_,ct),t===i?i=b:t===s?s=b:t===a&&(a=b)}else if(2===g){w=i,p?w=s:y&&(w=a);let t=o.Z.UNIT_Y;t.equalsEpsilon(w,d.Z.EPSILON3)&&(t=o.Z.UNIT_X),_=o.Z.cross(w,t,at),o.Z.normalize(_,_),b=o.Z.cross(w,_,ct),o.Z.normalize(b,b),w===i?(s=_,a=b):w===s?(a=_,i=b):w===a&&(i=_,s=b)}else 3===g&&(i=o.Z.UNIT_X,s=o.Z.UNIT_Y,a=o.Z.UNIT_Z);const O=ut;O.x=o.Z.dot(n,i),O.y=o.Z.dot(n,s),O.z=o.Z.dot(n,a);let T,E=0;return O.x<-c?(T=O.x+c,E+=T*T):O.x>c&&(T=O.x-c,E+=T*T),O.y<-l?(T=O.y+l,E+=T*T):O.y>l&&(T=O.y-l,E+=T*T),O.z<-h?(T=O.z+h,E+=T*T):O.z>h&&(T=O.z-h,E+=T*T),E};const Zt=new o.Z,lt=new o.Z;_.computePlaneDistances=function(t,e,n,r){if(!(0,u.Z)(t))throw new Z.Z("box is required.");if(!(0,u.Z)(e))throw new Z.Z("position is required.");if(!(0,u.Z)(n))throw new Z.Z("direction is required.");(0,u.Z)(r)||(r=new p.Z);let i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;const a=t.center,c=t.halfAxes,l=m.Z.getColumn(c,0,it),h=m.Z.getColumn(c,1,ot),f=m.Z.getColumn(c,2,st),d=o.Z.add(l,h,Zt);o.Z.add(d,f,d),o.Z.add(d,a,d);const y=o.Z.subtract(d,e,lt);let g=o.Z.dot(n,y);return i=Math.min(g,i),s=Math.max(g,s),o.Z.add(a,l,d),o.Z.add(d,h,d),o.Z.subtract(d,f,d),o.Z.subtract(d,e,y),g=o.Z.dot(n,y),i=Math.min(g,i),s=Math.max(g,s),o.Z.add(a,l,d),o.Z.subtract(d,h,d),o.Z.add(d,f,d),o.Z.subtract(d,e,y),g=o.Z.dot(n,y),i=Math.min(g,i),s=Math.max(g,s),o.Z.add(a,l,d),o.Z.subtract(d,h,d),o.Z.subtract(d,f,d),o.Z.subtract(d,e,y),g=o.Z.dot(n,y),i=Math.min(g,i),s=Math.max(g,s),o.Z.subtract(a,l,d),o.Z.add(d,h,d),o.Z.add(d,f,d),o.Z.subtract(d,e,y),g=o.Z.dot(n,y),i=Math.min(g,i),s=Math.max(g,s),o.Z.subtract(a,l,d),o.Z.add(d,h,d),o.Z.subtract(d,f,d),o.Z.subtract(d,e,y),g=o.Z.dot(n,y),i=Math.min(g,i),s=Math.max(g,s),o.Z.subtract(a,l,d),o.Z.subtract(d,h,d),o.Z.add(d,f,d),o.Z.subtract(d,e,y),g=o.Z.dot(n,y),i=Math.min(g,i),s=Math.max(g,s),o.Z.subtract(a,l,d),o.Z.subtract(d,h,d),o.Z.subtract(d,f,d),o.Z.subtract(d,e,y),g=o.Z.dot(n,y),i=Math.min(g,i),s=Math.max(g,s),r.start=i,r.stop=s,r};const ht=new o.Z,ft=new o.Z,pt=new o.Z;_.computeCorners=function(t,e){a.Z.typeOf.object("box",t),(0,u.Z)(e)||(e=[new o.Z,new o.Z,new o.Z,new o.Z,new o.Z,new o.Z,new o.Z,new o.Z]);const n=t.center,r=t.halfAxes,i=m.Z.getColumn(r,0,ht),s=m.Z.getColumn(r,1,ft),c=m.Z.getColumn(r,2,pt);return o.Z.clone(n,e[0]),o.Z.subtract(e[0],i,e[0]),o.Z.subtract(e[0],s,e[0]),o.Z.subtract(e[0],c,e[0]),o.Z.clone(n,e[1]),o.Z.subtract(e[1],i,e[1]),o.Z.subtract(e[1],s,e[1]),o.Z.add(e[1],c,e[1]),o.Z.clone(n,e[2]),o.Z.subtract(e[2],i,e[2]),o.Z.add(e[2],s,e[2]),o.Z.subtract(e[2],c,e[2]),o.Z.clone(n,e[3]),o.Z.subtract(e[3],i,e[3]),o.Z.add(e[3],s,e[3]),o.Z.add(e[3],c,e[3]),o.Z.clone(n,e[4]),o.Z.add(e[4],i,e[4]),o.Z.subtract(e[4],s,e[4]),o.Z.subtract(e[4],c,e[4]),o.Z.clone(n,e[5]),o.Z.add(e[5],i,e[5]),o.Z.subtract(e[5],s,e[5]),o.Z.add(e[5],c,e[5]),o.Z.clone(n,e[6]),o.Z.add(e[6],i,e[6]),o.Z.add(e[6],s,e[6]),o.Z.subtract(e[6],c,e[6]),o.Z.clone(n,e[7]),o.Z.add(e[7],i,e[7]),o.Z.add(e[7],s,e[7]),o.Z.add(e[7],c,e[7]),e};const dt=new m.Z;_.computeTransformation=function(t,e){a.Z.typeOf.object("box",t),(0,u.Z)(e)||(e=new y.Z);const n=t.center,r=m.Z.multiplyByUniformScale(t.halfAxes,2,dt);return y.Z.fromRotationTranslation(r,n,e)};const mt=new r.Z;_.isOccluded=function(t,e){if(!(0,u.Z)(t))throw new Z.Z("box is required.");if(!(0,u.Z)(e))throw new Z.Z("occluder is required.");const n=r.Z.fromOrientedBoundingBox(t,mt);return!e.isBoundingSphereVisible(n)},_.prototype.intersectPlane=function(t){return _.intersectPlane(this,t)},_.prototype.distanceSquaredTo=function(t){return _.distanceSquaredTo(this,t)},_.prototype.computePlaneDistances=function(t,e,n){return _.computePlaneDistances(this,t,e,n)},_.prototype.computeCorners=function(t){return _.computeCorners(this,t)},_.prototype.computeTransformation=function(t){return _.computeTransformation(this,t)},_.prototype.isOccluded=function(t){return _.isOccluded(this,t)},_.equals=function(t,e){return t===e||(0,u.Z)(t)&&(0,u.Z)(e)&&o.Z.equals(t.center,e.center)&&m.Z.equals(t.halfAxes,e.halfAxes)},_.prototype.clone=function(t){return _.clone(this,t)},_.prototype.equals=function(t){return _.equals(this,t)};const yt=_},74408:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(17497),i=n(88779),o=n(54485),s=n(20176),a=n(22874),c=n(16587);function u(t){t=(0,i.Z)(t,i.Z.EMPTY_OBJECT),this._offCenterFrustum=new c.Z,this.width=t.width,this._width=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=(0,i.Z)(t.near,1),this._near=this.near,this.far=(0,i.Z)(t.far,5e8),this._far=this.far}function Z(t){if(!((0,o.Z)(t.width)&&(0,o.Z)(t.aspectRatio)&&(0,o.Z)(t.near)&&(0,o.Z)(t.far)))throw new s.Z("width, aspectRatio, near, or far parameters are not set.");const e=t._offCenterFrustum;if(t.width!==t._width||t.aspectRatio!==t._aspectRatio||t.near!==t._near||t.far!==t._far){if(t.aspectRatio<0)throw new s.Z("aspectRatio must be positive.");if(t.near<0||t.near>t.far)throw new s.Z("near must be greater than zero and less than far.");t._aspectRatio=t.aspectRatio,t._width=t.width,t._near=t.near,t._far=t.far;const n=1/t.aspectRatio;e.right=.5*t.width,e.left=-e.right,e.top=n*e.right,e.bottom=-e.top,e.near=t.near,e.far=t.far}}u.packedLength=4,u.pack=function(t,e,n){return r.Z.typeOf.object("value",t),r.Z.defined("array",e),n=(0,i.Z)(n,0),e[n++]=t.width,e[n++]=t.aspectRatio,e[n++]=t.near,e[n]=t.far,e},u.unpack=function(t,e,n){return r.Z.defined("array",t),e=(0,i.Z)(e,0),(0,o.Z)(n)||(n=new u),n.width=t[e++],n.aspectRatio=t[e++],n.near=t[e++],n.far=t[e],n},Object.defineProperties(u.prototype,{projectionMatrix:{get:function(){return Z(this),this._offCenterFrustum.projectionMatrix}}}),u.prototype.computeCullingVolume=function(t,e,n){return Z(this),this._offCenterFrustum.computeCullingVolume(t,e,n)},u.prototype.getPixelDimensions=function(t,e,n,r,i){return Z(this),this._offCenterFrustum.getPixelDimensions(t,e,n,r,i)},u.prototype.clone=function(t){return(0,o.Z)(t)||(t=new u),t.aspectRatio=this.aspectRatio,t.width=this.width,t.near=this.near,t.far=this.far,t._aspectRatio=void 0,t._width=void 0,t._near=void 0,t._far=void 0,this._offCenterFrustum.clone(t._offCenterFrustum),t},u.prototype.equals=function(t){return!!((0,o.Z)(t)&&t instanceof u)&&(Z(this),Z(t),this.width===t.width&&this.aspectRatio===t.aspectRatio&&this._offCenterFrustum.equals(t._offCenterFrustum))},u.prototype.equalsEpsilon=function(t,e,n){return!!((0,o.Z)(t)&&t instanceof u)&&(Z(this),Z(t),a.Z.equalsEpsilon(this.width,t.width,e,n)&&a.Z.equalsEpsilon(this.aspectRatio,t.aspectRatio,e,n)&&this._offCenterFrustum.equalsEpsilon(t._offCenterFrustum,e,n))};const l=u},16587:(t,e,n)=>{n.d(e,{Z:()=>y});var r=n(93517),i=n(90868),o=n(37337),s=n(88779),a=n(54485),c=n(20176),u=n(22874),Z=n(71118);function l(t){t=(0,s.Z)(t,s.Z.EMPTY_OBJECT),this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=(0,s.Z)(t.near,1),this._near=this.near,this.far=(0,s.Z)(t.far,5e8),this._far=this.far,this._cullingVolume=new o.Z,this._orthographicMatrix=new Z.Z}function h(t){if(!((0,a.Z)(t.right)&&(0,a.Z)(t.left)&&(0,a.Z)(t.top)&&(0,a.Z)(t.bottom)&&(0,a.Z)(t.near)&&(0,a.Z)(t.far)))throw new c.Z("right, left, top, bottom, near, or far parameters are not set.");if(t.top!==t._top||t.bottom!==t._bottom||t.left!==t._left||t.right!==t._right||t.near!==t._near||t.far!==t._far){if(t.left>t.right)throw new c.Z("right must be greater than left.");if(t.bottom>t.top)throw new c.Z("top must be greater than bottom.");if(t.near<=0||t.near>t.far)throw new c.Z("near must be greater than zero and less than far.");t._left=t.left,t._right=t.right,t._top=t.top,t._bottom=t.bottom,t._near=t.near,t._far=t.far,t._orthographicMatrix=Z.Z.computeOrthographicOffCenter(t.left,t.right,t.bottom,t.top,t.near,t.far,t._orthographicMatrix)}}Object.defineProperties(l.prototype,{projectionMatrix:{get:function(){return h(this),this._orthographicMatrix}}});const f=new r.Z,p=new r.Z,d=new r.Z,m=new r.Z;l.prototype.computeCullingVolume=function(t,e,n){if(!(0,a.Z)(t))throw new c.Z("position is required.");if(!(0,a.Z)(e))throw new c.Z("direction is required.");if(!(0,a.Z)(n))throw new c.Z("up is required.");const o=this._cullingVolume.planes,s=this.top,u=this.bottom,Z=this.right,l=this.left,h=this.near,y=this.far,g=r.Z.cross(e,n,f);r.Z.normalize(g,g);const w=p;r.Z.multiplyByScalar(e,h,w),r.Z.add(t,w,w);const _=d;r.Z.multiplyByScalar(g,l,_),r.Z.add(w,_,_);let b=o[0];return(0,a.Z)(b)||(b=o[0]=new i.Z),b.x=g.x,b.y=g.y,b.z=g.z,b.w=-r.Z.dot(g,_),r.Z.multiplyByScalar(g,Z,_),r.Z.add(w,_,_),b=o[1],(0,a.Z)(b)||(b=o[1]=new i.Z),b.x=-g.x,b.y=-g.y,b.z=-g.z,b.w=-r.Z.dot(r.Z.negate(g,m),_),r.Z.multiplyByScalar(n,u,_),r.Z.add(w,_,_),b=o[2],(0,a.Z)(b)||(b=o[2]=new i.Z),b.x=n.x,b.y=n.y,b.z=n.z,b.w=-r.Z.dot(n,_),r.Z.multiplyByScalar(n,s,_),r.Z.add(w,_,_),b=o[3],(0,a.Z)(b)||(b=o[3]=new i.Z),b.x=-n.x,b.y=-n.y,b.z=-n.z,b.w=-r.Z.dot(r.Z.negate(n,m),_),b=o[4],(0,a.Z)(b)||(b=o[4]=new i.Z),b.x=e.x,b.y=e.y,b.z=e.z,b.w=-r.Z.dot(e,w),r.Z.multiplyByScalar(e,y,_),r.Z.add(t,_,_),b=o[5],(0,a.Z)(b)||(b=o[5]=new i.Z),b.x=-e.x,b.y=-e.y,b.z=-e.z,b.w=-r.Z.dot(r.Z.negate(e,m),_),this._cullingVolume},l.prototype.getPixelDimensions=function(t,e,n,r,i){if(h(this),!(0,a.Z)(t)||!(0,a.Z)(e))throw new c.Z("Both drawingBufferWidth and drawingBufferHeight are required.");if(t<=0)throw new c.Z("drawingBufferWidth must be greater than zero.");if(e<=0)throw new c.Z("drawingBufferHeight must be greater than zero.");if(!(0,a.Z)(n))throw new c.Z("distance is required.");if(!(0,a.Z)(r))throw new c.Z("pixelRatio is required.");if(r<=0)throw new c.Z("pixelRatio must be greater than zero.");if(!(0,a.Z)(i))throw new c.Z("A result object is required.");const o=r*(this.right-this.left)/t,s=r*(this.top-this.bottom)/e;return i.x=o,i.y=s,i},l.prototype.clone=function(t){return(0,a.Z)(t)||(t=new l),t.left=this.left,t.right=this.right,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t._left=void 0,t._right=void 0,t._top=void 0,t._bottom=void 0,t._near=void 0,t._far=void 0,t},l.prototype.equals=function(t){return(0,a.Z)(t)&&t instanceof l&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far},l.prototype.equalsEpsilon=function(t,e,n){return t===this||(0,a.Z)(t)&&t instanceof l&&u.Z.equalsEpsilon(this.right,t.right,e,n)&&u.Z.equalsEpsilon(this.left,t.left,e,n)&&u.Z.equalsEpsilon(this.top,t.top,e,n)&&u.Z.equalsEpsilon(this.bottom,t.bottom,e,n)&&u.Z.equalsEpsilon(this.near,t.near,e,n)&&u.Z.equalsEpsilon(this.far,t.far,e,n)};const y=l},80821:(t,e,n)=>{n.d(e,{Z:()=>i});var r=n(20176);const i={packedLength:void 0,pack:r.Z.throwInstantiationError,unpack:r.Z.throwInstantiationError}},80341:(t,e,n)=>{n.d(e,{Z:()=>i});var r=n(20176);const i={packedInterpolationLength:void 0,convertPackedArrayForInterpolation:r.Z.throwInstantiationError,unpackInterpolationResult:r.Z.throwInstantiationError}},51850:(t,e,n)=>{n.d(e,{Z:()=>Z});var r=n(93517),i=n(17497),o=n(54485),s=n(60178),a=n(34152),c=n(67197);function u(t){i.Z.defined("url",t),this._url=c.Z.createIfNeeded(t),this._url.appendForwardSlash()}Object.defineProperties(u.prototype,{url:{get:function(){return this._url}}}),u.prototype.geocode=function(t,e){i.Z.typeOf.string("query",t);return this._url.getDerivedResource({url:e===s.Z.AUTOCOMPLETE?"autocomplete":"search",queryParameters:{text:t}}).fetchJson().then((function(t){return t.features.map((function(t){let e;const n=t.bbox;if((0,o.Z)(n))e=a.Z.fromDegrees(n[0],n[1],n[2],n[3]);else{const n=t.geometry.coordinates[0],i=t.geometry.coordinates[1];e=r.Z.fromDegrees(n,i)}return{displayName:t.properties.label,destination:e}}))}))};const Z=u},84929:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(17497),i=n(88779),o=n(54485),s=n(20176),a=n(22874),c=n(87823);function u(t){t=(0,i.Z)(t,i.Z.EMPTY_OBJECT),this._offCenterFrustum=new c.Z,this.fov=t.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=(0,i.Z)(t.near,1),this._near=this.near,this.far=(0,i.Z)(t.far,5e8),this._far=this.far,this.xOffset=(0,i.Z)(t.xOffset,0),this._xOffset=this.xOffset,this.yOffset=(0,i.Z)(t.yOffset,0),this._yOffset=this.yOffset}function Z(t){if(!((0,o.Z)(t.fov)&&(0,o.Z)(t.aspectRatio)&&(0,o.Z)(t.near)&&(0,o.Z)(t.far)))throw new s.Z("fov, aspectRatio, near, or far parameters are not set.");const e=t._offCenterFrustum;if(t.fov!==t._fov||t.aspectRatio!==t._aspectRatio||t.near!==t._near||t.far!==t._far||t.xOffset!==t._xOffset||t.yOffset!==t._yOffset){if(t.fov<0||t.fov>=Math.PI)throw new s.Z("fov must be in the range [0, PI).");if(t.aspectRatio<0)throw new s.Z("aspectRatio must be positive.");if(t.near<0||t.near>t.far)throw new s.Z("near must be greater than zero and less than far.");t._aspectRatio=t.aspectRatio,t._fov=t.fov,t._fovy=t.aspectRatio<=1?t.fov:2*Math.atan(Math.tan(.5*t.fov)/t.aspectRatio),t._near=t.near,t._far=t.far,t._sseDenominator=2*Math.tan(.5*t._fovy),t._xOffset=t.xOffset,t._yOffset=t.yOffset,e.top=t.near*Math.tan(.5*t._fovy),e.bottom=-e.top,e.right=t.aspectRatio*e.top,e.left=-e.right,e.near=t.near,e.far=t.far,e.right+=t.xOffset,e.left+=t.xOffset,e.top+=t.yOffset,e.bottom+=t.yOffset}}u.packedLength=6,u.pack=function(t,e,n){return r.Z.typeOf.object("value",t),r.Z.defined("array",e),n=(0,i.Z)(n,0),e[n++]=t.fov,e[n++]=t.aspectRatio,e[n++]=t.near,e[n++]=t.far,e[n++]=t.xOffset,e[n]=t.yOffset,e},u.unpack=function(t,e,n){return r.Z.defined("array",t),e=(0,i.Z)(e,0),(0,o.Z)(n)||(n=new u),n.fov=t[e++],n.aspectRatio=t[e++],n.near=t[e++],n.far=t[e++],n.xOffset=t[e++],n.yOffset=t[e],n},Object.defineProperties(u.prototype,{projectionMatrix:{get:function(){return Z(this),this._offCenterFrustum.projectionMatrix}},infiniteProjectionMatrix:{get:function(){return Z(this),this._offCenterFrustum.infiniteProjectionMatrix}},fovy:{get:function(){return Z(this),this._fovy}},sseDenominator:{get:function(){return Z(this),this._sseDenominator}}}),u.prototype.computeCullingVolume=function(t,e,n){return Z(this),this._offCenterFrustum.computeCullingVolume(t,e,n)},u.prototype.getPixelDimensions=function(t,e,n,r,i){return Z(this),this._offCenterFrustum.getPixelDimensions(t,e,n,r,i)},u.prototype.clone=function(t){return(0,o.Z)(t)||(t=new u),t.aspectRatio=this.aspectRatio,t.fov=this.fov,t.near=this.near,t.far=this.far,t._aspectRatio=void 0,t._fov=void 0,t._near=void 0,t._far=void 0,this._offCenterFrustum.clone(t._offCenterFrustum),t},u.prototype.equals=function(t){return!!((0,o.Z)(t)&&t instanceof u)&&(Z(this),Z(t),this.fov===t.fov&&this.aspectRatio===t.aspectRatio&&this._offCenterFrustum.equals(t._offCenterFrustum))},u.prototype.equalsEpsilon=function(t,e,n){return!!((0,o.Z)(t)&&t instanceof u)&&(Z(this),Z(t),a.Z.equalsEpsilon(this.fov,t.fov,e,n)&&a.Z.equalsEpsilon(this.aspectRatio,t.aspectRatio,e,n)&&this._offCenterFrustum.equalsEpsilon(t._offCenterFrustum,e,n))};const l=u},87823:(t,e,n)=>{n.d(e,{Z:()=>y});var r=n(93517),i=n(90868),o=n(37337),s=n(88779),a=n(54485),c=n(20176),u=n(22874),Z=n(71118);function l(t){t=(0,s.Z)(t,s.Z.EMPTY_OBJECT),this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=(0,s.Z)(t.near,1),this._near=this.near,this.far=(0,s.Z)(t.far,5e8),this._far=this.far,this._cullingVolume=new o.Z,this._perspectiveMatrix=new Z.Z,this._infinitePerspective=new Z.Z}function h(t){if(!((0,a.Z)(t.right)&&(0,a.Z)(t.left)&&(0,a.Z)(t.top)&&(0,a.Z)(t.bottom)&&(0,a.Z)(t.near)&&(0,a.Z)(t.far)))throw new c.Z("right, left, top, bottom, near, or far parameters are not set.");const e=t.top,n=t.bottom,r=t.right,i=t.left,o=t.near,s=t.far;if(e!==t._top||n!==t._bottom||i!==t._left||r!==t._right||o!==t._near||s!==t._far){if(t.near<=0||t.near>t.far)throw new c.Z("near must be greater than zero and less than far.");t._left=i,t._right=r,t._top=e,t._bottom=n,t._near=o,t._far=s,t._perspectiveMatrix=Z.Z.computePerspectiveOffCenter(i,r,n,e,o,s,t._perspectiveMatrix),t._infinitePerspective=Z.Z.computeInfinitePerspectiveOffCenter(i,r,n,e,o,t._infinitePerspective)}}Object.defineProperties(l.prototype,{projectionMatrix:{get:function(){return h(this),this._perspectiveMatrix}},infiniteProjectionMatrix:{get:function(){return h(this),this._infinitePerspective}}});const f=new r.Z,p=new r.Z,d=new r.Z,m=new r.Z;l.prototype.computeCullingVolume=function(t,e,n){if(!(0,a.Z)(t))throw new c.Z("position is required.");if(!(0,a.Z)(e))throw new c.Z("direction is required.");if(!(0,a.Z)(n))throw new c.Z("up is required.");const o=this._cullingVolume.planes,s=this.top,u=this.bottom,Z=this.right,l=this.left,h=this.near,y=this.far,g=r.Z.cross(e,n,f),w=p;r.Z.multiplyByScalar(e,h,w),r.Z.add(t,w,w);const _=d;r.Z.multiplyByScalar(e,y,_),r.Z.add(t,_,_);const b=m;r.Z.multiplyByScalar(g,l,b),r.Z.add(w,b,b),r.Z.subtract(b,t,b),r.Z.normalize(b,b),r.Z.cross(b,n,b),r.Z.normalize(b,b);let O=o[0];return(0,a.Z)(O)||(O=o[0]=new i.Z),O.x=b.x,O.y=b.y,O.z=b.z,O.w=-r.Z.dot(b,t),r.Z.multiplyByScalar(g,Z,b),r.Z.add(w,b,b),r.Z.subtract(b,t,b),r.Z.cross(n,b,b),r.Z.normalize(b,b),O=o[1],(0,a.Z)(O)||(O=o[1]=new i.Z),O.x=b.x,O.y=b.y,O.z=b.z,O.w=-r.Z.dot(b,t),r.Z.multiplyByScalar(n,u,b),r.Z.add(w,b,b),r.Z.subtract(b,t,b),r.Z.cross(g,b,b),r.Z.normalize(b,b),O=o[2],(0,a.Z)(O)||(O=o[2]=new i.Z),O.x=b.x,O.y=b.y,O.z=b.z,O.w=-r.Z.dot(b,t),r.Z.multiplyByScalar(n,s,b),r.Z.add(w,b,b),r.Z.subtract(b,t,b),r.Z.cross(b,g,b),r.Z.normalize(b,b),O=o[3],(0,a.Z)(O)||(O=o[3]=new i.Z),O.x=b.x,O.y=b.y,O.z=b.z,O.w=-r.Z.dot(b,t),O=o[4],(0,a.Z)(O)||(O=o[4]=new i.Z),O.x=e.x,O.y=e.y,O.z=e.z,O.w=-r.Z.dot(e,w),r.Z.negate(e,b),O=o[5],(0,a.Z)(O)||(O=o[5]=new i.Z),O.x=b.x,O.y=b.y,O.z=b.z,O.w=-r.Z.dot(b,_),this._cullingVolume},l.prototype.getPixelDimensions=function(t,e,n,r,i){if(h(this),!(0,a.Z)(t)||!(0,a.Z)(e))throw new c.Z("Both drawingBufferWidth and drawingBufferHeight are required.");if(t<=0)throw new c.Z("drawingBufferWidth must be greater than zero.");if(e<=0)throw new c.Z("drawingBufferHeight must be greater than zero.");if(!(0,a.Z)(n))throw new c.Z("distance is required.");if(!(0,a.Z)(r))throw new c.Z("pixelRatio is required");if(r<=0)throw new c.Z("pixelRatio must be greater than zero.");if(!(0,a.Z)(i))throw new c.Z("A result object is required.");const o=1/this.near;let s=this.top*o;const u=2*r*n*s/e;s=this.right*o;const Z=2*r*n*s/t;return i.x=Z,i.y=u,i},l.prototype.clone=function(t){return(0,a.Z)(t)||(t=new l),t.right=this.right,t.left=this.left,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t._left=void 0,t._right=void 0,t._top=void 0,t._bottom=void 0,t._near=void 0,t._far=void 0,t},l.prototype.equals=function(t){return(0,a.Z)(t)&&t instanceof l&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far},l.prototype.equalsEpsilon=function(t,e,n){return t===this||(0,a.Z)(t)&&t instanceof l&&u.Z.equalsEpsilon(this.right,t.right,e,n)&&u.Z.equalsEpsilon(this.left,t.left,e,n)&&u.Z.equalsEpsilon(this.top,t.top,e,n)&&u.Z.equalsEpsilon(this.bottom,t.bottom,e,n)&&u.Z.equalsEpsilon(this.near,t.near,e,n)&&u.Z.equalsEpsilon(this.far,t.far,e,n)};const y=l},90914:(t,e,n)=>{n.d(e,{Z:()=>p});var r=n(25914),i=n(6785),o=n(54485),s=n(20176),a=n(67197),c=n(13940);function u(){this._cache={}}u.prototype.fromColor=function(t,e){if(!(0,o.Z)(t))throw new s.Z("color is required");if(!(0,o.Z)(e))throw new s.Z("size is required");return f(void 0,void 0,t,e,this._cache)},u.prototype.fromUrl=function(t,e,n){if(!(0,o.Z)(t))throw new s.Z("url is required");if(!(0,o.Z)(e))throw new s.Z("color is required");if(!(0,o.Z)(n))throw new s.Z("size is required");return f(t,void 0,e,n,this._cache)},u.prototype.fromMakiIconId=function(t,e,n){if(!(0,o.Z)(t))throw new s.Z("id is required");if(!(0,o.Z)(e))throw new s.Z("color is required");if(!(0,o.Z)(n))throw new s.Z("size is required");return f((0,r.Z)(`Assets/Textures/maki/${encodeURIComponent(t)}.png`),void 0,e,n,this._cache)},u.prototype.fromText=function(t,e,n){if(!(0,o.Z)(t))throw new s.Z("text is required");if(!(0,o.Z)(e))throw new s.Z("color is required");if(!(0,o.Z)(n))throw new s.Z("size is required");return f(void 0,t,e,n,this._cache)};const Z=new i.Z;function l(t,e,n){const r=n/2.5;let o=r,s=r;e.width>e.height?s=r*(e.height/e.width):e.width<e.height&&(o=r*(e.width/e.height));const a=Math.round((n-o)/2),c=Math.round(7/24*n-s/2);t.globalCompositeOperation="destination-out",t.drawImage(e,a-1,c,o,s),t.drawImage(e,a,c-1,o,s),t.drawImage(e,a+1,c,o,s),t.drawImage(e,a,c+1,o,s),t.globalCompositeOperation="destination-over",t.fillStyle=i.Z.BLACK.toCssColorString(),t.fillRect(a-1,c-1,o+2,s+2),t.globalCompositeOperation="destination-out",t.drawImage(e,a,c,o,s),t.globalCompositeOperation="destination-over",t.fillStyle=i.Z.WHITE.toCssColorString(),t.fillRect(a-1,c-2,o+2,s+2)}const h=new Array(4);function f(t,e,n,r,i){h[0]=t,h[1]=e,h[2]=n,h[3]=r;const s=JSON.stringify(h),u=i[s];if((0,o.Z)(u))return u;const f=document.createElement("canvas");f.width=r,f.height=r;const p=f.getContext("2d");if(function(t,e,n){t.save(),t.scale(n/24,n/24),t.fillStyle=e.toCssColorString(),t.strokeStyle=e.brighten(.6,Z).toCssColorString(),t.lineWidth=.846,t.beginPath(),t.moveTo(6.72,.422),t.lineTo(17.28,.422),t.bezierCurveTo(18.553,.422,19.577,1.758,19.577,3.415),t.lineTo(19.577,10.973),t.bezierCurveTo(19.577,12.63,18.553,13.966,17.282,13.966),t.lineTo(14.386,14.008),t.lineTo(11.826,23.578),t.lineTo(9.614,14.008),t.lineTo(6.719,13.965),t.bezierCurveTo(5.446,13.983,4.422,12.629,4.422,10.972),t.lineTo(4.422,3.416),t.bezierCurveTo(4.423,1.76,5.447,.423,6.718,.423),t.closePath(),t.fill(),t.stroke(),t.restore()}(p,n,r),(0,o.Z)(t)){const e=a.Z.createIfNeeded(t).fetchImage().then((function(t){return l(p,t,r),i[s]=f,f}));return i[s]=e,e}if((0,o.Z)(e)){const t=(0,c.Z)(e,{font:`bold ${r}px sans-serif`});l(p,t,r)}return i[s]=f,f}const p=u},91166:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(27400),i=n(95411);const o={DEPTH_COMPONENT:i.Z.DEPTH_COMPONENT,DEPTH_STENCIL:i.Z.DEPTH_STENCIL,ALPHA:i.Z.ALPHA,RGB:i.Z.RGB,RGBA:i.Z.RGBA,LUMINANCE:i.Z.LUMINANCE,LUMINANCE_ALPHA:i.Z.LUMINANCE_ALPHA,RGB_DXT1:i.Z.COMPRESSED_RGB_S3TC_DXT1_EXT,RGBA_DXT1:i.Z.COMPRESSED_RGBA_S3TC_DXT1_EXT,RGBA_DXT3:i.Z.COMPRESSED_RGBA_S3TC_DXT3_EXT,RGBA_DXT5:i.Z.COMPRESSED_RGBA_S3TC_DXT5_EXT,RGB_PVRTC_4BPPV1:i.Z.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,RGB_PVRTC_2BPPV1:i.Z.COMPRESSED_RGB_PVRTC_2BPPV1_IMG,RGBA_PVRTC_4BPPV1:i.Z.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,RGBA_PVRTC_2BPPV1:i.Z.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,RGBA_ASTC:i.Z.COMPRESSED_RGBA_ASTC_4x4_WEBGL,RGB_ETC1:i.Z.COMPRESSED_RGB_ETC1_WEBGL,RGB8_ETC2:i.Z.COMPRESSED_RGB8_ETC2,RGBA8_ETC2_EAC:i.Z.COMPRESSED_RGBA8_ETC2_EAC,RGBA_BC7:i.Z.COMPRESSED_RGBA_BPTC_UNORM,componentsLength:function(t){switch(t){case o.RGB:return 3;case o.RGBA:return 4;case o.LUMINANCE_ALPHA:return 2;case o.ALPHA:case o.LUMINANCE:default:return 1}},validate:function(t){return t===o.DEPTH_COMPONENT||t===o.DEPTH_STENCIL||t===o.ALPHA||t===o.RGB||t===o.RGBA||t===o.LUMINANCE||t===o.LUMINANCE_ALPHA||t===o.RGB_DXT1||t===o.RGBA_DXT1||t===o.RGBA_DXT3||t===o.RGBA_DXT5||t===o.RGB_PVRTC_4BPPV1||t===o.RGB_PVRTC_2BPPV1||t===o.RGBA_PVRTC_4BPPV1||t===o.RGBA_PVRTC_2BPPV1||t===o.RGBA_ASTC||t===o.RGB_ETC1||t===o.RGB8_ETC2||t===o.RGBA8_ETC2_EAC||t===o.RGBA_BC7},isColorFormat:function(t){return t===o.ALPHA||t===o.RGB||t===o.RGBA||t===o.LUMINANCE||t===o.LUMINANCE_ALPHA},isDepthFormat:function(t){return t===o.DEPTH_COMPONENT||t===o.DEPTH_STENCIL},isCompressedFormat:function(t){return t===o.RGB_DXT1||t===o.RGBA_DXT1||t===o.RGBA_DXT3||t===o.RGBA_DXT5||t===o.RGB_PVRTC_4BPPV1||t===o.RGB_PVRTC_2BPPV1||t===o.RGBA_PVRTC_4BPPV1||t===o.RGBA_PVRTC_2BPPV1||t===o.RGBA_ASTC||t===o.RGB_ETC1||t===o.RGB8_ETC2||t===o.RGBA8_ETC2_EAC||t===o.RGBA_BC7},isDXTFormat:function(t){return t===o.RGB_DXT1||t===o.RGBA_DXT1||t===o.RGBA_DXT3||t===o.RGBA_DXT5},isPVRTCFormat:function(t){return t===o.RGB_PVRTC_4BPPV1||t===o.RGB_PVRTC_2BPPV1||t===o.RGBA_PVRTC_4BPPV1||t===o.RGBA_PVRTC_2BPPV1},isASTCFormat:function(t){return t===o.RGBA_ASTC},isETC1Format:function(t){return t===o.RGB_ETC1},isETC2Format:function(t){return t===o.RGB8_ETC2||t===o.RGBA8_ETC2_EAC},isBC7Format:function(t){return t===o.RGBA_BC7},compressedTextureSizeInBytes:function(t,e,n){switch(t){case o.RGB_DXT1:case o.RGBA_DXT1:case o.RGB_ETC1:case o.RGB8_ETC2:return Math.floor((e+3)/4)*Math.floor((n+3)/4)*8;case o.RGBA_DXT3:case o.RGBA_DXT5:case o.RGBA_ASTC:case o.RGBA8_ETC2_EAC:return Math.floor((e+3)/4)*Math.floor((n+3)/4)*16;case o.RGB_PVRTC_4BPPV1:case o.RGBA_PVRTC_4BPPV1:return Math.floor((Math.max(e,8)*Math.max(n,8)*4+7)/8);case o.RGB_PVRTC_2BPPV1:case o.RGBA_PVRTC_2BPPV1:return Math.floor((Math.max(e,16)*Math.max(n,8)*2+7)/8);case o.RGBA_BC7:return Math.ceil(e/4)*Math.ceil(n/4)*16;default:return 0}},textureSizeInBytes:function(t,e,n,i){let s=o.componentsLength(t);return r.Z.isPacked(e)&&(s=1),s*r.Z.sizeInBytes(e)*n*i},alignmentInBytes:function(t,e,n){const r=o.textureSizeInBytes(t,e,n,1)%4;return 0===r?4:2===r?2:1},createTypedArray:function(t,e,n,i){let s;const a=r.Z.sizeInBytes(e);s=a===Uint8Array.BYTES_PER_ELEMENT?Uint8Array:a===Uint16Array.BYTES_PER_ELEMENT?Uint16Array:a===Float32Array.BYTES_PER_ELEMENT&&e===r.Z.FLOAT?Float32Array:Uint32Array;return new s(o.componentsLength(t)*n*i)},flipY:function(t,e,n,r,i){if(1===i)return t;const s=o.createTypedArray(e,n,r,i),a=o.componentsLength(e),c=r*a;for(let e=0;e<i;++e){const n=e*r*a,o=(i-e-1)*r*a;for(let e=0;e<c;++e)s[o+e]=t[n+e]}return s},toInternalFormat:function(t,e,n){if(!n.webgl2)return t;if(t===o.DEPTH_STENCIL)return i.Z.DEPTH24_STENCIL8;if(t===o.DEPTH_COMPONENT){if(e===r.Z.UNSIGNED_SHORT)return i.Z.DEPTH_COMPONENT16;if(e===r.Z.UNSIGNED_INT)return i.Z.DEPTH_COMPONENT24}if(e===r.Z.FLOAT)switch(t){case o.RGBA:return i.Z.RGBA32F;case o.RGB:return i.Z.RGB32F;case o.RG:return i.Z.RG32F;case o.R:return i.Z.R32F}if(e===r.Z.HALF_FLOAT)switch(t){case o.RGBA:return i.Z.RGBA16F;case o.RGB:return i.Z.RGB16F;case o.RG:return i.Z.RG16F;case o.R:return i.Z.R16F}return t}},s=Object.freeze(o)},30445:(t,e,n)=>{n.d(e,{Z:()=>m});var r=n(93517),i=n(90868),o=n(17497),s=n(54485),a=n(20176),c=n(22874),u=n(71118);function Z(t,e){if(o.Z.typeOf.object("normal",t),!c.Z.equalsEpsilon(r.Z.magnitude(t),1,c.Z.EPSILON6))throw new a.Z("normal must be normalized.");o.Z.typeOf.number("distance",e),this.normal=r.Z.clone(t),this.distance=e}Z.fromPointNormal=function(t,e,n){if(o.Z.typeOf.object("point",t),o.Z.typeOf.object("normal",e),!c.Z.equalsEpsilon(r.Z.magnitude(e),1,c.Z.EPSILON6))throw new a.Z("normal must be normalized.");const i=-r.Z.dot(e,t);return(0,s.Z)(n)?(r.Z.clone(e,n.normal),n.distance=i,n):new Z(e,i)};const l=new r.Z;Z.fromCartesian4=function(t,e){o.Z.typeOf.object("coefficients",t);const n=r.Z.fromCartesian4(t,l),i=t.w;if(!c.Z.equalsEpsilon(r.Z.magnitude(n),1,c.Z.EPSILON6))throw new a.Z("normal must be normalized.");return(0,s.Z)(e)?(r.Z.clone(n,e.normal),e.distance=i,e):new Z(n,i)},Z.getPointDistance=function(t,e){return o.Z.typeOf.object("plane",t),o.Z.typeOf.object("point",e),r.Z.dot(t.normal,e)+t.distance};const h=new r.Z;Z.projectPointOntoPlane=function(t,e,n){o.Z.typeOf.object("plane",t),o.Z.typeOf.object("point",e),(0,s.Z)(n)||(n=new r.Z);const i=Z.getPointDistance(t,e),a=r.Z.multiplyByScalar(t.normal,i,h);return r.Z.subtract(e,a,n)};const f=new u.Z,p=new i.Z,d=new r.Z;Z.transform=function(t,e,n){o.Z.typeOf.object("plane",t),o.Z.typeOf.object("transform",e);const s=t.normal,a=t.distance,c=u.Z.inverseTranspose(e,f);let l=i.Z.fromElements(s.x,s.y,s.z,a,p);l=u.Z.multiplyByVector(c,l,l);const h=r.Z.fromCartesian4(l,d);return l=i.Z.divideByScalar(l,r.Z.magnitude(h),l),Z.fromCartesian4(l,n)},Z.clone=function(t,e){return o.Z.typeOf.object("plane",t),(0,s.Z)(e)?(r.Z.clone(t.normal,e.normal),e.distance=t.distance,e):new Z(t.normal,t.distance)},Z.equals=function(t,e){return o.Z.typeOf.object("left",t),o.Z.typeOf.object("right",e),t.distance===e.distance&&r.Z.equals(t.normal,e.normal)},Z.ORIGIN_XY_PLANE=Object.freeze(new Z(r.Z.UNIT_Z,0)),Z.ORIGIN_YZ_PLANE=Object.freeze(new Z(r.Z.UNIT_X,0)),Z.ORIGIN_ZX_PLANE=Object.freeze(new Z(r.Z.UNIT_Y,0));const m=Z},84503:(t,e,n)=>{n.d(e,{Z:()=>w});var r=n(52351),i=n(93517),o=n(17497),s=n(44990),a=n(88779),c=n(54485),u=n(97845),Z=n(94061),l=n(77683),h=n(84473),f=n(25225);function p(t){t=(0,a.Z)(t,a.Z.EMPTY_OBJECT);const e=(0,a.Z)(t.vertexFormat,f.Z.DEFAULT);this._vertexFormat=e,this._workerName="createPlaneGeometry"}p.packedLength=f.Z.packedLength,p.pack=function(t,e,n){return o.Z.typeOf.object("value",t),o.Z.defined("array",e),n=(0,a.Z)(n,0),f.Z.pack(t._vertexFormat,e,n),e};const d=new f.Z,m={vertexFormat:d};p.unpack=function(t,e,n){o.Z.defined("array",t),e=(0,a.Z)(e,0);const r=f.Z.unpack(t,e,d);return(0,c.Z)(n)?(n._vertexFormat=f.Z.clone(r,n._vertexFormat),n):new p(m)};const y=new i.Z(-.5,-.5,0),g=new i.Z(.5,.5,0);p.createGeometry=function(t){const e=t._vertexFormat,n=new l.Z;let o,a;if(e.position){if(a=new Float64Array(12),a[0]=y.x,a[1]=y.y,a[2]=0,a[3]=g.x,a[4]=y.y,a[5]=0,a[6]=g.x,a[7]=g.y,a[8]=0,a[9]=y.x,a[10]=g.y,a[11]=0,n.position=new Z.Z({componentDatatype:s.Z.DOUBLE,componentsPerAttribute:3,values:a}),e.normal){const t=new Float32Array(12);t[0]=0,t[1]=0,t[2]=1,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=1,t[9]=0,t[10]=0,t[11]=1,n.normal=new Z.Z({componentDatatype:s.Z.FLOAT,componentsPerAttribute:3,values:t})}if(e.st){const t=new Float32Array(8);t[0]=0,t[1]=0,t[2]=1,t[3]=0,t[4]=1,t[5]=1,t[6]=0,t[7]=1,n.st=new Z.Z({componentDatatype:s.Z.FLOAT,componentsPerAttribute:2,values:t})}if(e.tangent){const t=new Float32Array(12);t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=1,t[7]=0,t[8]=0,t[9]=1,t[10]=0,t[11]=0,n.tangent=new Z.Z({componentDatatype:s.Z.FLOAT,componentsPerAttribute:3,values:t})}if(e.bitangent){const t=new Float32Array(12);t[0]=0,t[1]=1,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=1,t[8]=0,t[9]=0,t[10]=1,t[11]=0,n.bitangent=new Z.Z({componentDatatype:s.Z.FLOAT,componentsPerAttribute:3,values:t})}o=new Uint16Array(6),o[0]=0,o[1]=1,o[2]=2,o[3]=0,o[4]=2,o[5]=3}return new u.Z({attributes:n,indices:o,primitiveType:h.Z.TRIANGLES,boundingSphere:new r.Z(i.Z.ZERO,Math.sqrt(2))})};const w=p},14206:(t,e,n)=>{n.d(e,{Z:()=>d});var r=n(52351),i=n(93517),o=n(17497),s=n(44990),a=n(54485),c=n(97845),u=n(94061),Z=n(77683),l=n(84473);function h(){this._workerName="createPlaneOutlineGeometry"}h.packedLength=0,h.pack=function(t,e){return o.Z.defined("value",t),o.Z.defined("array",e),e},h.unpack=function(t,e,n){return o.Z.defined("array",t),(0,a.Z)(n)?n:new h};const f=new i.Z(-.5,-.5,0),p=new i.Z(.5,.5,0);h.createGeometry=function(){const t=new Z.Z,e=new Uint16Array(8),n=new Float64Array(12);return n[0]=f.x,n[1]=f.y,n[2]=f.z,n[3]=p.x,n[4]=f.y,n[5]=f.z,n[6]=p.x,n[7]=p.y,n[8]=f.z,n[9]=f.x,n[10]=p.y,n[11]=f.z,t.position=new u.Z({componentDatatype:s.Z.DOUBLE,componentsPerAttribute:3,values:n}),e[0]=0,e[1]=1,e[2]=1,e[3]=2,e[4]=2,e[5]=3,e[6]=3,e[7]=0,new c.Z({attributes:t,indices:e,primitiveType:l.Z.LINES,boundingSphere:new r.Z(i.Z.ZERO,Math.sqrt(2))})};const d=h},66554:(t,e,n)=>{n.d(e,{Z:()=>lt});var r=n(85162),i=n(65730),o=n(23114),s=n(52351),a=n(59015),c=n(93517),u=n(66866),Z=n(17497),l=n(44990),h=n(88779),f=n(54485),p=n(20176),d=n(99996),m=n(94025),y=n(60794),g=n(97845),w=n(94061),_=n(78224),b=n(97029),O=n(45050),T=n(39172),E=n(22874),x=n(39109),P=n(33534),S=n(14777),I=n(20291),A=n(34152),R=n(25225),v=n(39892);const M=new u.Z,N=new u.Z;function C(t,e,n,r){const i=r.cartesianToCartographic(t,M).height,o=r.cartesianToCartographic(e,N);o.height=i,r.cartographicToCartesian(o,e);const s=r.cartesianToCartographic(n,N);s.height=i-100,r.cartographicToCartesian(s,n)}const q=new o.Z,D=new c.Z,L=new c.Z,B=new c.Z,j=new c.Z,z=new c.Z,k=new c.Z;let U=new c.Z,H=new c.Z,G=new c.Z;const F=new a.Z,V=new a.Z,W=new c.Z,Y=new I.Z,X=new x.Z,$=new x.Z;function J(t){const e=t.vertexFormat,n=t.geometry,r=t.shadowVolume,o=n.attributes.position.values,s=(0,f.Z)(n.attributes.st)?n.attributes.st.values:void 0;let u=o.length;const Z=t.wall,h=t.top||Z,p=t.bottom||Z;if(e.st||e.normal||e.tangent||e.bitangent||r){const i=t.boundingRectangle,d=t.tangentPlane,m=t.ellipsoid,y=t.stRotation,g=t.perPositionHeight,_=F;_.x=i.x,_.y=i.y;const b=e.st?new Float32Array(u/3*2):void 0;let O;e.normal&&(O=g&&h&&!Z?n.attributes.normal.values:new Float32Array(u));const T=e.tangent?new Float32Array(u):void 0,P=e.bitangent?new Float32Array(u):void 0,S=r?new Float32Array(u):void 0;let A=0,R=0,v=L,M=B,N=j,q=!0,J=X,Q=$;if(0!==y){let t=I.Z.fromAxisAngle(d._plane.normal,y,Y);J=x.Z.fromQuaternion(t,J),t=I.Z.fromAxisAngle(d._plane.normal,-y,Y),Q=x.Z.fromQuaternion(t,Q)}else J=x.Z.clone(x.Z.IDENTITY,J),Q=x.Z.clone(x.Z.IDENTITY,Q);let K=0,tt=0;h&&p&&(K=u/2,tt=u/3,u/=2);for(let n=0;n<u;n+=3){const l=c.Z.fromArray(o,n,W);if(e.st&&!(0,f.Z)(s)){let t=x.Z.multiplyByVector(J,l,D);t=m.scaleToGeodeticSurface(t,t);const e=d.projectPointOntoPlane(t,V);a.Z.subtract(e,_,e);const n=E.Z.clamp(e.x/i.width,0,1),r=E.Z.clamp(e.y/i.height,0,1);p&&(b[A+tt]=n,b[A+1+tt]=r),h&&(b[A]=n,b[A+1]=r),A+=2}if(e.normal||e.tangent||e.bitangent||r){const i=R+1,s=R+2;if(Z){if(n+3<u){const t=c.Z.fromArray(o,n+3,z);if(q){const e=c.Z.fromArray(o,n+u,k);g&&C(l,t,e,m),c.Z.subtract(t,l,t),c.Z.subtract(e,l,e),v=c.Z.normalize(c.Z.cross(e,t,v),v),q=!1}c.Z.equalsEpsilon(t,l,E.Z.EPSILON10)&&(q=!0)}(e.tangent||e.bitangent)&&(N=m.geodeticSurfaceNormal(l,N),e.tangent&&(M=c.Z.normalize(c.Z.cross(N,v,M),M)))}else v=m.geodeticSurfaceNormal(l,v),(e.tangent||e.bitangent)&&(g&&(U=c.Z.fromArray(O,R,U),H=c.Z.cross(c.Z.UNIT_Z,U,H),H=c.Z.normalize(x.Z.multiplyByVector(Q,H,H),H),e.bitangent&&(G=c.Z.normalize(c.Z.cross(U,H,G),G))),M=c.Z.cross(c.Z.UNIT_Z,v,M),M=c.Z.normalize(x.Z.multiplyByVector(Q,M,M),M),e.bitangent&&(N=c.Z.normalize(c.Z.cross(v,M,N),N)));e.normal&&(t.wall?(O[R+K]=v.x,O[i+K]=v.y,O[s+K]=v.z):p&&(O[R+K]=-v.x,O[i+K]=-v.y,O[s+K]=-v.z),(h&&!g||Z)&&(O[R]=v.x,O[i]=v.y,O[s]=v.z)),r&&(Z&&(v=m.geodeticSurfaceNormal(l,v)),S[R+K]=-v.x,S[i+K]=-v.y,S[s+K]=-v.z),e.tangent&&(t.wall?(T[R+K]=M.x,T[i+K]=M.y,T[s+K]=M.z):p&&(T[R+K]=-M.x,T[i+K]=-M.y,T[s+K]=-M.z),h&&(g?(T[R]=H.x,T[i]=H.y,T[s]=H.z):(T[R]=M.x,T[i]=M.y,T[s]=M.z))),e.bitangent&&(p&&(P[R+K]=N.x,P[i+K]=N.y,P[s+K]=N.z),h&&(g?(P[R]=G.x,P[i]=G.y,P[s]=G.z):(P[R]=N.x,P[i]=N.y,P[s]=N.z))),R+=3}}e.st&&!(0,f.Z)(s)&&(n.attributes.st=new w.Z({componentDatatype:l.Z.FLOAT,componentsPerAttribute:2,values:b})),e.normal&&(n.attributes.normal=new w.Z({componentDatatype:l.Z.FLOAT,componentsPerAttribute:3,values:O})),e.tangent&&(n.attributes.tangent=new w.Z({componentDatatype:l.Z.FLOAT,componentsPerAttribute:3,values:T})),e.bitangent&&(n.attributes.bitangent=new w.Z({componentDatatype:l.Z.FLOAT,componentsPerAttribute:3,values:P})),r&&(n.attributes.extrudeDirection=new w.Z({componentDatatype:l.Z.FLOAT,componentsPerAttribute:3,values:S}))}if(t.extrude&&(0,f.Z)(t.offsetAttribute)){const e=o.length/3;let r=new Uint8Array(e);if(t.offsetAttribute===b.Z.TOP)h&&p||Z?r=(0,i.Z)(r,1,0,e/2):h&&(r=(0,i.Z)(r,1));else{const e=t.offsetAttribute===b.Z.NONE?0:1;r=(0,i.Z)(r,e)}n.attributes.applyOffset=new w.Z({componentDatatype:l.Z.UNSIGNED_BYTE,componentsPerAttribute:1,values:r})}return n}const Q=new u.Z,K=new u.Z,tt={westOverIDL:0,eastOverIDL:0};let et=new m.Z;function nt(t,e,n,i,o){if(o=(0,h.Z)(o,new A.Z),!(0,f.Z)(t)||t.length<3)return o.west=0,o.north=0,o.south=0,o.east=0,o;if(n===r.Z.RHUMB)return A.Z.fromCartesianArray(t,e,o);et.ellipsoid.equals(e)||(et=new m.Z(void 0,void 0,e)),o.west=Number.POSITIVE_INFINITY,o.east=Number.NEGATIVE_INFINITY,o.south=Number.POSITIVE_INFINITY,o.north=Number.NEGATIVE_INFINITY,tt.westOverIDL=Number.POSITIVE_INFINITY,tt.eastOverIDL=Number.NEGATIVE_INFINITY;const s=1/E.Z.chordLength(i,e.maximumRadius),a=t.length;let c,u=e.cartesianToCartographic(t[0],K),Z=Q;for(let n=1;n<a;n++)c=Z,Z=u,u=e.cartesianToCartographic(t[n],c),et.setEndPoints(Z,u),it(et,s,o,tt);return c=Z,Z=u,u=e.cartesianToCartographic(t[0],c),et.setEndPoints(Z,u),it(et,s,o,tt),o.east-o.west>tt.eastOverIDL-tt.westOverIDL&&(o.west=tt.westOverIDL,o.east=tt.eastOverIDL,o.east>E.Z.PI&&(o.east=o.east-E.Z.TWO_PI),o.west>E.Z.PI&&(o.west=o.west-E.Z.TWO_PI)),o}const rt=new u.Z;function it(t,e,n,r){const i=t.surfaceDistance,o=Math.ceil(i*e),s=o>0?i/(o-1):Number.POSITIVE_INFINITY;let a=0;for(let e=0;e<o;e++){const e=t.interpolateUsingSurfaceDistance(a,rt);a+=s;const i=e.longitude,o=e.latitude;n.west=Math.min(n.west,i),n.east=Math.max(n.east,i),n.south=Math.min(n.south,o),n.north=Math.max(n.north,o);const c=i>=0?i:i+E.Z.TWO_PI;r.westOverIDL=Math.min(r.westOverIDL,c),r.eastOverIDL=Math.max(r.eastOverIDL,c)}}const ot=[];function st(t,e,n,r,i,o,s,a,c,u){const Z={walls:[]};let l;if(s||a){const i=P.Z.createGeometryFromPositions(t,e,n,r,o,c,u),h=i.attributes.position.values,p=i.indices;let d,m;if(s&&a){const t=h.concat(h);d=t.length/3,m=T.Z.createTypedArray(d,2*p.length),m.set(p);const e=p.length,r=d/2;for(l=0;l<e;l+=3){const t=m[l]+r,n=m[l+1]+r,i=m[l+2]+r;m[l+e]=i,m[l+1+e]=n,m[l+2+e]=t}if(i.attributes.position.values=t,o&&c.normal){const e=i.attributes.normal.values;i.attributes.normal.values=new Float32Array(t.length),i.attributes.normal.values.set(e)}if(c.st&&(0,f.Z)(n)){const t=i.attributes.st.values;i.attributes.st.values=new Float32Array(2*d),i.attributes.st.values=t.concat(t)}i.indices=m}else if(a){for(d=h.length/3,m=T.Z.createTypedArray(d,p.length),l=0;l<p.length;l+=3)m[l]=p[l+2],m[l+1]=p[l+1],m[l+2]=p[l];i.indices=m}Z.topAndBottom=new _.Z({geometry:i})}let h=i.outerRing,p=y.Z.fromPoints(h,t),d=p.projectPointsOntoPlane(h,ot),m=S.Z.computeWindingOrder2D(d);m===v.Z.CLOCKWISE&&(h=h.slice().reverse());let g=P.Z.computeWallGeometry(h,n,t,r,o,u);Z.walls.push(new _.Z({geometry:g}));const w=i.holes;for(l=0;l<w.length;l++){let e=w[l];p=y.Z.fromPoints(e,t),d=p.projectPointsOntoPlane(e,ot),m=S.Z.computeWindingOrder2D(d),m===v.Z.COUNTER_CLOCKWISE&&(e=e.slice().reverse()),g=P.Z.computeWallGeometry(e,n,t,r,o,u),Z.walls.push(new _.Z({geometry:g}))}return Z}function at(t){if(Z.Z.typeOf.object("options",t),Z.Z.typeOf.object("options.polygonHierarchy",t.polygonHierarchy),(0,f.Z)(t.perPositionHeight)&&t.perPositionHeight&&(0,f.Z)(t.height))throw new p.Z("Cannot use both options.perPositionHeight and options.height");if((0,f.Z)(t.arcType)&&t.arcType!==r.Z.GEODESIC&&t.arcType!==r.Z.RHUMB)throw new p.Z("Invalid arcType. Valid options are ArcType.GEODESIC and ArcType.RHUMB.");const e=t.polygonHierarchy,n=(0,h.Z)(t.vertexFormat,R.Z.DEFAULT),i=(0,h.Z)(t.ellipsoid,d.Z.WGS84),o=(0,h.Z)(t.granularity,E.Z.RADIANS_PER_DEGREE),s=(0,h.Z)(t.stRotation,0),u=t.textureCoordinates,l=(0,h.Z)(t.perPositionHeight,!1),m=l&&(0,f.Z)(t.extrudedHeight);let y=(0,h.Z)(t.height,0),g=(0,h.Z)(t.extrudedHeight,y);if(!m){const t=Math.max(y,g);g=Math.min(y,g),y=t}this._vertexFormat=R.Z.clone(n),this._ellipsoid=d.Z.clone(i),this._granularity=o,this._stRotation=s,this._height=y,this._extrudedHeight=g,this._closeTop=(0,h.Z)(t.closeTop,!0),this._closeBottom=(0,h.Z)(t.closeBottom,!0),this._polygonHierarchy=e,this._perPositionHeight=l,this._perPositionHeightExtrude=m,this._shadowVolume=(0,h.Z)(t.shadowVolume,!1),this._workerName="createPolygonGeometry",this._offsetAttribute=t.offsetAttribute,this._arcType=(0,h.Z)(t.arcType,r.Z.GEODESIC),this._rectangle=void 0,this._textureCoordinateRotationPoints=void 0,this._textureCoordinates=u,this.packedLength=P.Z.computeHierarchyPackedLength(e,c.Z)+d.Z.packedLength+R.Z.packedLength+(u?P.Z.computeHierarchyPackedLength(u,a.Z):1)+12}at.fromPositions=function(t){t=(0,h.Z)(t,h.Z.EMPTY_OBJECT),Z.Z.defined("options.positions",t.positions);return new at({polygonHierarchy:{positions:t.positions},height:t.height,extrudedHeight:t.extrudedHeight,vertexFormat:t.vertexFormat,stRotation:t.stRotation,ellipsoid:t.ellipsoid,granularity:t.granularity,perPositionHeight:t.perPositionHeight,closeTop:t.closeTop,closeBottom:t.closeBottom,offsetAttribute:t.offsetAttribute,arcType:t.arcType,textureCoordinates:t.textureCoordinates})},at.pack=function(t,e,n){return Z.Z.typeOf.object("value",t),Z.Z.defined("array",e),n=(0,h.Z)(n,0),n=P.Z.packPolygonHierarchy(t._polygonHierarchy,e,n,c.Z),d.Z.pack(t._ellipsoid,e,n),n+=d.Z.packedLength,R.Z.pack(t._vertexFormat,e,n),n+=R.Z.packedLength,e[n++]=t._height,e[n++]=t._extrudedHeight,e[n++]=t._granularity,e[n++]=t._stRotation,e[n++]=t._perPositionHeightExtrude?1:0,e[n++]=t._perPositionHeight?1:0,e[n++]=t._closeTop?1:0,e[n++]=t._closeBottom?1:0,e[n++]=t._shadowVolume?1:0,e[n++]=(0,h.Z)(t._offsetAttribute,-1),e[n++]=t._arcType,(0,f.Z)(t._textureCoordinates)?n=P.Z.packPolygonHierarchy(t._textureCoordinates,e,n,a.Z):e[n++]=-1,e[n++]=t.packedLength,e};const ct=d.Z.clone(d.Z.UNIT_SPHERE),ut=new R.Z,Zt={polygonHierarchy:{}};at.unpack=function(t,e,n){Z.Z.defined("array",t),e=(0,h.Z)(e,0);const r=P.Z.unpackPolygonHierarchy(t,e,c.Z);e=r.startingIndex,delete r.startingIndex;const i=d.Z.unpack(t,e,ct);e+=d.Z.packedLength;const o=R.Z.unpack(t,e,ut);e+=R.Z.packedLength;const s=t[e++],u=t[e++],l=t[e++],p=t[e++],m=1===t[e++],y=1===t[e++],g=1===t[e++],w=1===t[e++],_=1===t[e++],b=t[e++],O=t[e++],T=-1===t[e]?void 0:P.Z.unpackPolygonHierarchy(t,e,a.Z);(0,f.Z)(T)?(e=T.startingIndex,delete T.startingIndex):e++;const E=t[e++];return(0,f.Z)(n)||(n=new at(Zt)),n._polygonHierarchy=r,n._ellipsoid=d.Z.clone(i,n._ellipsoid),n._vertexFormat=R.Z.clone(o,n._vertexFormat),n._height=s,n._extrudedHeight=u,n._granularity=l,n._stRotation=p,n._perPositionHeightExtrude=m,n._perPositionHeight=y,n._closeTop=g,n._closeBottom=w,n._shadowVolume=_,n._offsetAttribute=-1===b?void 0:b,n._arcType=O,n._textureCoordinates=T,n.packedLength=E,n},at.computeRectangle=function(t,e){Z.Z.typeOf.object("options",t),Z.Z.typeOf.object("options.polygonHierarchy",t.polygonHierarchy);const n=(0,h.Z)(t.granularity,E.Z.RADIANS_PER_DEGREE),i=(0,h.Z)(t.arcType,r.Z.GEODESIC);if(i!==r.Z.GEODESIC&&i!==r.Z.RHUMB)throw new p.Z("Invalid arcType. Valid options are ArcType.GEODESIC and ArcType.RHUMB.");const o=t.polygonHierarchy,s=(0,h.Z)(t.ellipsoid,d.Z.WGS84);return nt(o.positions,s,i,n,e)},at.createGeometry=function(t){const e=t._vertexFormat,n=t._ellipsoid,r=t._granularity,o=t._stRotation,a=t._polygonHierarchy,c=t._perPositionHeight,u=t._closeTop,Z=t._closeBottom,h=t._arcType,p=t._textureCoordinates,d=(0,f.Z)(p);let m=a.positions;if(m.length<3)return;const x=y.Z.fromPoints(m,n),I=P.Z.polygonsFromHierarchy(a,d,x.projectPointsOntoPlane.bind(x),!c,n),A=I.hierarchy,R=I.polygons,v=d?P.Z.polygonsFromHierarchy(p,!0,(function(t){return t}),!1).polygons:void 0;if(0===A.length)return;m=A[0].outerRing;const M=P.Z.computeBoundingRectangle(x.plane.normal,x.projectPointOntoPlane.bind(x),m,o,q),N=[],C=t._height,D=t._extrudedHeight,L={perPositionHeight:c,vertexFormat:e,geometry:void 0,tangentPlane:x,boundingRectangle:M,ellipsoid:n,stRotation:o,textureCoordinates:void 0,bottom:!1,top:!0,wall:!1,extrude:!1,arcType:h};let B;if(t._perPositionHeightExtrude||!E.Z.equalsEpsilon(C,D,0,E.Z.EPSILON2))for(L.extrude=!0,L.top=u,L.bottom=Z,L.shadowVolume=t._shadowVolume,L.offsetAttribute=t._offsetAttribute,B=0;B<R.length;B++){const t=st(n,R[B],d?v[B]:void 0,r,A[B],c,u,Z,e,h);let i;u&&Z?(i=t.topAndBottom,L.geometry=P.Z.scaleToGeodeticHeightExtruded(i.geometry,C,D,n,c)):u?(i=t.topAndBottom,i.geometry.attributes.position.values=S.Z.scaleToGeodeticHeight(i.geometry.attributes.position.values,C,n,!c),L.geometry=i.geometry):Z&&(i=t.topAndBottom,i.geometry.attributes.position.values=S.Z.scaleToGeodeticHeight(i.geometry.attributes.position.values,D,n,!0),L.geometry=i.geometry),(u||Z)&&(L.wall=!1,i.geometry=J(L),N.push(i));const o=t.walls;L.wall=!0;for(let t=0;t<o.length;t++){const e=o[t];L.geometry=P.Z.scaleToGeodeticHeightExtruded(e.geometry,C,D,n,c),e.geometry=J(L),N.push(e)}}else for(B=0;B<R.length;B++){const o=new _.Z({geometry:P.Z.createGeometryFromPositions(n,R[B],d?v[B]:void 0,r,c,e,h)});if(o.geometry.attributes.position.values=S.Z.scaleToGeodeticHeight(o.geometry.attributes.position.values,C,n,!c),L.geometry=o.geometry,o.geometry=J(L),(0,f.Z)(t._offsetAttribute)){const e=o.geometry.attributes.position.values.length,n=new Uint8Array(e/3),r=t._offsetAttribute===b.Z.NONE?0:1;(0,i.Z)(n,r),o.geometry.attributes.applyOffset=new w.Z({componentDatatype:l.Z.UNSIGNED_BYTE,componentsPerAttribute:1,values:n})}N.push(o)}const j=O.Z.combineInstances(N)[0];j.attributes.position.values=new Float64Array(j.attributes.position.values),j.indices=T.Z.createTypedArray(j.attributes.position.values.length/3,j.indices);const z=j.attributes,k=s.Z.fromVertices(z.position.values);return e.position||delete z.position,new g.Z({attributes:z,indices:j.indices,primitiveType:j.primitiveType,boundingSphere:k,offsetAttribute:t._offsetAttribute})},at.createShadowVolume=function(t,e,n){const r=t._granularity,i=t._ellipsoid,o=e(r,i),s=n(r,i);return new at({polygonHierarchy:t._polygonHierarchy,ellipsoid:i,stRotation:t._stRotation,granularity:r,perPositionHeight:!1,extrudedHeight:o,height:s,vertexFormat:R.Z.POSITION_ONLY,shadowVolume:!0,arcType:t._arcType})},Object.defineProperties(at.prototype,{rectangle:{get:function(){if(!(0,f.Z)(this._rectangle)){const t=this._polygonHierarchy.positions;this._rectangle=nt(t,this._ellipsoid,this._arcType,this._granularity)}return this._rectangle}},textureCoordinateRotationPoints:{get:function(){return(0,f.Z)(this._textureCoordinateRotationPoints)||(this._textureCoordinateRotationPoints=function(t){const e=-t._stRotation;if(0===e)return[0,0,0,1,1,0];const n=t._ellipsoid,r=t._polygonHierarchy.positions,i=t.rectangle;return g.Z._textureCoordinateRotationPoints(r,e,n,i)}(this)),this._textureCoordinateRotationPoints}}});const lt=at},33534:(t,e,n)=>{n.d(e,{Z:()=>W});var r=n(85162),i=n(55993),o=n(59015),s=n(93517),a=n(66866),c=n(44990),u=n(88779),Z=n(54485),l=n(99996),h=n(48647),f=n(97845),p=n(94061),d=n(77683),m=n(45050),y=n(39172),g=n(22874),w=n(39109),_=n(14777),b=n(84473),O=n(20291),T=n(47594),E=n(39892);const x={computeHierarchyPackedLength:function(t,e){let n=0;const r=[t];for(;r.length>0;){const t=r.pop();if(!(0,Z.Z)(t))continue;n+=2;const i=t.positions,o=t.holes;if((0,Z.Z)(i)&&i.length>0&&(n+=i.length*e.packedLength),(0,Z.Z)(o)){const t=o.length;for(let e=0;e<t;++e)r.push(o[e])}}return n},packPolygonHierarchy:function(t,e,n,r){const i=[t];for(;i.length>0;){const t=i.pop();if(!(0,Z.Z)(t))continue;const o=t.positions,s=t.holes;if(e[n++]=(0,Z.Z)(o)?o.length:0,e[n++]=(0,Z.Z)(s)?s.length:0,(0,Z.Z)(o)){const t=o.length;for(let i=0;i<t;++i,n+=r.packedLength)r.pack(o[i],e,n)}if((0,Z.Z)(s)){const t=s.length;for(let e=0;e<t;++e)i.push(s[e])}}return n},unpackPolygonHierarchy:function(t,e,n){const r=t[e++],i=t[e++],o=new Array(r),s=i>0?new Array(i):void 0;for(let i=0;i<r;++i,e+=n.packedLength)o[i]=n.unpack(t,e);for(let r=0;r<i;++r)s[r]=x.unpackPolygonHierarchy(t,e,n),e=s[r].startingIndex,delete s[r].startingIndex;return{positions:o,holes:s,startingIndex:e}}},P=new o.Z;function S(t,e,n,r){return o.Z.subtract(e,t,P),o.Z.multiplyByScalar(P,n/r,P),o.Z.add(t,P,P),[P.x,P.y]}const I=new s.Z;function A(t,e,n,r){return s.Z.subtract(e,t,I),s.Z.multiplyByScalar(I,n/r,I),s.Z.add(t,I,I),[I.x,I.y,I.z]}x.subdivideLineCount=function(t,e,n){const r=s.Z.distance(t,e)/n,i=Math.max(0,Math.ceil(g.Z.log2(r)));return Math.pow(2,i)};const R=new a.Z,v=new a.Z,M=new a.Z,N=new s.Z,C=new h.Z;x.subdivideRhumbLineCount=function(t,e,n,r){const i=t.cartesianToCartographic(e,R),o=t.cartesianToCartographic(n,v),s=new h.Z(i,o,t).surfaceDistance/r,a=Math.max(0,Math.ceil(g.Z.log2(s)));return Math.pow(2,a)},x.subdivideTexcoordLine=function(t,e,n,r,i,s){const a=x.subdivideLineCount(n,r,i),c=o.Z.distance(t,e),u=c/a,Z=s;Z.length=2*a;let l=0;for(let n=0;n<a;n++){const r=S(t,e,n*u,c);Z[l++]=r[0],Z[l++]=r[1]}return Z},x.subdivideLine=function(t,e,n,r){const i=x.subdivideLineCount(t,e,n),o=s.Z.distance(t,e),a=o/i;(0,Z.Z)(r)||(r=[]);const c=r;c.length=3*i;let u=0;for(let n=0;n<i;n++){const r=A(t,e,n*a,o);c[u++]=r[0],c[u++]=r[1],c[u++]=r[2]}return c},x.subdivideTexcoordRhumbLine=function(t,e,n,r,i,s,a){const c=n.cartesianToCartographic(r,R),u=n.cartesianToCartographic(i,v);C.setEndPoints(c,u);const Z=C.surfaceDistance/s,l=Math.max(0,Math.ceil(g.Z.log2(Z))),h=Math.pow(2,l),f=o.Z.distance(t,e),p=f/h,d=a;d.length=2*h;let m=0;for(let n=0;n<h;n++){const r=S(t,e,n*p,f);d[m++]=r[0],d[m++]=r[1]}return d},x.subdivideRhumbLine=function(t,e,n,r,i){const o=t.cartesianToCartographic(e,R),s=t.cartesianToCartographic(n,v),a=new h.Z(o,s,t),c=a.surfaceDistance/r,u=Math.max(0,Math.ceil(g.Z.log2(c))),l=Math.pow(2,u),f=a.surfaceDistance/l;(0,Z.Z)(i)||(i=[]);const p=i;p.length=3*l;let d=0;for(let e=0;e<l;e++){const n=a.interpolateUsingSurfaceDistance(e*f,M),r=t.cartographicToCartesian(n,N);p[d++]=r.x,p[d++]=r.y,p[d++]=r.z}return p};const q=new s.Z,D=new s.Z,L=new s.Z,B=new s.Z;x.scaleToGeodeticHeightExtruded=function(t,e,n,r,i){r=(0,u.Z)(r,l.Z.WGS84);const o=q;let a=D;const c=L;let h=B;if((0,Z.Z)(t)&&(0,Z.Z)(t.attributes)&&(0,Z.Z)(t.attributes.position)){const u=t.attributes.position.values,Z=u.length/2;for(let t=0;t<Z;t+=3)s.Z.fromArray(u,t,c),r.geodeticSurfaceNormal(c,o),h=r.scaleToGeodeticSurface(c,h),a=s.Z.multiplyByScalar(o,n,a),a=s.Z.add(h,a,a),u[t+Z]=a.x,u[t+1+Z]=a.y,u[t+2+Z]=a.z,i&&(h=s.Z.clone(c,h)),a=s.Z.multiplyByScalar(o,e,a),a=s.Z.add(h,a,a),u[t]=a.x,u[t+1]=a.y,u[t+2]=a.z}return t},x.polygonOutlinesFromHierarchy=function(t,e,n){const r=[],o=new T.Z;let a,c,u;for(o.enqueue(t);0!==o.length;){const t=o.dequeue();let l=t.positions;if(e)for(u=l.length,a=0;a<u;a++)n.scaleToGeodeticSurface(l[a],l[a]);if(l=(0,i.Z)(l,s.Z.equalsEpsilon,!0),l.length<3)continue;const h=t.holes?t.holes.length:0;for(a=0;a<h;a++){const l=t.holes[a];let h=l.positions;if(e)for(u=h.length,c=0;c<u;++c)n.scaleToGeodeticSurface(h[c],h[c]);if(h=(0,i.Z)(h,s.Z.equalsEpsilon,!0),h.length<3)continue;r.push(h);let f=0;for((0,Z.Z)(l.holes)&&(f=l.holes.length),c=0;c<f;c++)o.enqueue(l.holes[c])}r.push(l)}return r},x.polygonsFromHierarchy=function(t,e,n,r,o){const a=[],c=[],u=new T.Z;for(u.enqueue(t);0!==u.length;){const t=u.dequeue();let l=t.positions;const h=t.holes;let f,p;if(r)for(p=l.length,f=0;f<p;f++)o.scaleToGeodeticSurface(l[f],l[f]);if(e||(l=(0,i.Z)(l,s.Z.equalsEpsilon,!0)),l.length<3)continue;let d=n(l);if(!(0,Z.Z)(d))continue;const m=[];let y=_.Z.computeWindingOrder2D(d);y===E.Z.CLOCKWISE&&(d.reverse(),l=l.slice().reverse());let g=l.slice();const w=(0,Z.Z)(h)?h.length:0,b=[];let O;for(f=0;f<w;f++){const t=h[f];let a=t.positions;if(r)for(p=a.length,O=0;O<p;++O)o.scaleToGeodeticSurface(a[O],a[O]);if(e||(a=(0,i.Z)(a,s.Z.equalsEpsilon,!0)),a.length<3)continue;const c=n(a);if(!(0,Z.Z)(c))continue;y=_.Z.computeWindingOrder2D(c),y===E.Z.CLOCKWISE&&(c.reverse(),a=a.slice().reverse()),b.push(a),m.push(g.length),g=g.concat(a),d=d.concat(c);let l=0;for((0,Z.Z)(t.holes)&&(l=t.holes.length),O=0;O<l;O++)u.enqueue(t.holes[O])}a.push({outerRing:l,holes:b}),c.push({positions:g,positions2D:d,holes:m})}return{hierarchy:a,polygons:c}};const j=new o.Z,z=new s.Z,k=new O.Z,U=new w.Z;x.computeBoundingRectangle=function(t,e,n,r,i){const o=O.Z.fromAxisAngle(t,r,k),a=w.Z.fromQuaternion(o,U);let c=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;const f=n.length;for(let t=0;t<f;++t){const r=s.Z.clone(n[t],z);w.Z.multiplyByVector(a,r,r);const i=e(r,j);(0,Z.Z)(i)&&(c=Math.min(c,i.x),u=Math.max(u,i.x),l=Math.min(l,i.y),h=Math.max(h,i.y))}return i.x=c,i.y=l,i.width=u-c,i.height=h-l,i},x.createGeometryFromPositions=function(t,e,n,i,s,a,u){let l=_.Z.triangulate(e.positions2D,e.holes);l.length<3&&(l=[0,1,2]);const h=e.positions,d=(0,Z.Z)(n),y=d?n.positions:void 0;if(s){const t=h.length,e=new Array(3*t);let n=0;for(let r=0;r<t;r++){const t=h[r];e[n++]=t.x,e[n++]=t.y,e[n++]=t.z}const r={attributes:{position:new p.Z({componentDatatype:c.Z.DOUBLE,componentsPerAttribute:3,values:e})},indices:l,primitiveType:b.Z.TRIANGLES};d&&(r.attributes.st=new p.Z({componentDatatype:c.Z.FLOAT,componentsPerAttribute:2,values:o.Z.packArray(y)}));const i=new f.Z(r);return a.normal?m.Z.computeNormal(i):i}return u===r.Z.GEODESIC?_.Z.computeSubdivision(t,h,l,y,i):u===r.Z.RHUMB?_.Z.computeRhumbLineSubdivision(t,h,l,y,i):void 0};const H=[],G=[],F=new s.Z,V=new s.Z;x.computeWallGeometry=function(t,e,n,i,o,a){let u,l,h,m,w,_,O,T,E,P=t.length,S=0,I=0;const A=(0,Z.Z)(e),R=A?e.positions:void 0;if(o)for(l=3*P*2,u=new Array(2*l),A&&(E=2*P*2,T=new Array(2*E)),h=0;h<P;h++)m=t[h],w=t[(h+1)%P],u[S]=u[S+l]=m.x,++S,u[S]=u[S+l]=m.y,++S,u[S]=u[S+l]=m.z,++S,u[S]=u[S+l]=w.x,++S,u[S]=u[S+l]=w.y,++S,u[S]=u[S+l]=w.z,++S,A&&(_=R[h],O=R[(h+1)%P],T[I]=T[I+E]=_.x,++I,T[I]=T[I+E]=_.y,++I,T[I]=T[I+E]=O.x,++I,T[I]=T[I+E]=O.y,++I);else{const e=g.Z.chordLength(i,n.maximumRadius);let o=0;if(a===r.Z.GEODESIC)for(h=0;h<P;h++)o+=x.subdivideLineCount(t[h],t[(h+1)%P],e);else if(a===r.Z.RHUMB)for(h=0;h<P;h++)o+=x.subdivideRhumbLineCount(n,t[h],t[(h+1)%P],e);for(l=3*(o+P),u=new Array(2*l),A&&(E=2*(o+P),T=new Array(2*E)),h=0;h<P;h++){let i,o;m=t[h],w=t[(h+1)%P],A&&(_=R[h],O=R[(h+1)%P]),a===r.Z.GEODESIC?(i=x.subdivideLine(m,w,e,G),A&&(o=x.subdivideTexcoordLine(_,O,m,w,e,H))):a===r.Z.RHUMB&&(i=x.subdivideRhumbLine(n,m,w,e,G),A&&(o=x.subdivideTexcoordRhumbLine(_,O,n,m,w,e,H)));const s=i.length;for(let t=0;t<s;++t,++S)u[S]=i[t],u[S+l]=i[t];if(u[S]=w.x,u[S+l]=w.x,++S,u[S]=w.y,u[S+l]=w.y,++S,u[S]=w.z,u[S+l]=w.z,++S,A){const t=o.length;for(let e=0;e<t;++e,++I)T[I]=o[e],T[I+E]=o[e];T[I]=O.x,T[I+E]=O.x,++I,T[I]=O.y,T[I+E]=O.y,++I}}}P=u.length;const v=y.Z.createTypedArray(P/3,P-6*t.length);let M=0;for(P/=6,h=0;h<P;h++){const t=h,e=t+1,n=t+P,r=n+1;m=s.Z.fromArray(u,3*t,F),w=s.Z.fromArray(u,3*e,V),s.Z.equalsEpsilon(m,w,g.Z.EPSILON10,g.Z.EPSILON10)||(v[M++]=t,v[M++]=n,v[M++]=e,v[M++]=e,v[M++]=n,v[M++]=r)}const N={attributes:new d.Z({position:new p.Z({componentDatatype:c.Z.DOUBLE,componentsPerAttribute:3,values:u})}),indices:v,primitiveType:b.Z.TRIANGLES};A&&(N.attributes.st=new p.Z({componentDatatype:c.Z.FLOAT,componentsPerAttribute:2,values:T}));return new f.Z(N)};const W=x},46807:(t,e,n)=>{n.d(e,{Z:()=>i});var r=n(54485);const i=function(t,e){this.positions=(0,r.Z)(t)?t:[],this.holes=(0,r.Z)(e)?e:[]}},99958:(t,e,n)=>{n.d(e,{Z:()=>N});var r=n(85162),i=n(65730),o=n(52351),s=n(93517),a=n(17497),c=n(44990),u=n(88779),Z=n(54485),l=n(20176),h=n(99996),f=n(60794),p=n(97845),d=n(94061),m=n(77683),y=n(78224),g=n(97029),w=n(45050),_=n(39172),b=n(22874),O=n(33534),T=n(14777),E=n(84473),x=n(39892);const P=[],S=[];function I(t,e,n,i,o){const s=f.Z.fromPoints(e,t).projectPointsOntoPlane(e,P);let a,u;T.Z.computeWindingOrder2D(s)===x.Z.CLOCKWISE&&(s.reverse(),e=e.slice().reverse());let Z=e.length,l=0;if(i)for(a=new Float64Array(2*Z*3),u=0;u<Z;u++){const t=e[u],n=e[(u+1)%Z];a[l++]=t.x,a[l++]=t.y,a[l++]=t.z,a[l++]=n.x,a[l++]=n.y,a[l++]=n.z}else{let i=0;if(o===r.Z.GEODESIC)for(u=0;u<Z;u++)i+=O.Z.subdivideLineCount(e[u],e[(u+1)%Z],n);else if(o===r.Z.RHUMB)for(u=0;u<Z;u++)i+=O.Z.subdivideRhumbLineCount(t,e[u],e[(u+1)%Z],n);for(a=new Float64Array(3*i),u=0;u<Z;u++){let i;o===r.Z.GEODESIC?i=O.Z.subdivideLine(e[u],e[(u+1)%Z],n,S):o===r.Z.RHUMB&&(i=O.Z.subdivideRhumbLine(t,e[u],e[(u+1)%Z],n,S));const s=i.length;for(let t=0;t<s;++t)a[l++]=i[t]}}Z=a.length/3;const h=2*Z,g=_.Z.createTypedArray(Z,h);for(l=0,u=0;u<Z-1;u++)g[l++]=u,g[l++]=u+1;return g[l++]=Z-1,g[l++]=0,new y.Z({geometry:new p.Z({attributes:new m.Z({position:new d.Z({componentDatatype:c.Z.DOUBLE,componentsPerAttribute:3,values:a})}),indices:g,primitiveType:E.Z.LINES})})}function A(t,e,n,i,o){const s=f.Z.fromPoints(e,t).projectPointsOntoPlane(e,P);let a,u;T.Z.computeWindingOrder2D(s)===x.Z.CLOCKWISE&&(s.reverse(),e=e.slice().reverse());let Z=e.length;const l=new Array(Z);let h=0;if(i)for(a=new Float64Array(2*Z*3*2),u=0;u<Z;++u){l[u]=h/3;const t=e[u],n=e[(u+1)%Z];a[h++]=t.x,a[h++]=t.y,a[h++]=t.z,a[h++]=n.x,a[h++]=n.y,a[h++]=n.z}else{let i=0;if(o===r.Z.GEODESIC)for(u=0;u<Z;u++)i+=O.Z.subdivideLineCount(e[u],e[(u+1)%Z],n);else if(o===r.Z.RHUMB)for(u=0;u<Z;u++)i+=O.Z.subdivideRhumbLineCount(t,e[u],e[(u+1)%Z],n);for(a=new Float64Array(3*i*2),u=0;u<Z;++u){let i;l[u]=h/3,o===r.Z.GEODESIC?i=O.Z.subdivideLine(e[u],e[(u+1)%Z],n,S):o===r.Z.RHUMB&&(i=O.Z.subdivideRhumbLine(t,e[u],e[(u+1)%Z],n,S));const s=i.length;for(let t=0;t<s;++t)a[h++]=i[t]}}Z=a.length/6;const g=l.length,w=2*(2*Z+g),b=_.Z.createTypedArray(Z+g,w);for(h=0,u=0;u<Z;++u)b[h++]=u,b[h++]=(u+1)%Z,b[h++]=u+Z,b[h++]=(u+1)%Z+Z;for(u=0;u<g;u++){const t=l[u];b[h++]=t,b[h++]=t+Z}return new y.Z({geometry:new p.Z({attributes:new m.Z({position:new d.Z({componentDatatype:c.Z.DOUBLE,componentsPerAttribute:3,values:a})}),indices:b,primitiveType:E.Z.LINES})})}function R(t){if(a.Z.typeOf.object("options",t),a.Z.typeOf.object("options.polygonHierarchy",t.polygonHierarchy),t.perPositionHeight&&(0,Z.Z)(t.height))throw new l.Z("Cannot use both options.perPositionHeight and options.height");if((0,Z.Z)(t.arcType)&&t.arcType!==r.Z.GEODESIC&&t.arcType!==r.Z.RHUMB)throw new l.Z("Invalid arcType. Valid options are ArcType.GEODESIC and ArcType.RHUMB.");const e=t.polygonHierarchy,n=(0,u.Z)(t.ellipsoid,h.Z.WGS84),i=(0,u.Z)(t.granularity,b.Z.RADIANS_PER_DEGREE),o=(0,u.Z)(t.perPositionHeight,!1),c=o&&(0,Z.Z)(t.extrudedHeight),f=(0,u.Z)(t.arcType,r.Z.GEODESIC);let p=(0,u.Z)(t.height,0),d=(0,u.Z)(t.extrudedHeight,p);if(!c){const t=Math.max(p,d);d=Math.min(p,d),p=t}this._ellipsoid=h.Z.clone(n),this._granularity=i,this._height=p,this._extrudedHeight=d,this._arcType=f,this._polygonHierarchy=e,this._perPositionHeight=o,this._perPositionHeightExtrude=c,this._offsetAttribute=t.offsetAttribute,this._workerName="createPolygonOutlineGeometry",this.packedLength=O.Z.computeHierarchyPackedLength(e,s.Z)+h.Z.packedLength+8}R.pack=function(t,e,n){return a.Z.typeOf.object("value",t),a.Z.defined("array",e),n=(0,u.Z)(n,0),n=O.Z.packPolygonHierarchy(t._polygonHierarchy,e,n,s.Z),h.Z.pack(t._ellipsoid,e,n),n+=h.Z.packedLength,e[n++]=t._height,e[n++]=t._extrudedHeight,e[n++]=t._granularity,e[n++]=t._perPositionHeightExtrude?1:0,e[n++]=t._perPositionHeight?1:0,e[n++]=t._arcType,e[n++]=(0,u.Z)(t._offsetAttribute,-1),e[n]=t.packedLength,e};const v=h.Z.clone(h.Z.UNIT_SPHERE),M={polygonHierarchy:{}};R.unpack=function(t,e,n){a.Z.defined("array",t),e=(0,u.Z)(e,0);const r=O.Z.unpackPolygonHierarchy(t,e,s.Z);e=r.startingIndex,delete r.startingIndex;const i=h.Z.unpack(t,e,v);e+=h.Z.packedLength;const o=t[e++],c=t[e++],l=t[e++],f=1===t[e++],p=1===t[e++],d=t[e++],m=t[e++],y=t[e];return(0,Z.Z)(n)||(n=new R(M)),n._polygonHierarchy=r,n._ellipsoid=h.Z.clone(i,n._ellipsoid),n._height=o,n._extrudedHeight=c,n._granularity=l,n._perPositionHeight=p,n._perPositionHeightExtrude=f,n._arcType=d,n._offsetAttribute=-1===m?void 0:m,n.packedLength=y,n},R.fromPositions=function(t){t=(0,u.Z)(t,u.Z.EMPTY_OBJECT),a.Z.defined("options.positions",t.positions);return new R({polygonHierarchy:{positions:t.positions},height:t.height,extrudedHeight:t.extrudedHeight,ellipsoid:t.ellipsoid,granularity:t.granularity,perPositionHeight:t.perPositionHeight,arcType:t.arcType,offsetAttribute:t.offsetAttribute})},R.createGeometry=function(t){const e=t._ellipsoid,n=t._granularity,r=t._polygonHierarchy,s=t._perPositionHeight,a=t._arcType,u=O.Z.polygonOutlinesFromHierarchy(r,!s,e);if(0===u.length)return;let l;const h=[],f=b.Z.chordLength(n,e.maximumRadius),m=t._height,y=t._extrudedHeight;let _,E;if(t._perPositionHeightExtrude||!b.Z.equalsEpsilon(m,y,0,b.Z.EPSILON2))for(E=0;E<u.length;E++){if(l=A(e,u[E],f,s,a),l.geometry=O.Z.scaleToGeodeticHeightExtruded(l.geometry,m,y,e,s),(0,Z.Z)(t._offsetAttribute)){const e=l.geometry.attributes.position.values.length/3;let n=new Uint8Array(e);t._offsetAttribute===g.Z.TOP?n=(0,i.Z)(n,1,0,e/2):(_=t._offsetAttribute===g.Z.NONE?0:1,n=(0,i.Z)(n,_)),l.geometry.attributes.applyOffset=new d.Z({componentDatatype:c.Z.UNSIGNED_BYTE,componentsPerAttribute:1,values:n})}h.push(l)}else for(E=0;E<u.length;E++){if(l=I(e,u[E],f,s,a),l.geometry.attributes.position.values=T.Z.scaleToGeodeticHeight(l.geometry.attributes.position.values,m,e,!s),(0,Z.Z)(t._offsetAttribute)){const e=l.geometry.attributes.position.values.length,n=new Uint8Array(e/3);_=t._offsetAttribute===g.Z.NONE?0:1,(0,i.Z)(n,_),l.geometry.attributes.applyOffset=new d.Z({componentDatatype:c.Z.UNSIGNED_BYTE,componentsPerAttribute:1,values:n})}h.push(l)}const x=w.Z.combineInstances(h)[0],P=o.Z.fromVertices(x.attributes.position.values);return new p.Z({attributes:x.attributes,indices:x.indices,primitiveType:x.primitiveType,boundingSphere:P,offsetAttribute:t._offsetAttribute})};const N=R},14777:(t,e,n)=>{n.d(e,{Z:()=>D});var r=n(52619),i=n(59015),o=n(93517),s=n(66866),a=n(17497),c=n(44990),u=n(88779),Z=n(54485),l=n(99996),h=n(48647),f=n(97845),p=n(94061),d=n(22874),m=n(84473),y=n(39892);const g=new o.Z,w=new o.Z,_={computeArea2D:function(t){a.Z.defined("positions",t),a.Z.typeOf.number.greaterThanOrEquals("positions.length",t.length,3);const e=t.length;let n=0;for(let r=e-1,i=0;i<e;r=i++){const e=t[r],o=t[i];n+=e.x*o.y-o.x*e.y}return.5*n},computeWindingOrder2D:function(t){return _.computeArea2D(t)>0?y.Z.COUNTER_CLOCKWISE:y.Z.CLOCKWISE},triangulate:function(t,e){a.Z.defined("positions",t);const n=i.Z.packArray(t);return(0,r.Z)(n,e,2)}},b=new o.Z,O=new o.Z,T=new o.Z,E=new o.Z,x=new o.Z,P=new o.Z,S=new o.Z,I=new i.Z,A=new i.Z,R=new i.Z,v=new i.Z;_.computeSubdivision=function(t,e,n,r,s){s=(0,u.Z)(s,d.Z.RADIANS_PER_DEGREE);const l=(0,Z.Z)(r);a.Z.typeOf.object("ellipsoid",t),a.Z.defined("positions",e),a.Z.defined("indices",n),a.Z.typeOf.number.greaterThanOrEquals("indices.length",n.length,3),a.Z.typeOf.number.equals("indices.length % 3","0",n.length%3,0),a.Z.typeOf.number.greaterThan("granularity",s,0);const h=n.slice(0);let y;const g=e.length,w=new Array(3*g),_=new Array(2*g);let M=0,N=0;for(y=0;y<g;y++){const t=e[y];if(w[M++]=t.x,w[M++]=t.y,w[M++]=t.z,l){const t=r[y];_[N++]=t.x,_[N++]=t.y}}const C=[],q={},D=t.maximumRadius,L=d.Z.chordLength(s,D),B=L*L;for(;h.length>0;){const t=h.pop(),e=h.pop(),n=h.pop(),r=o.Z.fromArray(w,3*n,b),s=o.Z.fromArray(w,3*e,O),a=o.Z.fromArray(w,3*t,T);let c,u,f;l&&(c=i.Z.fromArray(_,2*n,I),u=i.Z.fromArray(_,2*e,A),f=i.Z.fromArray(_,2*t,R));const p=o.Z.multiplyByScalar(o.Z.normalize(r,E),D,E),d=o.Z.multiplyByScalar(o.Z.normalize(s,x),D,x),m=o.Z.multiplyByScalar(o.Z.normalize(a,P),D,P),g=o.Z.magnitudeSquared(o.Z.subtract(p,d,S)),M=o.Z.magnitudeSquared(o.Z.subtract(d,m,S)),N=o.Z.magnitudeSquared(o.Z.subtract(m,p,S)),L=Math.max(g,M,N);let j,z,k;L>B?g===L?(j=`${Math.min(n,e)} ${Math.max(n,e)}`,y=q[j],(0,Z.Z)(y)||(z=o.Z.add(r,s,S),o.Z.multiplyByScalar(z,.5,z),w.push(z.x,z.y,z.z),y=w.length/3-1,q[j]=y,l&&(k=i.Z.add(c,u,v),i.Z.multiplyByScalar(k,.5,k),_.push(k.x,k.y))),h.push(n,y,t),h.push(y,e,t)):M===L?(j=`${Math.min(e,t)} ${Math.max(e,t)}`,y=q[j],(0,Z.Z)(y)||(z=o.Z.add(s,a,S),o.Z.multiplyByScalar(z,.5,z),w.push(z.x,z.y,z.z),y=w.length/3-1,q[j]=y,l&&(k=i.Z.add(u,f,v),i.Z.multiplyByScalar(k,.5,k),_.push(k.x,k.y))),h.push(e,y,n),h.push(y,t,n)):N===L&&(j=`${Math.min(t,n)} ${Math.max(t,n)}`,y=q[j],(0,Z.Z)(y)||(z=o.Z.add(a,r,S),o.Z.multiplyByScalar(z,.5,z),w.push(z.x,z.y,z.z),y=w.length/3-1,q[j]=y,l&&(k=i.Z.add(f,c,v),i.Z.multiplyByScalar(k,.5,k),_.push(k.x,k.y))),h.push(t,y,e),h.push(y,n,e)):(C.push(n),C.push(e),C.push(t))}const j={attributes:{position:new p.Z({componentDatatype:c.Z.DOUBLE,componentsPerAttribute:3,values:w})},indices:C,primitiveType:m.Z.TRIANGLES};return l&&(j.attributes.st=new p.Z({componentDatatype:c.Z.FLOAT,componentsPerAttribute:2,values:_})),new f.Z(j)};const M=new s.Z,N=new s.Z,C=new s.Z,q=new s.Z;_.computeRhumbLineSubdivision=function(t,e,n,r,s){s=(0,u.Z)(s,d.Z.RADIANS_PER_DEGREE);const l=(0,Z.Z)(r);a.Z.typeOf.object("ellipsoid",t),a.Z.defined("positions",e),a.Z.defined("indices",n),a.Z.typeOf.number.greaterThanOrEquals("indices.length",n.length,3),a.Z.typeOf.number.equals("indices.length % 3","0",n.length%3,0),a.Z.typeOf.number.greaterThan("granularity",s,0);const y=n.slice(0);let g;const w=e.length,_=new Array(3*w),E=new Array(2*w);let x=0,P=0;for(g=0;g<w;g++){const t=e[g];if(_[x++]=t.x,_[x++]=t.y,_[x++]=t.z,l){const t=r[g];E[P++]=t.x,E[P++]=t.y}}const D=[],L={},B=t.maximumRadius,j=d.Z.chordLength(s,B),z=new h.Z(void 0,void 0,t),k=new h.Z(void 0,void 0,t),U=new h.Z(void 0,void 0,t);for(;y.length>0;){const e=y.pop(),n=y.pop(),r=y.pop(),s=o.Z.fromArray(_,3*r,b),a=o.Z.fromArray(_,3*n,O),c=o.Z.fromArray(_,3*e,T);let u,h,f;l&&(u=i.Z.fromArray(E,2*r,I),h=i.Z.fromArray(E,2*n,A),f=i.Z.fromArray(E,2*e,R));const p=t.cartesianToCartographic(s,M),d=t.cartesianToCartographic(a,N),m=t.cartesianToCartographic(c,C);z.setEndPoints(p,d);const w=z.surfaceDistance;k.setEndPoints(d,m);const x=k.surfaceDistance;U.setEndPoints(m,p);const P=U.surfaceDistance,B=Math.max(w,x,P);let H,G,F,V,W;B>j?w===B?(H=`${Math.min(r,n)} ${Math.max(r,n)}`,g=L[H],(0,Z.Z)(g)||(G=z.interpolateUsingFraction(.5,q),F=.5*(p.height+d.height),V=o.Z.fromRadians(G.longitude,G.latitude,F,t,S),_.push(V.x,V.y,V.z),g=_.length/3-1,L[H]=g,l&&(W=i.Z.add(u,h,v),i.Z.multiplyByScalar(W,.5,W),E.push(W.x,W.y))),y.push(r,g,e),y.push(g,n,e)):x===B?(H=`${Math.min(n,e)} ${Math.max(n,e)}`,g=L[H],(0,Z.Z)(g)||(G=k.interpolateUsingFraction(.5,q),F=.5*(d.height+m.height),V=o.Z.fromRadians(G.longitude,G.latitude,F,t,S),_.push(V.x,V.y,V.z),g=_.length/3-1,L[H]=g,l&&(W=i.Z.add(h,f,v),i.Z.multiplyByScalar(W,.5,W),E.push(W.x,W.y))),y.push(n,g,r),y.push(g,e,r)):P===B&&(H=`${Math.min(e,r)} ${Math.max(e,r)}`,g=L[H],(0,Z.Z)(g)||(G=U.interpolateUsingFraction(.5,q),F=.5*(m.height+p.height),V=o.Z.fromRadians(G.longitude,G.latitude,F,t,S),_.push(V.x,V.y,V.z),g=_.length/3-1,L[H]=g,l&&(W=i.Z.add(f,u,v),i.Z.multiplyByScalar(W,.5,W),E.push(W.x,W.y))),y.push(e,g,n),y.push(g,r,n)):(D.push(r),D.push(n),D.push(e))}const H={attributes:{position:new p.Z({componentDatatype:c.Z.DOUBLE,componentsPerAttribute:3,values:_})},indices:D,primitiveType:m.Z.TRIANGLES};return l&&(H.attributes.st=new p.Z({componentDatatype:c.Z.FLOAT,componentsPerAttribute:2,values:E})),new f.Z(H)},_.scaleToGeodeticHeight=function(t,e,n,r){n=(0,u.Z)(n,l.Z.WGS84);let i=g,s=w;if(e=(0,u.Z)(e,0),r=(0,u.Z)(r,!0),(0,Z.Z)(t)){const a=t.length;for(let c=0;c<a;c+=3)o.Z.fromArray(t,c,s),r&&(s=n.scaleToGeodeticSurface(s,s)),0!==e&&(i=n.geodeticSurfaceNormal(s,i),o.Z.multiplyByScalar(i,e,i),o.Z.add(s,i,s)),t[c]=s.x,t[c+1]=s.y,t[c+2]=s.z}return t};const D=_},47328:(t,e,n)=>{n.d(e,{Z:()=>M});var r=n(85162),i=n(55993),o=n(52351),s=n(93517),a=n(6785),c=n(44990),u=n(88779),Z=n(54485),l=n(20176),h=n(99996),f=n(97845),p=n(94061),d=n(77683),m=n(28702),y=n(39172),g=n(22874),w=n(5316),_=n(84473),b=n(25225);const O=[];function T(t,e,n,r,i){const o=O;let s;o.length=i;const c=n.red,u=n.green,Z=n.blue,l=n.alpha,h=r.red,f=r.green,p=r.blue,d=r.alpha;if(a.Z.equals(n,r)){for(s=0;s<i;s++)o[s]=a.Z.clone(n);return o}const m=(h-c)/i,y=(f-u)/i,g=(p-Z)/i,w=(d-l)/i;for(s=0;s<i;s++)o[s]=new a.Z(c+s*m,u+s*y,Z+s*g,l+s*w);return o}function E(t){const e=(t=(0,u.Z)(t,u.Z.EMPTY_OBJECT)).positions,n=t.colors,i=(0,u.Z)(t.width,1),o=(0,u.Z)(t.colorsPerVertex,!1);if(!(0,Z.Z)(e)||e.length<2)throw new l.Z("At least two positions are required.");if("number"!=typeof i)throw new l.Z("width must be a number");if((0,Z.Z)(n)&&(o&&n.length<e.length||!o&&n.length<e.length-1))throw new l.Z("colors has an invalid length.");this._positions=e,this._colors=n,this._width=i,this._colorsPerVertex=o,this._vertexFormat=b.Z.clone((0,u.Z)(t.vertexFormat,b.Z.DEFAULT)),this._arcType=(0,u.Z)(t.arcType,r.Z.GEODESIC),this._granularity=(0,u.Z)(t.granularity,g.Z.RADIANS_PER_DEGREE),this._ellipsoid=h.Z.clone((0,u.Z)(t.ellipsoid,h.Z.WGS84)),this._workerName="createPolylineGeometry";let c=1+e.length*s.Z.packedLength;c+=(0,Z.Z)(n)?1+n.length*a.Z.packedLength:1,this.packedLength=c+h.Z.packedLength+b.Z.packedLength+4}E.pack=function(t,e,n){if(!(0,Z.Z)(t))throw new l.Z("value is required");if(!(0,Z.Z)(e))throw new l.Z("array is required");let r;n=(0,u.Z)(n,0);const i=t._positions;let o=i.length;for(e[n++]=o,r=0;r<o;++r,n+=s.Z.packedLength)s.Z.pack(i[r],e,n);const c=t._colors;for(o=(0,Z.Z)(c)?c.length:0,e[n++]=o,r=0;r<o;++r,n+=a.Z.packedLength)a.Z.pack(c[r],e,n);return h.Z.pack(t._ellipsoid,e,n),n+=h.Z.packedLength,b.Z.pack(t._vertexFormat,e,n),n+=b.Z.packedLength,e[n++]=t._width,e[n++]=t._colorsPerVertex?1:0,e[n++]=t._arcType,e[n]=t._granularity,e};const x=h.Z.clone(h.Z.UNIT_SPHERE),P=new b.Z,S={positions:void 0,colors:void 0,ellipsoid:x,vertexFormat:P,width:void 0,colorsPerVertex:void 0,arcType:void 0,granularity:void 0};E.unpack=function(t,e,n){if(!(0,Z.Z)(t))throw new l.Z("array is required");let r;e=(0,u.Z)(e,0);let i=t[e++];const o=new Array(i);for(r=0;r<i;++r,e+=s.Z.packedLength)o[r]=s.Z.unpack(t,e);i=t[e++];const c=i>0?new Array(i):void 0;for(r=0;r<i;++r,e+=a.Z.packedLength)c[r]=a.Z.unpack(t,e);const f=h.Z.unpack(t,e,x);e+=h.Z.packedLength;const p=b.Z.unpack(t,e,P);e+=b.Z.packedLength;const d=t[e++],m=1===t[e++],y=t[e++],g=t[e];return(0,Z.Z)(n)?(n._positions=o,n._colors=c,n._ellipsoid=h.Z.clone(f,n._ellipsoid),n._vertexFormat=b.Z.clone(p,n._vertexFormat),n._width=d,n._colorsPerVertex=m,n._arcType=y,n._granularity=g,n):(S.positions=o,S.colors=c,S.width=d,S.colorsPerVertex=m,S.arcType=y,S.granularity=g,new E(S))};const I=new s.Z,A=new s.Z,R=new s.Z,v=new s.Z;E.createGeometry=function(t){const e=t._width,n=t._vertexFormat;let u=t._colors;const l=t._colorsPerVertex,h=t._arcType,b=t._granularity,E=t._ellipsoid;let x,P,S;const M=[];let N=(0,i.Z)(t._positions,s.Z.equalsEpsilon,!1,M);if((0,Z.Z)(u)&&M.length>0){let t=0,e=M[0];u=u.filter((function(n,r){let i=!1;return i=l?r===e||0===r&&1===e:r+1===e,!i||(t++,e=M[t],!1)}))}let C=N.length;if(C<2||e<=0)return;if(h===r.Z.GEODESIC||h===r.Z.RHUMB){let t,e;h===r.Z.GEODESIC?(t=g.Z.chordLength(b,E.maximumRadius),e=w.Z.numberOfPoints):(t=b,e=w.Z.numberOfPointsRhumbLine);const n=w.Z.extractHeights(N,E);if((0,Z.Z)(u)){let n=1;for(x=0;x<C-1;++x)n+=e(N[x],N[x+1],t);const r=new Array(n);let i=0;for(x=0;x<C-1;++x){const o=N[x],s=N[x+1],c=u[x],Z=e(o,s,t);if(l&&x<n){const t=T(0,0,c,u[x+1],Z),e=t.length;for(P=0;P<e;++P)r[i++]=t[P]}else for(P=0;P<Z;++P)r[i++]=a.Z.clone(c)}r[i]=a.Z.clone(u[u.length-1]),u=r,O.length=0}N=h===r.Z.GEODESIC?w.Z.generateCartesianArc({positions:N,minDistance:t,ellipsoid:E,height:n}):w.Z.generateCartesianRhumbArc({positions:N,granularity:t,ellipsoid:E,height:n})}C=N.length;const q=4*C-4,D=new Float64Array(3*q),L=new Float64Array(3*q),B=new Float64Array(3*q),j=new Float32Array(2*q),z=n.st?new Float32Array(2*q):void 0,k=(0,Z.Z)(u)?new Uint8Array(4*q):void 0;let U,H=0,G=0,F=0,V=0;for(P=0;P<C;++P){let t,r;0===P?(U=I,s.Z.subtract(N[0],N[1],U),s.Z.add(N[0],U,U)):U=N[P-1],s.Z.clone(U,R),s.Z.clone(N[P],A),P===C-1?(U=I,s.Z.subtract(N[C-1],N[C-2],U),s.Z.add(N[C-1],U,U)):U=N[P+1],s.Z.clone(U,v),(0,Z.Z)(k)&&(t=0===P||l?u[P]:u[P-1],P!==C-1&&(r=u[P]));const i=P===C-1?2:4;for(S=0===P?2:0;S<i;++S){s.Z.pack(A,D,H),s.Z.pack(R,L,H),s.Z.pack(v,B,H),H+=3;const i=S-2<0?-1:1;if(j[G++]=S%2*2-1,j[G++]=i*e,n.st&&(z[F++]=P/(C-1),z[F++]=Math.max(j[G-2],0)),(0,Z.Z)(k)){const e=S<2?t:r;k[V++]=a.Z.floatToByte(e.red),k[V++]=a.Z.floatToByte(e.green),k[V++]=a.Z.floatToByte(e.blue),k[V++]=a.Z.floatToByte(e.alpha)}}}const W=new d.Z;W.position=new p.Z({componentDatatype:c.Z.DOUBLE,componentsPerAttribute:3,values:D}),W.prevPosition=new p.Z({componentDatatype:c.Z.DOUBLE,componentsPerAttribute:3,values:L}),W.nextPosition=new p.Z({componentDatatype:c.Z.DOUBLE,componentsPerAttribute:3,values:B}),W.expandAndWidth=new p.Z({componentDatatype:c.Z.FLOAT,componentsPerAttribute:2,values:j}),n.st&&(W.st=new p.Z({componentDatatype:c.Z.FLOAT,componentsPerAttribute:2,values:z})),(0,Z.Z)(k)&&(W.color=new p.Z({componentDatatype:c.Z.UNSIGNED_BYTE,componentsPerAttribute:4,values:k,normalize:!0}));const Y=y.Z.createTypedArray(q,6*C-6);let X=0,$=0;const J=C-1;for(P=0;P<J;++P)Y[$++]=X,Y[$++]=X+2,Y[$++]=X+1,Y[$++]=X+1,Y[$++]=X+2,Y[$++]=X+3,X+=4;return new f.Z({attributes:W,indices:Y,primitiveType:_.Z.TRIANGLES,boundingSphere:o.Z.fromPoints(N),geometryType:m.Z.POLYLINES})};const M=E},5316:(t,e,n)=>{n.d(e,{Z:()=>B});var r=n(93517),i=n(66866),o=n(88779),s=n(54485),a=n(20176),c=n(99996),u=n(94025),Z=n(48647),l=n(14090),h=n(22874),f=n(71118),p=n(30445);const d={numberOfPoints:function(t,e,n){const i=r.Z.distance(t,e);return Math.ceil(i/n)},numberOfPointsRhumbLine:function(t,e,n){const r=Math.pow(t.longitude-e.longitude,2)+Math.pow(t.latitude-e.latitude,2);return Math.max(1,Math.ceil(Math.sqrt(r/(n*n))))}},m=new i.Z;d.extractHeights=function(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;i++){const n=t[i];r[i]=e.cartesianToCartographic(n,m).height}return r};const y=new f.Z,g=new r.Z,w=new r.Z,_=new p.Z(r.Z.UNIT_X,0),b=new r.Z,O=new p.Z(r.Z.UNIT_X,0),T=new r.Z,E=new r.Z,x=[];function P(t,e,n){const r=x;let i;if(r.length=t,e===n){for(i=0;i<t;i++)r[i]=e;return r}const o=(n-e)/t;for(i=0;i<t;i++){const t=e+i*o;r[i]=t}return r}const S=new i.Z,I=new i.Z,A=new r.Z,R=new r.Z,v=new r.Z,M=new u.Z;let N=new Z.Z;function C(t,e,n,i,o,s,a,c){const u=i.scaleToGeodeticSurface(t,R),Z=i.scaleToGeodeticSurface(e,v),l=d.numberOfPoints(t,e,n),h=i.cartesianToCartographic(u,S),f=i.cartesianToCartographic(Z,I),p=P(l,o,s);M.setEndPoints(h,f);const m=M.surfaceDistance/l;let y=c;h.height=o;let g=i.cartographicToCartesian(h,A);r.Z.pack(g,a,y),y+=3;for(let t=1;t<l;t++){const e=M.interpolateUsingSurfaceDistance(t*m,I);e.height=p[t],g=i.cartographicToCartesian(e,A),r.Z.pack(g,a,y),y+=3}return y}function q(t,e,n,i,o,s,a,c){const u=i.cartesianToCartographic(t,S),l=i.cartesianToCartographic(e,I),h=d.numberOfPointsRhumbLine(u,l,n);u.height=0,l.height=0;const f=P(h,o,s);N.ellipsoid.equals(i)||(N=new Z.Z(void 0,void 0,i)),N.setEndPoints(u,l);const p=N.surfaceDistance/h;let m=c;u.height=o;let y=i.cartographicToCartesian(u,A);r.Z.pack(y,a,m),m+=3;for(let t=1;t<h;t++){const e=N.interpolateUsingSurfaceDistance(t*p,I);e.height=f[t],y=i.cartographicToCartesian(e,A),r.Z.pack(y,a,m),m+=3}return m}d.wrapLongitude=function(t,e){const n=[],i=[];if((0,s.Z)(t)&&t.length>0){e=(0,o.Z)(e,f.Z.IDENTITY);const a=f.Z.inverseTransformation(e,y),c=f.Z.multiplyByPoint(a,r.Z.ZERO,g),u=r.Z.normalize(f.Z.multiplyByPointAsVector(a,r.Z.UNIT_Y,w),w),Z=p.Z.fromPointNormal(c,u,_),h=r.Z.normalize(f.Z.multiplyByPointAsVector(a,r.Z.UNIT_X,b),b),d=p.Z.fromPointNormal(c,h,O);let m=1;n.push(r.Z.clone(t[0]));let x=n[0];const P=t.length;for(let e=1;e<P;++e){const o=t[e];if(p.Z.getPointDistance(d,x)<0||p.Z.getPointDistance(d,o)<0){const t=l.Z.lineSegmentPlane(x,o,Z,T);if((0,s.Z)(t)){const e=r.Z.multiplyByScalar(u,5e-9,E);p.Z.getPointDistance(Z,x)<0&&r.Z.negate(e,e),n.push(r.Z.add(t,e,new r.Z)),i.push(m+1),r.Z.negate(e,e),n.push(r.Z.add(t,e,new r.Z)),m=1}}n.push(r.Z.clone(t[e])),m++,x=o}i.push(m)}return{positions:n,lengths:i}},d.generateArc=function(t){(0,s.Z)(t)||(t={});const e=t.positions;if(!(0,s.Z)(e))throw new a.Z("options.positions is required.");const n=e.length,i=(0,o.Z)(t.ellipsoid,c.Z.WGS84);let u=(0,o.Z)(t.height,0);const Z=Array.isArray(u);if(n<1)return[];if(1===n){const t=i.scaleToGeodeticSurface(e[0],R);if(u=Z?u[0]:u,0!==u){const e=i.geodeticSurfaceNormal(t,A);r.Z.multiplyByScalar(e,u,e),r.Z.add(t,e,t)}return[t.x,t.y,t.z]}let l=t.minDistance;if(!(0,s.Z)(l)){const e=(0,o.Z)(t.granularity,h.Z.RADIANS_PER_DEGREE);l=h.Z.chordLength(e,i.maximumRadius)}let f,p=0;for(f=0;f<n-1;f++)p+=d.numberOfPoints(e[f],e[f+1],l);const m=3*(p+1),y=new Array(m);let g=0;for(f=0;f<n-1;f++){g=C(e[f],e[f+1],l,i,Z?u[f]:u,Z?u[f+1]:u,y,g)}x.length=0;const w=e[n-1],_=i.cartesianToCartographic(w,S);_.height=Z?u[n-1]:u;const b=i.cartographicToCartesian(_,A);return r.Z.pack(b,y,m-3),y};const D=new i.Z,L=new i.Z;d.generateRhumbArc=function(t){(0,s.Z)(t)||(t={});const e=t.positions;if(!(0,s.Z)(e))throw new a.Z("options.positions is required.");const n=e.length,u=(0,o.Z)(t.ellipsoid,c.Z.WGS84);let Z=(0,o.Z)(t.height,0);const l=Array.isArray(Z);if(n<1)return[];if(1===n){const t=u.scaleToGeodeticSurface(e[0],R);if(Z=l?Z[0]:Z,0!==Z){const e=u.geodeticSurfaceNormal(t,A);r.Z.multiplyByScalar(e,Z,e),r.Z.add(t,e,t)}return[t.x,t.y,t.z]}const f=(0,o.Z)(t.granularity,h.Z.RADIANS_PER_DEGREE);let p,m,y=0,g=u.cartesianToCartographic(e[0],D);for(p=0;p<n-1;p++)m=u.cartesianToCartographic(e[p+1],L),y+=d.numberOfPointsRhumbLine(g,m,f),g=i.Z.clone(m,D);const w=3*(y+1),_=new Array(w);let b=0;for(p=0;p<n-1;p++){b=q(e[p],e[p+1],f,u,l?Z[p]:Z,l?Z[p+1]:Z,_,b)}x.length=0;const O=e[n-1],T=u.cartesianToCartographic(O,S);T.height=l?Z[n-1]:Z;const E=u.cartographicToCartesian(T,A);return r.Z.pack(E,_,w-3),_},d.generateCartesianArc=function(t){const e=d.generateArc(t),n=e.length/3,i=new Array(n);for(let t=0;t<n;t++)i[t]=r.Z.unpack(e,3*t);return i},d.generateCartesianRhumbArc=function(t){const e=d.generateRhumbArc(t),n=e.length/3,i=new Array(n);for(let t=0;t<n;t++)i[t]=r.Z.unpack(e,3*t);return i};const B=d},1097:(t,e,n)=>{n.d(e,{Z:()=>v});var r=n(55993),i=n(23114),o=n(52351),s=n(59015),a=n(93517),c=n(44990),u=n(4034),Z=n(88779),l=n(54485),h=n(20176),f=n(99996),p=n(97845),d=n(94061),m=n(77683),y=n(45050),g=n(39172),w=n(22874),_=n(53513),b=n(14777),O=n(92069),T=n(84473),E=n(25225),x=n(39892);function P(t){const e=(t=(0,Z.Z)(t,Z.Z.EMPTY_OBJECT)).polylinePositions,n=t.shapePositions;if(!(0,l.Z)(e))throw new h.Z("options.polylinePositions is required.");if(!(0,l.Z)(n))throw new h.Z("options.shapePositions is required.");this._positions=e,this._shape=n,this._ellipsoid=f.Z.clone((0,Z.Z)(t.ellipsoid,f.Z.WGS84)),this._cornerType=(0,Z.Z)(t.cornerType,u.Z.ROUNDED),this._vertexFormat=E.Z.clone((0,Z.Z)(t.vertexFormat,E.Z.DEFAULT)),this._granularity=(0,Z.Z)(t.granularity,w.Z.RADIANS_PER_DEGREE),this._workerName="createPolylineVolumeGeometry";let r=1+e.length*a.Z.packedLength;r+=1+n.length*s.Z.packedLength,this.packedLength=r+f.Z.packedLength+E.Z.packedLength+2}P.pack=function(t,e,n){if(!(0,l.Z)(t))throw new h.Z("value is required");if(!(0,l.Z)(e))throw new h.Z("array is required");let r;n=(0,Z.Z)(n,0);const i=t._positions;let o=i.length;for(e[n++]=o,r=0;r<o;++r,n+=a.Z.packedLength)a.Z.pack(i[r],e,n);const c=t._shape;for(o=c.length,e[n++]=o,r=0;r<o;++r,n+=s.Z.packedLength)s.Z.pack(c[r],e,n);return f.Z.pack(t._ellipsoid,e,n),n+=f.Z.packedLength,E.Z.pack(t._vertexFormat,e,n),n+=E.Z.packedLength,e[n++]=t._cornerType,e[n]=t._granularity,e};const S=f.Z.clone(f.Z.UNIT_SPHERE),I=new E.Z,A={polylinePositions:void 0,shapePositions:void 0,ellipsoid:S,vertexFormat:I,cornerType:void 0,granularity:void 0};P.unpack=function(t,e,n){if(!(0,l.Z)(t))throw new h.Z("array is required");let r;e=(0,Z.Z)(e,0);let i=t[e++];const o=new Array(i);for(r=0;r<i;++r,e+=a.Z.packedLength)o[r]=a.Z.unpack(t,e);i=t[e++];const c=new Array(i);for(r=0;r<i;++r,e+=s.Z.packedLength)c[r]=s.Z.unpack(t,e);const u=f.Z.unpack(t,e,S);e+=f.Z.packedLength;const p=E.Z.unpack(t,e,I);e+=E.Z.packedLength;const d=t[e++],m=t[e];return(0,l.Z)(n)?(n._positions=o,n._shape=c,n._ellipsoid=f.Z.clone(u,n._ellipsoid),n._vertexFormat=E.Z.clone(p,n._vertexFormat),n._cornerType=d,n._granularity=m,n):(A.polylinePositions=o,A.shapePositions=c,A.cornerType=d,A.granularity=m,new P(A))};const R=new i.Z;P.createGeometry=function(t){const e=t._positions,n=(0,r.Z)(e,a.Z.equalsEpsilon);let s=t._shape;if(s=O.Z.removeDuplicatesFromShape(s),n.length<2||s.length<3)return;b.Z.computeWindingOrder2D(s)===x.Z.CLOCKWISE&&s.reverse();const u=i.Z.fromPoints(s,R);return function(t,e,n,r){const i=new m.Z;r.position&&(i.position=new d.Z({componentDatatype:c.Z.DOUBLE,componentsPerAttribute:3,values:t}));const s=e.length,a=t.length/3,u=(a-2*s)/(2*s),Z=b.Z.triangulate(e),l=(u-1)*s*6+2*Z.length,h=g.Z.createTypedArray(a,l);let f,w,O,E,x,P;const S=2*s;let I=0;for(f=0;f<u-1;f++){for(w=0;w<s-1;w++)O=2*w+f*s*2,P=O+S,E=O+1,x=E+S,h[I++]=E,h[I++]=O,h[I++]=x,h[I++]=x,h[I++]=O,h[I++]=P;O=2*s-2+f*s*2,E=O+1,x=E+S,P=O+S,h[I++]=E,h[I++]=O,h[I++]=x,h[I++]=x,h[I++]=O,h[I++]=P}if(r.st||r.tangent||r.bitangent){const t=new Float32Array(2*a),r=1/(u-1),o=1/n.height,Z=n.height/2;let l,h,p=0;for(f=0;f<u;f++){for(l=f*r,h=o*(e[0].y+Z),t[p++]=l,t[p++]=h,w=1;w<s;w++)h=o*(e[w].y+Z),t[p++]=l,t[p++]=h,t[p++]=l,t[p++]=h;h=o*(e[0].y+Z),t[p++]=l,t[p++]=h}for(w=0;w<s;w++)l=0,h=o*(e[w].y+Z),t[p++]=l,t[p++]=h;for(w=0;w<s;w++)l=(u-1)*r,h=o*(e[w].y+Z),t[p++]=l,t[p++]=h;i.st=new d.Z({componentDatatype:c.Z.FLOAT,componentsPerAttribute:2,values:new Float32Array(t)})}const A=a-2*s;for(f=0;f<Z.length;f+=3){const t=Z[f]+A,e=Z[f+1]+A,n=Z[f+2]+A;h[I++]=t,h[I++]=e,h[I++]=n,h[I++]=n+s,h[I++]=e+s,h[I++]=t+s}let R=new p.Z({attributes:i,indices:h,boundingSphere:o.Z.fromVertices(t),primitiveType:T.Z.TRIANGLES});if(r.normal&&(R=y.Z.computeNormal(R)),r.tangent||r.bitangent){try{R=y.Z.computeTangentAndBitangent(R)}catch(t){(0,_.Z)("polyline-volume-tangent-bitangent","Unable to compute tangents and bitangents for polyline volume geometry")}r.tangent||(R.attributes.tangent=void 0),r.bitangent||(R.attributes.bitangent=void 0),r.st||(R.attributes.st=void 0)}return R}(O.Z.computePositions(n,s,u,t,!0),s,u,t._vertexFormat)};const v=P},92069:(t,e,n)=>{n.d(e,{Z:()=>J});var r=n(59015),i=n(93517),o=n(90868),s=n(66866),a=n(4034),c=n(60794),u=n(22874),Z=n(39109),l=n(71118),h=n(5316),f=n(20291),p=n(7004),d=n(53513);const m=[new i.Z,new i.Z],y=new i.Z,g=new i.Z,w=new i.Z,_=new i.Z,b=new i.Z,O=new i.Z,T=new i.Z,E=new i.Z,x=new i.Z,P=new i.Z,S=new i.Z,I={};let A=new s.Z;function R(t,e,n,r){const o=t[0],s=t[1],a=i.Z.angleBetween(o,s),c=Math.ceil(a/r),u=new Array(c);let Z;if(e===n){for(Z=0;Z<c;Z++)u[Z]=e;return u.push(n),u}const l=(n-e)/c;for(Z=1;Z<c;Z++){const t=e+Z*l;u[Z]=t}return u[0]=e,u.push(n),u}const v=new i.Z,M=new i.Z;const N=new i.Z(-1,0,0);let C=new l.Z;const q=new l.Z;let D=new Z.Z;const L=Z.Z.IDENTITY.clone(),B=new i.Z,j=new o.Z,z=new i.Z;function k(t,e,n,o,s,a,u,h){let f=B,d=j;C=p.Z.eastNorthUpToFixedFrame(t,s,C),f=l.Z.multiplyByPointAsVector(C,N,f),f=i.Z.normalize(f,f);const m=function(t,e,n,o){const s=new c.Z(n,o),a=s.projectPointOntoPlane(i.Z.add(n,t,v),v),u=s.projectPointOntoPlane(i.Z.add(n,e,M),M),Z=r.Z.angleBetween(a,u);return u.x*a.y-u.y*a.x>=0?-Z:Z}(f,e,t,s);D=Z.Z.fromRotationZ(m,D),z.z=a,C=l.Z.multiplyTransformation(C,l.Z.fromRotationTranslation(D,z,q),C);const y=L;y[0]=u;for(let t=0;t<h;t++)for(let t=0;t<n.length;t+=3)d=i.Z.fromArray(n,t,d),d=Z.Z.multiplyByVector(y,d,d),d=l.Z.multiplyByPoint(C,d,d),o.push(d.x,d.y,d.z);return o}const U=new i.Z;function H(t,e,n,r,o,s,a){for(let c=0;c<t.length;c+=3){r=k(i.Z.fromArray(t,c,U),e,n,r,o,s[c/3],a,1)}return r}function G(t,e){const n=t.length,r=new Array(3*n);let i=0;const o=e.x+e.width/2,s=e.y+e.height/2;for(let e=0;e<n;e++)r[i++]=t[e].x-o,r[i++]=0,r[i++]=t[e].y-s;return r}const F=new f.Z,V=new i.Z,W=new Z.Z;function Y(t,e,n,r,o,s,c,l,h,p){const d=i.Z.angleBetween(i.Z.subtract(e,t,P),i.Z.subtract(n,t,S)),m=r===a.Z.BEVELED?0:Math.ceil(d/u.Z.toRadians(5));let y,g,w;if(y=o?Z.Z.fromQuaternion(f.Z.fromAxisAngle(i.Z.negate(t,P),d/(m+1),F),W):Z.Z.fromQuaternion(f.Z.fromAxisAngle(t,d/(m+1),F),W),e=i.Z.clone(e,V),m>0){const n=p?2:1;for(let r=0;r<m;r++)e=Z.Z.multiplyByVector(y,e,e),g=i.Z.subtract(e,t,P),g=i.Z.normalize(g,g),o||(g=i.Z.negate(g,g)),w=s.scaleToGeodeticSurface(e,S),c=k(w,g,l,c,s,h,1,n)}else g=i.Z.subtract(e,t,P),g=i.Z.normalize(g,g),o||(g=i.Z.negate(g,g)),w=s.scaleToGeodeticSurface(e,S),c=k(w,g,l,c,s,h,1,1),n=i.Z.clone(n,V),g=i.Z.subtract(n,t,P),g=i.Z.normalize(g,g),o||(g=i.Z.negate(g,g)),w=s.scaleToGeodeticSurface(n,S),c=k(w,g,l,c,s,h,1,1);return c}I.removeDuplicatesFromShape=function(t){const e=t.length,n=[];for(let i=e-1,o=0;o<e;i=o++){const e=t[i],s=t[o];r.Z.equals(e,s)||n.push(s)}return n},I.angleIsGreaterThanPi=function(t,e,n,r){const o=new c.Z(n,r),s=o.projectPointOntoPlane(i.Z.add(n,t,v),v),a=o.projectPointOntoPlane(i.Z.add(n,e,M),M);return a.x*s.y-a.y*s.x>=0};const X=new i.Z,$=new i.Z;I.computePositions=function(t,e,n,r,o){const s=r._ellipsoid,c=function(t,e){const n=new Array(t.length);for(let r=0;r<t.length;r++){const i=t[r];A=e.cartesianToCartographic(i,A),n[r]=A.height,t[r]=e.scaleToGeodeticSurface(i,i)}return n}(t,s),Z=r._granularity,l=r._cornerType,f=o?function(t,e){const n=t.length,r=new Array(6*n);let i=0;const o=e.x+e.width/2,s=e.y+e.height/2;let a=t[0];r[i++]=a.x-o,r[i++]=0,r[i++]=a.y-s;for(let e=1;e<n;e++){a=t[e];const n=a.x-o,c=a.y-s;r[i++]=n,r[i++]=0,r[i++]=c,r[i++]=n,r[i++]=0,r[i++]=c}return a=t[0],r[i++]=a.x-o,r[i++]=0,r[i++]=a.y-s,r}(e,n):G(e,n),p=o?G(e,n):void 0,S=n.height/2,v=n.width/2;let M=t.length,N=[],C=o?[]:void 0,q=y,D=g,L=w,B=_,j=b,z=O,U=T,F=E,V=x,W=t[0],J=t[1];B=s.geodeticSurfaceNormal(W,B),q=i.Z.subtract(J,W,q),q=i.Z.normalize(q,q),F=i.Z.cross(B,q,F),F=i.Z.normalize(F,F);let Q,K,tt=c[0],et=c[1];o&&(C=k(W,F,p,C,s,tt+S,1,1)),V=i.Z.clone(W,V),W=J,D=i.Z.negate(q,D);for(let e=1;e<M-1;e++){const n=o?2:1;if(J=t[e+1],W.equals(J)){(0,d.Z)("Positions are too close and are considered equivalent with rounding error.");continue}q=i.Z.subtract(J,W,q),q=i.Z.normalize(q,q),L=i.Z.add(q,D,L),L=i.Z.normalize(L,L),B=s.geodeticSurfaceNormal(W,B);const r=i.Z.multiplyByScalar(B,i.Z.dot(q,B),X);i.Z.subtract(q,r,r),i.Z.normalize(r,r);const p=i.Z.multiplyByScalar(B,i.Z.dot(D,B),$);i.Z.subtract(D,p,p),i.Z.normalize(p,p);if(!u.Z.equalsEpsilon(Math.abs(i.Z.dot(r,p)),1,u.Z.EPSILON7)){L=i.Z.cross(L,B,L),L=i.Z.cross(B,L,L),L=i.Z.normalize(L,L);const t=1/Math.max(.25,i.Z.magnitude(i.Z.cross(L,D,P))),e=I.angleIsGreaterThanPi(q,D,W,s);e?(j=i.Z.add(W,i.Z.multiplyByScalar(L,t*v,L),j),z=i.Z.add(j,i.Z.multiplyByScalar(F,v,z),z),m[0]=i.Z.clone(V,m[0]),m[1]=i.Z.clone(z,m[1]),Q=R(m,tt+S,et+S,Z),K=h.Z.generateArc({positions:m,granularity:Z,ellipsoid:s}),N=H(K,F,f,N,s,Q,1),F=i.Z.cross(B,q,F),F=i.Z.normalize(F,F),U=i.Z.add(j,i.Z.multiplyByScalar(F,v,U),U),l===a.Z.ROUNDED||l===a.Z.BEVELED?Y(j,z,U,l,e,s,N,f,et+S,o):(L=i.Z.negate(L,L),N=k(W,L,f,N,s,et+S,t,n)),V=i.Z.clone(U,V)):(j=i.Z.add(W,i.Z.multiplyByScalar(L,t*v,L),j),z=i.Z.add(j,i.Z.multiplyByScalar(F,-v,z),z),m[0]=i.Z.clone(V,m[0]),m[1]=i.Z.clone(z,m[1]),Q=R(m,tt+S,et+S,Z),K=h.Z.generateArc({positions:m,granularity:Z,ellipsoid:s}),N=H(K,F,f,N,s,Q,1),F=i.Z.cross(B,q,F),F=i.Z.normalize(F,F),U=i.Z.add(j,i.Z.multiplyByScalar(F,-v,U),U),l===a.Z.ROUNDED||l===a.Z.BEVELED?Y(j,z,U,l,e,s,N,f,et+S,o):N=k(W,L,f,N,s,et+S,t,n),V=i.Z.clone(U,V)),D=i.Z.negate(q,D)}else N=k(V,F,f,N,s,tt+S,1,1),V=W;tt=et,et=c[e+1],W=J}m[0]=i.Z.clone(V,m[0]),m[1]=i.Z.clone(W,m[1]),Q=R(m,tt+S,et+S,Z),K=h.Z.generateArc({positions:m,granularity:Z,ellipsoid:s}),N=H(K,F,f,N,s,Q,1),o&&(C=k(W,F,p,C,s,et+S,1,1)),M=N.length;const nt=o?M+C.length:M,rt=new Float64Array(nt);return rt.set(N),o&&rt.set(C,M),rt};const J=I},8686:(t,e,n)=>{n.d(e,{Z:()=>S});var r=n(55993),i=n(23114),o=n(52351),s=n(59015),a=n(93517),c=n(44990),u=n(4034),Z=n(88779),l=n(54485),h=n(20176),f=n(99996),p=n(97845),d=n(94061),m=n(77683),y=n(39172),g=n(22874),w=n(14777),_=n(92069),b=n(84473),O=n(39892);function T(t){const e=(t=(0,Z.Z)(t,Z.Z.EMPTY_OBJECT)).polylinePositions,n=t.shapePositions;if(!(0,l.Z)(e))throw new h.Z("options.polylinePositions is required.");if(!(0,l.Z)(n))throw new h.Z("options.shapePositions is required.");this._positions=e,this._shape=n,this._ellipsoid=f.Z.clone((0,Z.Z)(t.ellipsoid,f.Z.WGS84)),this._cornerType=(0,Z.Z)(t.cornerType,u.Z.ROUNDED),this._granularity=(0,Z.Z)(t.granularity,g.Z.RADIANS_PER_DEGREE),this._workerName="createPolylineVolumeOutlineGeometry";let r=1+e.length*a.Z.packedLength;r+=1+n.length*s.Z.packedLength,this.packedLength=r+f.Z.packedLength+2}T.pack=function(t,e,n){if(!(0,l.Z)(t))throw new h.Z("value is required");if(!(0,l.Z)(e))throw new h.Z("array is required");let r;n=(0,Z.Z)(n,0);const i=t._positions;let o=i.length;for(e[n++]=o,r=0;r<o;++r,n+=a.Z.packedLength)a.Z.pack(i[r],e,n);const c=t._shape;for(o=c.length,e[n++]=o,r=0;r<o;++r,n+=s.Z.packedLength)s.Z.pack(c[r],e,n);return f.Z.pack(t._ellipsoid,e,n),n+=f.Z.packedLength,e[n++]=t._cornerType,e[n]=t._granularity,e};const E=f.Z.clone(f.Z.UNIT_SPHERE),x={polylinePositions:void 0,shapePositions:void 0,ellipsoid:E,height:void 0,cornerType:void 0,granularity:void 0};T.unpack=function(t,e,n){if(!(0,l.Z)(t))throw new h.Z("array is required");let r;e=(0,Z.Z)(e,0);let i=t[e++];const o=new Array(i);for(r=0;r<i;++r,e+=a.Z.packedLength)o[r]=a.Z.unpack(t,e);i=t[e++];const c=new Array(i);for(r=0;r<i;++r,e+=s.Z.packedLength)c[r]=s.Z.unpack(t,e);const u=f.Z.unpack(t,e,E);e+=f.Z.packedLength;const p=t[e++],d=t[e];return(0,l.Z)(n)?(n._positions=o,n._shape=c,n._ellipsoid=f.Z.clone(u,n._ellipsoid),n._cornerType=p,n._granularity=d,n):(x.polylinePositions=o,x.shapePositions=c,x.cornerType=p,x.granularity=d,new T(x))};const P=new i.Z;T.createGeometry=function(t){const e=t._positions,n=(0,r.Z)(e,a.Z.equalsEpsilon);let s=t._shape;if(s=_.Z.removeDuplicatesFromShape(s),n.length<2||s.length<3)return;w.Z.computeWindingOrder2D(s)===O.Z.CLOCKWISE&&s.reverse();const u=i.Z.fromPoints(s,P);return function(t,e){const n=new m.Z;n.position=new d.Z({componentDatatype:c.Z.DOUBLE,componentsPerAttribute:3,values:t});const r=e.length,i=n.position.values.length/3,s=t.length/3/r,a=y.Z.createTypedArray(i,2*r*(s+1));let u,Z,l=0;u=0;let h=u*r;for(Z=0;Z<r-1;Z++)a[l++]=Z+h,a[l++]=Z+h+1;for(a[l++]=r-1+h,a[l++]=h,u=s-1,h=u*r,Z=0;Z<r-1;Z++)a[l++]=Z+h,a[l++]=Z+h+1;for(a[l++]=r-1+h,a[l++]=h,u=0;u<s-1;u++){const t=r*u,e=t+r;for(Z=0;Z<r;Z++)a[l++]=Z+t,a[l++]=Z+e}return new p.Z({attributes:n,indices:y.Z.createTypedArray(i,a),boundingSphere:o.Z.fromVertices(t),primitiveType:b.Z.LINES})}(_.Z.computePositions(n,s,u,t,!1),s)};const S=T},84473:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(95411);const i={POINTS:r.Z.POINTS,LINES:r.Z.LINES,LINE_LOOP:r.Z.LINE_LOOP,LINE_STRIP:r.Z.LINE_STRIP,TRIANGLES:r.Z.TRIANGLES,TRIANGLE_STRIP:r.Z.TRIANGLE_STRIP,TRIANGLE_FAN:r.Z.TRIANGLE_FAN,isLines:function(t){return t===i.LINES||t===i.LINE_LOOP||t===i.LINE_STRIP},isTriangles:function(t){return t===i.TRIANGLES||t===i.TRIANGLE_STRIP||t===i.TRIANGLE_FAN},validate:function(t){return t===i.POINTS||t===i.LINES||t===i.LINE_LOOP||t===i.LINE_STRIP||t===i.TRIANGLES||t===i.TRIANGLE_STRIP||t===i.TRIANGLE_FAN}},o=Object.freeze(i)},15014:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(20176);function i(){r.Z.throwInstantiationError()}i.prototype.getURL=r.Z.throwInstantiationError;const o=i},39920:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(20176),i=n(22874);const o={};function s(t,e,n){const r=t+e;return i.Z.sign(t)!==i.Z.sign(e)&&Math.abs(r/Math.max(Math.abs(t),Math.abs(e)))<n?0:r}o.computeDiscriminant=function(t,e,n){if("number"!=typeof t)throw new r.Z("a is a required number.");if("number"!=typeof e)throw new r.Z("b is a required number.");if("number"!=typeof n)throw new r.Z("c is a required number.");return e*e-4*t*n},o.computeRealRoots=function(t,e,n){if("number"!=typeof t)throw new r.Z("a is a required number.");if("number"!=typeof e)throw new r.Z("b is a required number.");if("number"!=typeof n)throw new r.Z("c is a required number.");let o;if(0===t)return 0===e?[]:[-n/e];if(0===e){if(0===n)return[0,0];const e=Math.abs(n),r=Math.abs(t);if(e<r&&e/r<i.Z.EPSILON14)return[0,0];if(e>r&&r/e<i.Z.EPSILON14)return[];if(o=-n/t,o<0)return[];const s=Math.sqrt(o);return[-s,s]}if(0===n)return o=-e/t,o<0?[o,0]:[0,o];const a=s(e*e,-(4*t*n),i.Z.EPSILON14);if(a<0)return[];const c=-.5*s(e,i.Z.sign(e)*Math.sqrt(a),i.Z.EPSILON14);return e>0?[c/t,n/c]:[n/c,c/t]};const a=o},25129:(t,e,n)=>{n.d(e,{Z:()=>v});var r=n(52351),i=n(59015),o=n(93517),s=n(17497),a=n(88779),c=n(54485),u=n(20176),Z=n(39172),l=n(80513),h=n(22874),f=n(42428),p=n(7612),d=n(33598),m=n(87569),y=n(54594);function g(t){if(!(0,c.Z)(t)||!(0,c.Z)(t.quantizedVertices))throw new u.Z("options.quantizedVertices is required.");if(!(0,c.Z)(t.indices))throw new u.Z("options.indices is required.");if(!(0,c.Z)(t.minimumHeight))throw new u.Z("options.minimumHeight is required.");if(!(0,c.Z)(t.maximumHeight))throw new u.Z("options.maximumHeight is required.");if(!(0,c.Z)(t.maximumHeight))throw new u.Z("options.maximumHeight is required.");if(!(0,c.Z)(t.boundingSphere))throw new u.Z("options.boundingSphere is required.");if(!(0,c.Z)(t.horizonOcclusionPoint))throw new u.Z("options.horizonOcclusionPoint is required.");if(!(0,c.Z)(t.westIndices))throw new u.Z("options.westIndices is required.");if(!(0,c.Z)(t.southIndices))throw new u.Z("options.southIndices is required.");if(!(0,c.Z)(t.eastIndices))throw new u.Z("options.eastIndices is required.");if(!(0,c.Z)(t.northIndices))throw new u.Z("options.northIndices is required.");if(!(0,c.Z)(t.westSkirtHeight))throw new u.Z("options.westSkirtHeight is required.");if(!(0,c.Z)(t.southSkirtHeight))throw new u.Z("options.southSkirtHeight is required.");if(!(0,c.Z)(t.eastSkirtHeight))throw new u.Z("options.eastSkirtHeight is required.");if(!(0,c.Z)(t.northSkirtHeight))throw new u.Z("options.northSkirtHeight is required.");this._quantizedVertices=t.quantizedVertices,this._encodedNormals=t.encodedNormals,this._indices=t.indices,this._minimumHeight=t.minimumHeight,this._maximumHeight=t.maximumHeight,this._boundingSphere=t.boundingSphere,this._orientedBoundingBox=t.orientedBoundingBox,this._horizonOcclusionPoint=t.horizonOcclusionPoint,this._credits=t.credits;const e=this._quantizedVertices.length/3,n=this._uValues=this._quantizedVertices.subarray(0,e),r=this._vValues=this._quantizedVertices.subarray(e,2*e);function i(t,e){return r[t]-r[e]}function o(t,e){return n[t]-n[e]}this._heightValues=this._quantizedVertices.subarray(2*e,3*e),this._westIndices=_(t.westIndices,i,e),this._southIndices=_(t.southIndices,o,e),this._eastIndices=_(t.eastIndices,i,e),this._northIndices=_(t.northIndices,o,e),this._westSkirtHeight=t.westSkirtHeight,this._southSkirtHeight=t.southSkirtHeight,this._eastSkirtHeight=t.eastSkirtHeight,this._northSkirtHeight=t.northSkirtHeight,this._childTileMask=(0,a.Z)(t.childTileMask,15),this._createdByUpsampling=(0,a.Z)(t.createdByUpsampling,!1),this._waterMask=t.waterMask,this._mesh=void 0}Object.defineProperties(g.prototype,{credits:{get:function(){return this._credits}},waterMask:{get:function(){return this._waterMask}},childTileMask:{get:function(){return this._childTileMask}},canUpsample:{get:function(){return(0,c.Z)(this._mesh)}}});const w=[];function _(t,e,n){w.length=t.length;let r=!1;for(let n=0,i=t.length;n<i;++n)w[n]=t[n],r=r||n>0&&e(t[n-1],t[n])>0;return r?(w.sort(e),Z.Z.createTypedArray(n,w)):t}const b="createVerticesFromQuantizedTerrainMesh",O=new p.Z(b),T=new p.Z(b,d.Z.maximumAsynchronousTasks);g.prototype.createMesh=function(t){t=(0,a.Z)(t,a.Z.EMPTY_OBJECT),s.Z.typeOf.object("options.tilingScheme",t.tilingScheme),s.Z.typeOf.number("options.x",t.x),s.Z.typeOf.number("options.y",t.y),s.Z.typeOf.number("options.level",t.level);const e=t.tilingScheme,n=t.x,r=t.y,i=t.level,u=(0,a.Z)(t.exaggeration,1),l=(0,a.Z)(t.exaggerationRelativeHeight,0),h=(0,a.Z)(t.throttle,!0),f=e.ellipsoid,p=e.tileXYToRectangle(n,r,i),d=(h?T:O).scheduleTask({minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,quantizedVertices:this._quantizedVertices,octEncodedNormals:this._encodedNormals,includeWebMercatorT:!0,indices:this._indices,westIndices:this._westIndices,southIndices:this._southIndices,eastIndices:this._eastIndices,northIndices:this._northIndices,westSkirtHeight:this._westSkirtHeight,southSkirtHeight:this._southSkirtHeight,eastSkirtHeight:this._eastSkirtHeight,northSkirtHeight:this._northSkirtHeight,rectangle:p,relativeToCenter:this._boundingSphere.center,ellipsoid:f,exaggeration:u,exaggerationRelativeHeight:l});if(!(0,c.Z)(d))return;const g=this;return Promise.resolve(d).then((function(t){const e=g._quantizedVertices.length/3,n=e+g._westIndices.length+g._southIndices.length+g._eastIndices.length+g._northIndices.length,r=Z.Z.createTypedArray(n,t.indices),i=new Float32Array(t.vertices),s=t.center,c=t.minimumHeight,u=t.maximumHeight,l=g._boundingSphere,h=g._orientedBoundingBox,f=(0,a.Z)(o.Z.clone(t.occludeePointInScaledSpace),g._horizonOcclusionPoint),p=t.vertexStride,d=m.Z.clone(t.encoding);return g._mesh=new y.Z(s,i,r,t.indexCountWithoutSkirts,e,c,u,l,f,p,h,d,t.westIndicesSouthToNorth,t.southIndicesEastToWest,t.eastIndicesNorthToSouth,t.northIndicesWestToEast),g._quantizedVertices=void 0,g._encodedNormals=void 0,g._indices=void 0,g._uValues=void 0,g._vValues=void 0,g._heightValues=void 0,g._westIndices=void 0,g._southIndices=void 0,g._eastIndices=void 0,g._northIndices=void 0,g._mesh}))};const E=new p.Z("upsampleQuantizedTerrainMesh",d.Z.maximumAsynchronousTasks);g.prototype.upsample=function(t,e,n,i,s,a,l){if(!(0,c.Z)(t))throw new u.Z("tilingScheme is required.");if(!(0,c.Z)(e))throw new u.Z("thisX is required.");if(!(0,c.Z)(n))throw new u.Z("thisY is required.");if(!(0,c.Z)(i))throw new u.Z("thisLevel is required.");if(!(0,c.Z)(s))throw new u.Z("descendantX is required.");if(!(0,c.Z)(a))throw new u.Z("descendantY is required.");if(!(0,c.Z)(l))throw new u.Z("descendantLevel is required.");if(l-i>1)throw new u.Z("Upsampling through more than one level at a time is not currently supported.");const h=this._mesh;if(!(0,c.Z)(this._mesh))return;const p=2*e!==s,d=2*n===a,m=t.ellipsoid,y=t.tileXYToRectangle(s,a,l),w=E.scheduleTask({vertices:h.vertices,vertexCountWithoutSkirts:h.vertexCountWithoutSkirts,indices:h.indices,indexCountWithoutSkirts:h.indexCountWithoutSkirts,encoding:h.encoding,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,isEastChild:p,isNorthChild:d,childRectangle:y,ellipsoid:m});if(!(0,c.Z)(w))return;let _=Math.min(this._westSkirtHeight,this._eastSkirtHeight);_=Math.min(_,this._southSkirtHeight),_=Math.min(_,this._northSkirtHeight);const b=p?.5*_:this._westSkirtHeight,O=d?.5*_:this._southSkirtHeight,T=p?this._eastSkirtHeight:.5*_,x=d?this._northSkirtHeight:.5*_,P=this._credits;return Promise.resolve(w).then((function(t){const e=new Uint16Array(t.vertices),n=Z.Z.createTypedArray(e.length/3,t.indices);let i;return(0,c.Z)(t.encodedNormals)&&(i=new Uint8Array(t.encodedNormals)),new g({quantizedVertices:e,indices:n,encodedNormals:i,minimumHeight:t.minimumHeight,maximumHeight:t.maximumHeight,boundingSphere:r.Z.clone(t.boundingSphere),orientedBoundingBox:f.Z.clone(t.orientedBoundingBox),horizonOcclusionPoint:o.Z.clone(t.horizonOcclusionPoint),westIndices:t.westIndices,southIndices:t.southIndices,eastIndices:t.eastIndices,northIndices:t.northIndices,westSkirtHeight:b,southSkirtHeight:O,eastSkirtHeight:T,northSkirtHeight:x,childTileMask:0,credits:P,createdByUpsampling:!0})}))};const x=32767,P=new o.Z;function S(t,e,n,r,i,o,s,a){const c=Math.min(n,i,s),u=Math.max(n,i,s),Z=Math.min(r,o,a),l=Math.max(r,o,a);return t>=c&&t<=u&&e>=Z&&e<=l}g.prototype.interpolateHeight=function(t,e,n){let r=h.Z.clamp((e-t.west)/t.width,0,1);r*=x;let i=h.Z.clamp((n-t.south)/t.height,0,1);return i*=x,(0,c.Z)(this._mesh)?function(t,e,n){const r=t._mesh,i=r.vertices,o=r.encoding,s=r.indices;for(let t=0,r=s.length;t<r;t+=3){const r=s[t],a=s[t+1],c=s[t+2],u=o.decodeTextureCoordinates(i,r,I),Z=o.decodeTextureCoordinates(i,a,A),h=o.decodeTextureCoordinates(i,c,R);if(S(e,n,u.x,u.y,Z.x,Z.y,h.x,h.y)){const t=l.Z.computeBarycentricCoordinates(e,n,u.x,u.y,Z.x,Z.y,h.x,h.y,P);if(t.x>=-1e-15&&t.y>=-1e-15&&t.z>=-1e-15){const e=o.decodeHeight(i,r),n=o.decodeHeight(i,a),s=o.decodeHeight(i,c);return t.x*e+t.y*n+t.z*s}}}return}(this,r,i):function(t,e,n){const r=t._uValues,i=t._vValues,o=t._heightValues,s=t._indices;for(let a=0,c=s.length;a<c;a+=3){const c=s[a],u=s[a+1],Z=s[a+2],f=r[c],p=r[u],d=r[Z],m=i[c],y=i[u],g=i[Z];if(S(e,n,f,m,p,y,d,g)){const r=l.Z.computeBarycentricCoordinates(e,n,f,m,p,y,d,g,P);if(r.x>=-1e-15&&r.y>=-1e-15&&r.z>=-1e-15){const e=r.x*o[c]+r.y*o[u]+r.z*o[Z];return h.Z.lerp(t._minimumHeight,t._maximumHeight,e/x)}}}return}(this,r,i)};const I=new i.Z,A=new i.Z,R=new i.Z;g.prototype.isChildAvailable=function(t,e,n,r){if(!(0,c.Z)(t))throw new u.Z("thisX is required.");if(!(0,c.Z)(e))throw new u.Z("thisY is required.");if(!(0,c.Z)(n))throw new u.Z("childX is required.");if(!(0,c.Z)(r))throw new u.Z("childY is required.");let i=2;return n!==2*t&&++i,r!==2*e&&(i-=2),0!=(this._childTileMask&1<<i)},g.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling};const v=g},19454:(t,e,n)=>{n.d(e,{Z:()=>Z});var r=n(89054),i=n(20176),o=n(22874),s=n(39920);const a={};function c(t,e,n,i){const a=t*t,c=e-3*a/8,u=n-e*t/2+a*t/8,Z=i-n*t/4+e*a/16-3*a*a/256,l=r.Z.computeRealRoots(1,2*c,c*c-4*Z,-u*u);if(l.length>0){const e=-t/4,n=l[l.length-1];if(Math.abs(n)<o.Z.EPSILON14){const t=s.Z.computeRealRoots(1,c,Z);if(2===t.length){const n=t[0],r=t[1];let i;if(n>=0&&r>=0){const t=Math.sqrt(n),i=Math.sqrt(r);return[e-i,e-t,e+t,e+i]}if(n>=0&&r<0)return i=Math.sqrt(n),[e-i,e+i];if(n<0&&r>=0)return i=Math.sqrt(r),[e-i,e+i]}return[]}if(n>0){const t=Math.sqrt(n),r=(c+n-u/t)/2,i=(c+n+u/t)/2,o=s.Z.computeRealRoots(1,t,r),a=s.Z.computeRealRoots(1,-t,i);return 0!==o.length?(o[0]+=e,o[1]+=e,0!==a.length?(a[0]+=e,a[1]+=e,o[1]<=a[0]?[o[0],o[1],a[0],a[1]]:a[1]<=o[0]?[a[0],a[1],o[0],o[1]]:o[0]>=a[0]&&o[1]<=a[1]?[a[0],o[0],o[1],a[1]]:a[0]>=o[0]&&a[1]<=o[1]?[o[0],a[0],a[1],o[1]]:o[0]>a[0]&&o[0]<a[1]?[a[0],o[0],a[1],o[1]]:[o[0],a[0],o[1],a[1]]):o):0!==a.length?(a[0]+=e,a[1]+=e,a):[]}}return[]}function u(t,e,n,i){const a=t*t,c=-2*e,u=n*t+e*e-4*i,Z=a*i-n*e*t+n*n,l=r.Z.computeRealRoots(1,c,u,Z);if(l.length>0){const r=l[0],c=e-r,u=c*c,Z=t/2,h=c/2,f=u-4*i,p=u+4*Math.abs(i),d=a-4*r,m=a+4*Math.abs(r);let y,g,w,_,b,O;if(r<0||f*m<d*p){const e=Math.sqrt(d);y=e/2,g=0===e?0:(t*h-n)/e}else{const e=Math.sqrt(f);y=0===e?0:(t*h-n)/e,g=e/2}0===Z&&0===y?(w=0,_=0):o.Z.sign(Z)===o.Z.sign(y)?(w=Z+y,_=r/w):(_=Z-y,w=r/_),0===h&&0===g?(b=0,O=0):o.Z.sign(h)===o.Z.sign(g)?(b=h+g,O=i/b):(O=h-g,b=i/O);const T=s.Z.computeRealRoots(1,w,b),E=s.Z.computeRealRoots(1,_,O);if(0!==T.length)return 0!==E.length?T[1]<=E[0]?[T[0],T[1],E[0],E[1]]:E[1]<=T[0]?[E[0],E[1],T[0],T[1]]:T[0]>=E[0]&&T[1]<=E[1]?[E[0],T[0],T[1],E[1]]:E[0]>=T[0]&&E[1]<=T[1]?[T[0],E[0],E[1],T[1]]:T[0]>E[0]&&T[0]<E[1]?[E[0],T[0],E[1],T[1]]:[T[0],E[0],T[1],E[1]]:T;if(0!==E.length)return E}return[]}a.computeDiscriminant=function(t,e,n,r,o){if("number"!=typeof t)throw new i.Z("a is a required number.");if("number"!=typeof e)throw new i.Z("b is a required number.");if("number"!=typeof n)throw new i.Z("c is a required number.");if("number"!=typeof r)throw new i.Z("d is a required number.");if("number"!=typeof o)throw new i.Z("e is a required number.");const s=t*t,a=e*e,c=a*e,u=n*n,Z=u*n,l=r*r,h=l*r,f=o*o;return a*u*l-4*c*h-4*t*Z*l+18*t*e*n*h-27*s*l*l+256*(s*t)*(f*o)+o*(18*c*n*r-4*a*Z+16*t*u*u-80*t*e*u*r-6*t*a*l+144*s*n*l)+f*(144*t*a*n-27*a*a-128*s*u-192*s*e*r)},a.computeRealRoots=function(t,e,n,s,a){if("number"!=typeof t)throw new i.Z("a is a required number.");if("number"!=typeof e)throw new i.Z("b is a required number.");if("number"!=typeof n)throw new i.Z("c is a required number.");if("number"!=typeof s)throw new i.Z("d is a required number.");if("number"!=typeof a)throw new i.Z("e is a required number.");if(Math.abs(t)<o.Z.EPSILON15)return r.Z.computeRealRoots(e,n,s,a);const Z=e/t,l=n/t,h=s/t,f=a/t;let p=Z<0?1:0;switch(p+=l<0?p+1:p,p+=h<0?p+1:p,p+=f<0?p+1:p,p){case 0:case 3:case 4:case 6:case 7:case 9:case 10:case 12:case 13:case 14:case 15:return c(Z,l,h,f);case 1:case 2:case 5:case 8:case 11:return u(Z,l,h,f);default:return}};const Z=a},20291:(t,e,n)=>{n.d(e,{Z:()=>L});var r=n(93517),i=n(17497),o=n(88779),s=n(54485),a=n(74834),c=n(22874),u=n(39109);function Z(t,e,n,r){this.x=(0,o.Z)(t,0),this.y=(0,o.Z)(e,0),this.z=(0,o.Z)(n,0),this.w=(0,o.Z)(r,0)}let l=new r.Z;Z.fromAxisAngle=function(t,e,n){i.Z.typeOf.object("axis",t),i.Z.typeOf.number("angle",e);const o=e/2,a=Math.sin(o);l=r.Z.normalize(t,l);const c=l.x*a,u=l.y*a,h=l.z*a,f=Math.cos(o);return(0,s.Z)(n)?(n.x=c,n.y=u,n.z=h,n.w=f,n):new Z(c,u,h,f)};const h=[1,2,0],f=new Array(3);Z.fromRotationMatrix=function(t,e){let n,r,o,a,c;i.Z.typeOf.object("matrix",t);const l=t[u.Z.COLUMN0ROW0],p=t[u.Z.COLUMN1ROW1],d=t[u.Z.COLUMN2ROW2],m=l+p+d;if(m>0)n=Math.sqrt(m+1),c=.5*n,n=.5/n,r=(t[u.Z.COLUMN1ROW2]-t[u.Z.COLUMN2ROW1])*n,o=(t[u.Z.COLUMN2ROW0]-t[u.Z.COLUMN0ROW2])*n,a=(t[u.Z.COLUMN0ROW1]-t[u.Z.COLUMN1ROW0])*n;else{const e=h;let i=0;p>l&&(i=1),d>l&&d>p&&(i=2);const s=e[i],Z=e[s];n=Math.sqrt(t[u.Z.getElementIndex(i,i)]-t[u.Z.getElementIndex(s,s)]-t[u.Z.getElementIndex(Z,Z)]+1);const m=f;m[i]=.5*n,n=.5/n,c=(t[u.Z.getElementIndex(Z,s)]-t[u.Z.getElementIndex(s,Z)])*n,m[s]=(t[u.Z.getElementIndex(s,i)]+t[u.Z.getElementIndex(i,s)])*n,m[Z]=(t[u.Z.getElementIndex(Z,i)]+t[u.Z.getElementIndex(i,Z)])*n,r=-m[0],o=-m[1],a=-m[2]}return(0,s.Z)(e)?(e.x=r,e.y=o,e.z=a,e.w=c,e):new Z(r,o,a,c)};const p=new Z;let d=new Z,m=new Z,y=new Z;Z.fromHeadingPitchRoll=function(t,e){return i.Z.typeOf.object("headingPitchRoll",t),y=Z.fromAxisAngle(r.Z.UNIT_X,t.roll,p),m=Z.fromAxisAngle(r.Z.UNIT_Y,-t.pitch,e),e=Z.multiply(m,y,m),d=Z.fromAxisAngle(r.Z.UNIT_Z,-t.heading,p),Z.multiply(d,e,e)};const g=new r.Z,w=new r.Z,_=new Z,b=new Z,O=new Z;Z.packedLength=4,Z.pack=function(t,e,n){return i.Z.typeOf.object("value",t),i.Z.defined("array",e),n=(0,o.Z)(n,0),e[n++]=t.x,e[n++]=t.y,e[n++]=t.z,e[n]=t.w,e},Z.unpack=function(t,e,n){return i.Z.defined("array",t),e=(0,o.Z)(e,0),(0,s.Z)(n)||(n=new Z),n.x=t[e],n.y=t[e+1],n.z=t[e+2],n.w=t[e+3],n},Z.packedInterpolationLength=3,Z.convertPackedArrayForInterpolation=function(t,e,n,r){Z.unpack(t,4*n,O),Z.conjugate(O,O);for(let i=0,o=n-e+1;i<o;i++){const n=3*i;Z.unpack(t,4*(e+i),_),Z.multiply(_,O,_),_.w<0&&Z.negate(_,_),Z.computeAxis(_,g);const o=Z.computeAngle(_);(0,s.Z)(r)||(r=[]),r[n]=g.x*o,r[n+1]=g.y*o,r[n+2]=g.z*o}},Z.unpackInterpolationResult=function(t,e,n,i,o){(0,s.Z)(o)||(o=new Z),r.Z.fromArray(t,0,w);const a=r.Z.magnitude(w);return Z.unpack(e,4*i,b),0===a?Z.clone(Z.IDENTITY,_):Z.fromAxisAngle(w,a,_),Z.multiply(_,b,o)},Z.clone=function(t,e){if((0,s.Z)(t))return(0,s.Z)(e)?(e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e):new Z(t.x,t.y,t.z,t.w)},Z.conjugate=function(t,e){return i.Z.typeOf.object("quaternion",t),i.Z.typeOf.object("result",e),e.x=-t.x,e.y=-t.y,e.z=-t.z,e.w=t.w,e},Z.magnitudeSquared=function(t){return i.Z.typeOf.object("quaternion",t),t.x*t.x+t.y*t.y+t.z*t.z+t.w*t.w},Z.magnitude=function(t){return Math.sqrt(Z.magnitudeSquared(t))},Z.normalize=function(t,e){i.Z.typeOf.object("result",e);const n=1/Z.magnitude(t),r=t.x*n,o=t.y*n,s=t.z*n,a=t.w*n;return e.x=r,e.y=o,e.z=s,e.w=a,e},Z.inverse=function(t,e){i.Z.typeOf.object("result",e);const n=Z.magnitudeSquared(t);return e=Z.conjugate(t,e),Z.multiplyByScalar(e,1/n,e)},Z.add=function(t,e,n){return i.Z.typeOf.object("left",t),i.Z.typeOf.object("right",e),i.Z.typeOf.object("result",n),n.x=t.x+e.x,n.y=t.y+e.y,n.z=t.z+e.z,n.w=t.w+e.w,n},Z.subtract=function(t,e,n){return i.Z.typeOf.object("left",t),i.Z.typeOf.object("right",e),i.Z.typeOf.object("result",n),n.x=t.x-e.x,n.y=t.y-e.y,n.z=t.z-e.z,n.w=t.w-e.w,n},Z.negate=function(t,e){return i.Z.typeOf.object("quaternion",t),i.Z.typeOf.object("result",e),e.x=-t.x,e.y=-t.y,e.z=-t.z,e.w=-t.w,e},Z.dot=function(t,e){return i.Z.typeOf.object("left",t),i.Z.typeOf.object("right",e),t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w},Z.multiply=function(t,e,n){i.Z.typeOf.object("left",t),i.Z.typeOf.object("right",e),i.Z.typeOf.object("result",n);const r=t.x,o=t.y,s=t.z,a=t.w,c=e.x,u=e.y,Z=e.z,l=e.w,h=a*c+r*l+o*Z-s*u,f=a*u-r*Z+o*l+s*c,p=a*Z+r*u-o*c+s*l,d=a*l-r*c-o*u-s*Z;return n.x=h,n.y=f,n.z=p,n.w=d,n},Z.multiplyByScalar=function(t,e,n){return i.Z.typeOf.object("quaternion",t),i.Z.typeOf.number("scalar",e),i.Z.typeOf.object("result",n),n.x=t.x*e,n.y=t.y*e,n.z=t.z*e,n.w=t.w*e,n},Z.divideByScalar=function(t,e,n){return i.Z.typeOf.object("quaternion",t),i.Z.typeOf.number("scalar",e),i.Z.typeOf.object("result",n),n.x=t.x/e,n.y=t.y/e,n.z=t.z/e,n.w=t.w/e,n},Z.computeAxis=function(t,e){i.Z.typeOf.object("quaternion",t),i.Z.typeOf.object("result",e);const n=t.w;if(Math.abs(n-1)<c.Z.EPSILON6)return e.x=e.y=e.z=0,e;const r=1/Math.sqrt(1-n*n);return e.x=t.x*r,e.y=t.y*r,e.z=t.z*r,e},Z.computeAngle=function(t){return i.Z.typeOf.object("quaternion",t),Math.abs(t.w-1)<c.Z.EPSILON6?0:2*Math.acos(t.w)};let T=new Z;Z.lerp=function(t,e,n,r){return i.Z.typeOf.object("start",t),i.Z.typeOf.object("end",e),i.Z.typeOf.number("t",n),i.Z.typeOf.object("result",r),T=Z.multiplyByScalar(e,n,T),r=Z.multiplyByScalar(t,1-n,r),Z.add(T,r,r)};let E=new Z,x=new Z,P=new Z;Z.slerp=function(t,e,n,r){i.Z.typeOf.object("start",t),i.Z.typeOf.object("end",e),i.Z.typeOf.number("t",n),i.Z.typeOf.object("result",r);let o=Z.dot(t,e),s=e;if(o<0&&(o=-o,s=E=Z.negate(e,E)),1-o<c.Z.EPSILON6)return Z.lerp(t,s,n,r);const a=Math.acos(o);return x=Z.multiplyByScalar(t,Math.sin((1-n)*a),x),P=Z.multiplyByScalar(s,Math.sin(n*a),P),r=Z.add(x,P,r),Z.multiplyByScalar(r,1/Math.sin(a),r)},Z.log=function(t,e){i.Z.typeOf.object("quaternion",t),i.Z.typeOf.object("result",e);const n=c.Z.acosClamped(t.w);let o=0;return 0!==n&&(o=n/Math.sin(n)),r.Z.multiplyByScalar(t,o,e)},Z.exp=function(t,e){i.Z.typeOf.object("cartesian",t),i.Z.typeOf.object("result",e);const n=r.Z.magnitude(t);let o=0;return 0!==n&&(o=Math.sin(n)/n),e.x=t.x*o,e.y=t.y*o,e.z=t.z*o,e.w=Math.cos(n),e};const S=new r.Z,I=new r.Z,A=new Z,R=new Z;Z.computeInnerQuadrangle=function(t,e,n,o){i.Z.typeOf.object("q0",t),i.Z.typeOf.object("q1",e),i.Z.typeOf.object("q2",n),i.Z.typeOf.object("result",o);const s=Z.conjugate(e,A);Z.multiply(s,n,R);const a=Z.log(R,S);Z.multiply(s,t,R);const c=Z.log(R,I);return r.Z.add(a,c,a),r.Z.multiplyByScalar(a,.25,a),r.Z.negate(a,a),Z.exp(a,A),Z.multiply(e,A,o)},Z.squad=function(t,e,n,r,o,s){i.Z.typeOf.object("q0",t),i.Z.typeOf.object("q1",e),i.Z.typeOf.object("s0",n),i.Z.typeOf.object("s1",r),i.Z.typeOf.number("t",o),i.Z.typeOf.object("result",s);const a=Z.slerp(t,e,o,A),c=Z.slerp(n,r,o,R);return Z.slerp(a,c,2*o*(1-o),s)};const v=new Z,M=1.9011074535173003,N=a.Z.supportsTypedArrays()?new Float32Array(8):[],C=a.Z.supportsTypedArrays()?new Float32Array(8):[],q=a.Z.supportsTypedArrays()?new Float32Array(8):[],D=a.Z.supportsTypedArrays()?new Float32Array(8):[];for(let t=0;t<7;++t){const e=t+1,n=2*e+1;N[t]=1/(e*n),C[t]=e/n}N[7]=M/136,C[7]=8*M/17,Z.fastSlerp=function(t,e,n,r){i.Z.typeOf.object("start",t),i.Z.typeOf.object("end",e),i.Z.typeOf.number("t",n),i.Z.typeOf.object("result",r);let o,s=Z.dot(t,e);s>=0?o=1:(o=-1,s=-s);const a=s-1,c=1-n,u=n*n,l=c*c;for(let t=7;t>=0;--t)q[t]=(N[t]*u-C[t])*a,D[t]=(N[t]*l-C[t])*a;const h=o*n*(1+q[0]*(1+q[1]*(1+q[2]*(1+q[3]*(1+q[4]*(1+q[5]*(1+q[6]*(1+q[7])))))))),f=c*(1+D[0]*(1+D[1]*(1+D[2]*(1+D[3]*(1+D[4]*(1+D[5]*(1+D[6]*(1+D[7])))))))),p=Z.multiplyByScalar(t,f,v);return Z.multiplyByScalar(e,h,r),Z.add(p,r,r)},Z.fastSquad=function(t,e,n,r,o,s){i.Z.typeOf.object("q0",t),i.Z.typeOf.object("q1",e),i.Z.typeOf.object("s0",n),i.Z.typeOf.object("s1",r),i.Z.typeOf.number("t",o),i.Z.typeOf.object("result",s);const a=Z.fastSlerp(t,e,o,A),c=Z.fastSlerp(n,r,o,R);return Z.fastSlerp(a,c,2*o*(1-o),s)},Z.equals=function(t,e){return t===e||(0,s.Z)(t)&&(0,s.Z)(e)&&t.x===e.x&&t.y===e.y&&t.z===e.z&&t.w===e.w},Z.equalsEpsilon=function(t,e,n){return n=(0,o.Z)(n,0),t===e||(0,s.Z)(t)&&(0,s.Z)(e)&&Math.abs(t.x-e.x)<=n&&Math.abs(t.y-e.y)<=n&&Math.abs(t.z-e.z)<=n&&Math.abs(t.w-e.w)<=n},Z.ZERO=Object.freeze(new Z(0,0,0,0)),Z.IDENTITY=Object.freeze(new Z(0,0,0,1)),Z.prototype.clone=function(t){return Z.clone(this,t)},Z.prototype.equals=function(t){return Z.equals(this,t)},Z.prototype.equalsEpsilon=function(t,e){return Z.equalsEpsilon(this,t,e)},Z.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`};const L=Z},49273:(t,e,n)=>{n.d(e,{Z:()=>u});var r=n(88779),i=n(54485),o=n(20176),s=n(20291),a=n(69070);function c(t){const e=(t=(0,r.Z)(t,r.Z.EMPTY_OBJECT)).points,n=t.times;if(!(0,i.Z)(e)||!(0,i.Z)(n))throw new o.Z("points and times are required.");if(e.length<2)throw new o.Z("points.length must be greater than or equal to 2.");if(n.length!==e.length)throw new o.Z("times.length must be equal to points.length.");this._times=n,this._points=e,this._evaluateFunction=function(t){const e=t.points,n=t.times;return function(r,o){(0,i.Z)(o)||(o=new s.Z);const a=t._lastTimeIndex=t.findTimeInterval(r,t._lastTimeIndex),c=(r-n[a])/(n[a+1]-n[a]),u=e[a],Z=e[a+1];return s.Z.fastSlerp(u,Z,c,o)}}(this),this._lastTimeIndex=0}Object.defineProperties(c.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}}}),c.prototype.findTimeInterval=a.Z.prototype.findTimeInterval,c.prototype.wrapTime=a.Z.prototype.wrapTime,c.prototype.clampTime=a.Z.prototype.clampTime,c.prototype.evaluate=function(t,e){return this._evaluateFunction(t,e)};const u=c},47594:(t,e,n)=>{function r(){this._array=[],this._offset=0,this._length=0}n.d(e,{Z:()=>i}),Object.defineProperties(r.prototype,{length:{get:function(){return this._length}}}),r.prototype.enqueue=function(t){this._array.push(t),this._length++},r.prototype.dequeue=function(){if(0===this._length)return;const t=this._array;let e=this._offset;const n=t[e];return t[e]=void 0,e++,e>10&&2*e>t.length&&(this._array=t.slice(e),e=0),this._offset=e,this._length--,n},r.prototype.peek=function(){if(0!==this._length)return this._array[this._offset]},r.prototype.contains=function(t){return-1!==this._array.indexOf(t)},r.prototype.clear=function(){this._array.length=this._offset=this._length=0},r.prototype.sort=function(t){this._offset>0&&(this._array=this._array.slice(this._offset),this._offset=0),this._array.sort(t)};const i=r}}]);