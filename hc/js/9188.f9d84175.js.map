{"version":3,"file":"js/9188.f9d84175.js","mappings":"2MAQA,MAAMA,GAAOC,EAAAA,EAAAA,IAAO,MAAPA,EAAc,EAAGC,YAAH,CACzBC,OAAQ,OACRC,MAAO,OACPC,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZC,WAAY,qCACZ,gBAAiB,CACfJ,MAAO,IACPD,OAAQ,IACRM,OAAQ,iBACRC,aAAc,MACdF,WAAY,OACZH,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZI,cAAe,SACf,gBAAiB,CACfC,OAAQ,eAKRC,GAAQZ,EAAAA,EAAAA,IAAOa,EAAAA,EAAPb,EAAkB,EAAGC,YAAH,CAC9B,UAAW,CACTC,OAAQ,OACRC,MAAO,QACPW,SAAU,OACVC,QAAS,kBAIPC,GAAahB,EAAAA,EAAAA,IAAOiB,EAAAA,EAAPjB,EAAe,EAAGC,YAAH,CAChCC,OAAQ,OACRC,MAAO,QACPW,SAAU,WAuFZ,QApFA,WACE,MAAOI,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClCG,EAASC,IAAcJ,EAAAA,EAAAA,UAAS,IAEjCK,GAAWC,EAAAA,EAAAA,MAEXC,EAAS,CAACC,EAAKC,KACP,YAARA,EACFV,EAAYS,EAAIE,OAAOC,OACN,YAARF,GACTP,EAAYM,EAAIE,OAAOC,QAIrBC,EAAQ,KACZ,IAAIC,EAAW,CACbf,WACAG,aAEFa,EAAAA,EAAAA,IAAQ,uBAAwBD,GAC7BE,MAAMC,IAEL,GAAiB,IAAbA,EAAIC,KAAY,CAClB,IAAI,KAAEC,GAASF,EACfG,aAAaC,QAAQ,QAASF,EAAKG,OACnCF,aAAaC,QAAQ,WAAY,IAAeF,EAAKI,OACrDjB,EAAS,SAGZkB,OAAOC,SA0BZ,OATAC,EAAAA,EAAAA,YAAU,KACRC,OAAOC,QAAWC,IAEE,KAAdA,EAAEC,SACJjB,OAGH,IAGD,gBAACjC,EAAD,KACE,uBAAKmD,UAAU,cACb,uBAAKA,UAAU,cACb,gBAACtC,EAAD,CACEiB,KAAK,OACLsB,YAAY,uCACZpB,MAAOb,EACPkC,SAAWJ,GAAMrB,EAAOqB,EAAG,eAG/B,uBAAKE,UAAU,cACb,gBAACtC,EAAD,CACEiB,KAAK,WACLsB,YAAY,iCACZpB,MAAOV,EACP+B,SAAWJ,GAAMrB,EAAOqB,EAAG,eAG/B,uBAAKE,UAAU,cACb,gBAAClC,EAAD,CAAYqC,QAAQ,YAAYC,QAAStB,GAAzC","sources":["webpack:///./views/login/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n// import { useHistory} from \"react-router-dom\"\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport { styled } from \"@mui/material/styles\";\r\nimport { Button, TextField } from \"@mui/material\";\r\nimport { myAxios, postReq } from \"~/utils/axios\";\r\n\r\nconst Pane = styled(\"div\")(({ theme }) => ({\r\n  height: \"100%\",\r\n  width: \"100%\",\r\n  display: \"flex\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\",\r\n  background: \"url(/static/images/login-back.jpg)\",\r\n  \"& .login-pane\": {\r\n    width: 400,\r\n    height: 300,\r\n    border: \"2px solid #fff\",\r\n    borderRadius: \"5px\",\r\n    background: \"#fff\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n    \"& .input-pane\": {\r\n      margin: \"10px 0\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst Input = styled(TextField)(({ theme }) => ({\r\n  \"& input\": {\r\n    height: \"30px\",\r\n    width: \"300px\",\r\n    fontSize: \"15px\",\r\n    padding: \"7.5px 10px\",\r\n  },\r\n}));\r\n\r\nconst SelfButton = styled(Button)(({ theme }) => ({\r\n  height: \"40px\",\r\n  width: \"320px\",\r\n  fontSize: \"18px\",\r\n}));\r\n\r\nfunction Login() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [codeImg, setCodeImg] = useState(\"\");\r\n  // let history=useHistory()\r\n  const navigate = useNavigate();\r\n\r\n  const getVal = (obj, type) => {\r\n    if (type == \"username\") {\r\n      setUsername(obj.target.value);\r\n    } else if (type == \"password\") {\r\n      setPassword(obj.target.value);\r\n    }\r\n  };\r\n\r\n  const login = () => {\r\n    let formData = {\r\n      username,\r\n      password,\r\n    };\r\n    postReq(\"editor/hcUsers/login\", formData)\r\n      .then((res) => {\r\n        console.log(res);\r\n        if (res.code === 0) {\r\n          let { data } = res;\r\n          localStorage.setItem(\"token\", data.token);\r\n          localStorage.setItem(\"userInfo\", JSON.stringify(data.user));\r\n          navigate(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  // const getCaptcha = () => {\r\n  //   // let formData = {}\r\n  //   myAxios.post('/base/captcha').then(res => {\r\n  //     console.log(res)\r\n  //     if (res.code === 0) {\r\n  //       setCodeImg(res.data.picPath)\r\n  //     }\r\n  //   }).catch(err => {\r\n  //     console.log(err)\r\n  //   });\r\n  // };\r\n\r\n  useEffect(() => {\r\n    window.onkeyup = (e) => {\r\n      // console.log(e);\r\n      if (e.keyCode === 13) {\r\n        login();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Pane>\r\n      <div className=\"login-pane\">\r\n        <div className=\"input-pane\">\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"请输入用户名\"\r\n            value={username}\r\n            onChange={(e) => getVal(e, \"username\")}\r\n          ></Input>\r\n        </div>\r\n        <div className=\"input-pane\">\r\n          <Input\r\n            type=\"password\"\r\n            placeholder=\"请输入密码\"\r\n            value={password}\r\n            onChange={(e) => getVal(e, \"password\")}\r\n          ></Input>\r\n        </div>\r\n        <div className=\"input-pane\">\r\n          <SelfButton variant=\"contained\" onClick={login}>\r\n            登录\r\n          </SelfButton>\r\n        </div>\r\n      </div>\r\n    </Pane>\r\n  );\r\n}\r\nexport default Login;\r\n"],"names":["Pane","styled","theme","height","width","display","justifyContent","alignItems","background","border","borderRadius","flexDirection","margin","Input","TextField","fontSize","padding","SelfButton","Button","username","setUsername","useState","password","setPassword","codeImg","setCodeImg","navigate","useNavigate","getVal","obj","type","target","value","login","formData","postReq","then","res","code","data","localStorage","setItem","token","user","catch","err","useEffect","window","onkeyup","e","keyCode","className","placeholder","onChange","variant","onClick"],"sourceRoot":""}