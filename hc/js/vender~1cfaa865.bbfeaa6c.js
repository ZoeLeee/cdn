"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5933],{53188:(t,e,i)=>{i.d(e,{Z:()=>c});var o=i(88779),n=i(54485),s=i(20176),r=i(92893),a=i(37105);function l(t){this._definitionChanged=new r.Z,this._show=void 0,this._showSubscription=void 0,this._image=void 0,this._imageSubscription=void 0,this._scale=void 0,this._scaleSubscription=void 0,this._pixelOffset=void 0,this._pixelOffsetSubscription=void 0,this._eyeOffset=void 0,this._eyeOffsetSubscription=void 0,this._horizontalOrigin=void 0,this._horizontalOriginSubscription=void 0,this._verticalOrigin=void 0,this._verticalOriginSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._color=void 0,this._colorSubscription=void 0,this._rotation=void 0,this._rotationSubscription=void 0,this._alignedAxis=void 0,this._alignedAxisSubscription=void 0,this._sizeInMeters=void 0,this._sizeInMetersSubscription=void 0,this._width=void 0,this._widthSubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._scaleByDistance=void 0,this._scaleByDistanceSubscription=void 0,this._translucencyByDistance=void 0,this._translucencyByDistanceSubscription=void 0,this._pixelOffsetScaleByDistance=void 0,this._pixelOffsetScaleByDistanceSubscription=void 0,this._imageSubRegion=void 0,this._imageSubRegionSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._disableDepthTestDistance=void 0,this._disableDepthTestDistanceSubscription=void 0,this.merge((0,o.Z)(t,o.Z.EMPTY_OBJECT))}Object.defineProperties(l.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:(0,a.Z)("show"),image:(0,a.Z)("image"),scale:(0,a.Z)("scale"),pixelOffset:(0,a.Z)("pixelOffset"),eyeOffset:(0,a.Z)("eyeOffset"),horizontalOrigin:(0,a.Z)("horizontalOrigin"),verticalOrigin:(0,a.Z)("verticalOrigin"),heightReference:(0,a.Z)("heightReference"),color:(0,a.Z)("color"),rotation:(0,a.Z)("rotation"),alignedAxis:(0,a.Z)("alignedAxis"),sizeInMeters:(0,a.Z)("sizeInMeters"),width:(0,a.Z)("width"),height:(0,a.Z)("height"),scaleByDistance:(0,a.Z)("scaleByDistance"),translucencyByDistance:(0,a.Z)("translucencyByDistance"),pixelOffsetScaleByDistance:(0,a.Z)("pixelOffsetScaleByDistance"),imageSubRegion:(0,a.Z)("imageSubRegion"),distanceDisplayCondition:(0,a.Z)("distanceDisplayCondition"),disableDepthTestDistance:(0,a.Z)("disableDepthTestDistance")}),l.prototype.clone=function(t){return(0,n.Z)(t)?(t.show=this._show,t.image=this._image,t.scale=this._scale,t.pixelOffset=this._pixelOffset,t.eyeOffset=this._eyeOffset,t.horizontalOrigin=this._horizontalOrigin,t.verticalOrigin=this._verticalOrigin,t.heightReference=this._heightReference,t.color=this._color,t.rotation=this._rotation,t.alignedAxis=this._alignedAxis,t.sizeInMeters=this._sizeInMeters,t.width=this._width,t.height=this._height,t.scaleByDistance=this._scaleByDistance,t.translucencyByDistance=this._translucencyByDistance,t.pixelOffsetScaleByDistance=this._pixelOffsetScaleByDistance,t.imageSubRegion=this._imageSubRegion,t.distanceDisplayCondition=this._distanceDisplayCondition,t.disableDepthTestDistance=this._disableDepthTestDistance,t):new l(this)},l.prototype.merge=function(t){if(!(0,n.Z)(t))throw new s.Z("source is required.");this.show=(0,o.Z)(this._show,t.show),this.image=(0,o.Z)(this._image,t.image),this.scale=(0,o.Z)(this._scale,t.scale),this.pixelOffset=(0,o.Z)(this._pixelOffset,t.pixelOffset),this.eyeOffset=(0,o.Z)(this._eyeOffset,t.eyeOffset),this.horizontalOrigin=(0,o.Z)(this._horizontalOrigin,t.horizontalOrigin),this.verticalOrigin=(0,o.Z)(this._verticalOrigin,t.verticalOrigin),this.heightReference=(0,o.Z)(this._heightReference,t.heightReference),this.color=(0,o.Z)(this._color,t.color),this.rotation=(0,o.Z)(this._rotation,t.rotation),this.alignedAxis=(0,o.Z)(this._alignedAxis,t.alignedAxis),this.sizeInMeters=(0,o.Z)(this._sizeInMeters,t.sizeInMeters),this.width=(0,o.Z)(this._width,t.width),this.height=(0,o.Z)(this._height,t.height),this.scaleByDistance=(0,o.Z)(this._scaleByDistance,t.scaleByDistance),this.translucencyByDistance=(0,o.Z)(this._translucencyByDistance,t.translucencyByDistance),this.pixelOffsetScaleByDistance=(0,o.Z)(this._pixelOffsetScaleByDistance,t.pixelOffsetScaleByDistance),this.imageSubRegion=(0,o.Z)(this._imageSubRegion,t.imageSubRegion),this.distanceDisplayCondition=(0,o.Z)(this._distanceDisplayCondition,t.distanceDisplayCondition),this.disableDepthTestDistance=(0,o.Z)(this._disableDepthTestDistance,t.disableDepthTestDistance)};const c=l},38942:(t,e,i)=>{i.d(e,{Z:()=>L});var o=i(28474),n=i(23114),s=i(59015),r=i(93517),a=i(6785),l=i(54485),c=i(90332),h=i(20176),d=i(51178),u=i(14633),p=i(16272),Z=i(72293),f=i(49824),_=i(87546),m=i(19157);const g=a.Z.WHITE,y=r.Z.ZERO,v=p.Z.NONE,w=s.Z.ZERO,C=r.Z.ZERO,b=Z.Z.CENTER,O=f.Z.CENTER,D=new r.Z,S=new a.Z,P=new r.Z,E=new s.Z,x=new u.Z,R=new u.Z,I=new u.Z,M=new n.Z,V=new d.Z;function T(t){this.entity=t,this.billboard=void 0,this.textureValue=void 0}function A(t,e){if(!(0,l.Z)(t))throw new h.Z("entityCluster is required.");if(!(0,l.Z)(e))throw new h.Z("entityCollection is required.");e.collectionChanged.addEventListener(A.prototype._onCollectionChanged,this),this._cluster=t,this._entityCollection=e,this._items=new o.Z,this._onCollectionChanged(e,e.values,[],[])}function N(t,e,i){(0,l.Z)(t)&&(t.billboard=void 0,i.removeBillboard(e))}A.prototype.update=function(t){if(!(0,l.Z)(t))throw new h.Z("time is required.");const e=this._items.values,i=this._cluster;for(let o=0,n=e.length;o<n;o++){const n=e[o],s=n.entity,r=s._billboard;let a,c,h=n.billboard,d=s.isShowing&&s.isAvailable(t)&&m.Z.getValueOrDefault(r._show,t,!0);if(d&&(c=m.Z.getValueOrUndefined(s._position,t,D),a=m.Z.getValueOrUndefined(r._image,t),d=(0,l.Z)(c)&&(0,l.Z)(a)),!d){N(n,s,i);continue}m.Z.isConstant(s._position)||(i._clusterDirty=!0),(0,l.Z)(h)||(h=i.getBillboard(s),h.id=s,h.image=void 0,n.billboard=h),h.show=d,(0,l.Z)(h.image)&&n.textureValue===a||(h.image=a,n.textureValue=a),h.position=c,h.color=m.Z.getValueOrDefault(r._color,t,g,S),h.eyeOffset=m.Z.getValueOrDefault(r._eyeOffset,t,y,P),h.heightReference=m.Z.getValueOrDefault(r._heightReference,t,v),h.pixelOffset=m.Z.getValueOrDefault(r._pixelOffset,t,w,E),h.scale=m.Z.getValueOrDefault(r._scale,t,1),h.rotation=m.Z.getValueOrDefault(r._rotation,t,0),h.alignedAxis=m.Z.getValueOrDefault(r._alignedAxis,t,C),h.horizontalOrigin=m.Z.getValueOrDefault(r._horizontalOrigin,t,b),h.verticalOrigin=m.Z.getValueOrDefault(r._verticalOrigin,t,O),h.width=m.Z.getValueOrUndefined(r._width,t),h.height=m.Z.getValueOrUndefined(r._height,t),h.scaleByDistance=m.Z.getValueOrUndefined(r._scaleByDistance,t,x),h.translucencyByDistance=m.Z.getValueOrUndefined(r._translucencyByDistance,t,R),h.pixelOffsetScaleByDistance=m.Z.getValueOrUndefined(r._pixelOffsetScaleByDistance,t,I),h.sizeInMeters=m.Z.getValueOrDefault(r._sizeInMeters,t,false),h.distanceDisplayCondition=m.Z.getValueOrUndefined(r._distanceDisplayCondition,t,V),h.disableDepthTestDistance=m.Z.getValueOrUndefined(r._disableDepthTestDistance,t);const u=m.Z.getValueOrUndefined(r._imageSubRegion,t,M);(0,l.Z)(u)&&h.setImageSubRegion(h._imageId,u)}return!0},A.prototype.getBoundingSphere=function(t,e){if(!(0,l.Z)(t))throw new h.Z("entity is required.");if(!(0,l.Z)(e))throw new h.Z("result is required.");const i=this._items.get(t.id);if(!(0,l.Z)(i)||!(0,l.Z)(i.billboard))return _.Z.FAILED;const o=i.billboard;if(o.heightReference===p.Z.NONE)e.center=r.Z.clone(o.position,e.center);else{if(!(0,l.Z)(o._clampedPosition))return _.Z.PENDING;e.center=r.Z.clone(o._clampedPosition,e.center)}return e.radius=0,_.Z.DONE},A.prototype.isDestroyed=function(){return!1},A.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(A.prototype._onCollectionChanged,this);const t=this._entityCollection.values;for(let e=0;e<t.length;e++)this._cluster.removeBillboard(t[e]);return(0,c.Z)(this)},A.prototype._onCollectionChanged=function(t,e,i,o){let n,s;const r=this._items,a=this._cluster;for(n=e.length-1;n>-1;n--)s=e[n],(0,l.Z)(s._billboard)&&(0,l.Z)(s._position)&&r.set(s.id,new T(s));for(n=o.length-1;n>-1;n--)s=o[n],(0,l.Z)(s._billboard)&&(0,l.Z)(s._position)?r.contains(s.id)||r.set(s.id,new T(s)):(N(r.get(s.id),s,a),r.remove(s.id));for(n=i.length-1;n>-1;n--)s=i[n],N(r.get(s.id),s,a),r.remove(s.id)};const L=A},87546:(t,e,i)=>{i.d(e,{Z:()=>o});const o=Object.freeze({DONE:0,PENDING:1,FAILED:2})},74510:(t,e,i)=>{i.d(e,{Z:()=>M});var o=i(33365),n=i(66522),s=i(93517),r=i(17497),a=i(6785),l=i(41631),c=i(54485),h=i(20176),d=i(64493),u=i(78224),p=i(97029),Z=i(18926),f=i(6206),_=i(9008),m=i(16272),g=i(41656),y=i(73020),v=i(3334),w=i(58034),C=i(31969),b=i(88163),O=i(19157);const D=s.Z.ZERO,S=new s.Z,P=new s.Z,E=new a.Z;function x(t){this.id=t,this.vertexFormat=void 0,this.dimensions=void 0,this.offsetAttribute=void 0}function R(t,e){C.Z.call(this,{entity:t,scene:e,geometryOptions:new x(t),geometryPropertyName:"box",observedPropertyNames:["availability","position","orientation","box"]}),this._onEntityPropertyChanged(t,"box",t.box,void 0)}function I(t,e,i){w.Z.call(this,t,e,i)}(0,c.Z)(Object.create)&&(R.prototype=Object.create(C.Z.prototype),R.prototype.constructor=R),Object.defineProperties(R.prototype,{terrainOffsetProperty:{get:function(){return this._terrainOffsetProperty}}}),R.prototype.createFillGeometryInstance=function(t){if(r.Z.defined("time",t),!this._fillEnabled)throw new h.Z("This instance does not represent a filled geometry.");const e=this._entity,i=e.isAvailable(t),n=new _.Z(i&&e.isShowing&&this._showProperty.getValue(t)&&this._fillProperty.getValue(t)),s=this._distanceDisplayConditionProperty.getValue(t),p={show:n,distanceDisplayCondition:d.Z.fromDistanceDisplayCondition(s),color:void 0,offset:void 0};if(this._materialProperty instanceof v.Z){let e;(0,c.Z)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||i)&&(e=this._materialProperty.color.getValue(t,E)),(0,c.Z)(e)||(e=a.Z.WHITE),p.color=l.Z.fromColor(e)}return(0,c.Z)(this._options.offsetAttribute)&&(p.offset=f.Z.fromCartesian3(O.Z.getValueOrDefault(this._terrainOffsetProperty,t,D,S))),new u.Z({id:e,geometry:o.Z.fromDimensions(this._options),modelMatrix:e.computeModelMatrixForHeightReference(t,e.box.heightReference,.5*this._options.dimensions.z,this._scene.mapProjection.ellipsoid),attributes:p})},R.prototype.createOutlineGeometryInstance=function(t){if(r.Z.defined("time",t),!this._outlineEnabled)throw new h.Z("This instance does not represent an outlined geometry.");const e=this._entity,i=e.isAvailable(t),o=O.Z.getValueOrDefault(this._outlineColorProperty,t,a.Z.BLACK,E),s=this._distanceDisplayConditionProperty.getValue(t),p={show:new _.Z(i&&e.isShowing&&this._showProperty.getValue(t)&&this._showOutlineProperty.getValue(t)),color:l.Z.fromColor(o),distanceDisplayCondition:d.Z.fromDistanceDisplayCondition(s),offset:void 0};return(0,c.Z)(this._options.offsetAttribute)&&(p.offset=f.Z.fromCartesian3(O.Z.getValueOrDefault(this._terrainOffsetProperty,t,D,S))),new u.Z({id:e,geometry:n.Z.fromDimensions(this._options),modelMatrix:e.computeModelMatrixForHeightReference(t,e.box.heightReference,.5*this._options.dimensions.z,this._scene.mapProjection.ellipsoid),attributes:p})},R.prototype._computeCenter=function(t,e){return O.Z.getValueOrUndefined(this._entity.position,t,e)},R.prototype._isHidden=function(t,e){return!(0,c.Z)(e.dimensions)||!(0,c.Z)(t.position)||C.Z.prototype._isHidden.call(this,t,e)},R.prototype._isDynamic=function(t,e){return!(t.position.isConstant&&O.Z.isConstant(t.orientation)&&e.dimensions.isConstant&&O.Z.isConstant(e.outlineWidth))},R.prototype._setStaticOptions=function(t,e){const i=O.Z.getValueOrDefault(e.heightReference,Z.Z.MINIMUM_VALUE,m.Z.NONE),o=this._options;o.vertexFormat=this._materialProperty instanceof v.Z?y.Z.VERTEX_FORMAT:g.Z.MaterialSupport.TEXTURED.vertexFormat,o.dimensions=e.dimensions.getValue(Z.Z.MINIMUM_VALUE,o.dimensions),o.offsetAttribute=i!==m.Z.NONE?p.Z.ALL:void 0},R.prototype._onEntityPropertyChanged=b.Z,R.DynamicGeometryUpdater=I,(0,c.Z)(Object.create)&&(I.prototype=Object.create(w.Z.prototype),I.prototype.constructor=I),I.prototype._isHidden=function(t,e,i){const o=O.Z.getValueOrUndefined(t.position,i,P),n=this._options.dimensions;return!(0,c.Z)(o)||!(0,c.Z)(n)||w.Z.prototype._isHidden.call(this,t,e,i)},I.prototype._setOptions=function(t,e,i){const o=O.Z.getValueOrDefault(e.heightReference,i,m.Z.NONE),n=this._options;n.dimensions=O.Z.getValueOrUndefined(e.dimensions,i,n.dimensions),n.offsetAttribute=o!==m.Z.NONE?p.Z.ALL:void 0};const M=R},25780:(t,e,i)=>{i.d(e,{Z:()=>h});var o=i(88779),n=i(54485),s=i(20176),r=i(92893),a=i(78731),l=i(37105);function c(t){this._definitionChanged=new r.Z,this._show=void 0,this._showSubscription=void 0,this._dimensions=void 0,this._dimensionsSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this.merge((0,o.Z)(t,o.Z.EMPTY_OBJECT))}Object.defineProperties(c.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:(0,l.Z)("show"),dimensions:(0,l.Z)("dimensions"),heightReference:(0,l.Z)("heightReference"),fill:(0,l.Z)("fill"),material:(0,a.Z)("material"),outline:(0,l.Z)("outline"),outlineColor:(0,l.Z)("outlineColor"),outlineWidth:(0,l.Z)("outlineWidth"),shadows:(0,l.Z)("shadows"),distanceDisplayCondition:(0,l.Z)("distanceDisplayCondition")}),c.prototype.clone=function(t){return(0,n.Z)(t)?(t.show=this.show,t.dimensions=this.dimensions,t.heightReference=this.heightReference,t.fill=this.fill,t.material=this.material,t.outline=this.outline,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t):new c(this)},c.prototype.merge=function(t){if(!(0,n.Z)(t))throw new s.Z("source is required.");this.show=(0,o.Z)(this.show,t.show),this.dimensions=(0,o.Z)(this.dimensions,t.dimensions),this.heightReference=(0,o.Z)(this.heightReference,t.heightReference),this.fill=(0,o.Z)(this.fill,t.fill),this.material=(0,o.Z)(this.material,t.material),this.outline=(0,o.Z)(this.outline,t.outline),this.outlineColor=(0,o.Z)(this.outlineColor,t.outlineColor),this.outlineWidth=(0,o.Z)(this.outlineWidth,t.outlineWidth),this.shadows=(0,o.Z)(this.shadows,t.shadows),this.distanceDisplayCondition=(0,o.Z)(this.distanceDisplayCondition,t.distanceDisplayCondition)};const h=c},9088:(t,e,i)=>{i.d(e,{Z:()=>a});var o=i(54485),n=i(20176),s=i(92893);function r(t,e){this._callback=void 0,this._isConstant=void 0,this._definitionChanged=new s.Z,this.setCallback(t,e)}Object.defineProperties(r.prototype,{isConstant:{get:function(){return this._isConstant}},definitionChanged:{get:function(){return this._definitionChanged}}}),r.prototype.getValue=function(t,e){return this._callback(t,e)},r.prototype.setCallback=function(t,e){if(!(0,o.Z)(t))throw new n.Z("callback is required.");if(!(0,o.Z)(e))throw new n.Z("isConstant is required.");const i=this._callback!==t||this._isConstant!==e;this._callback=t,this._isConstant=e,i&&this._definitionChanged.raiseEvent(this)},r.prototype.equals=function(t){return this===t||t instanceof r&&this._callback===t._callback&&this._isConstant===t._isConstant};const a=r},92251:(t,e,i)=>{i.d(e,{Z:()=>c});var o=i(88779),n=i(54485),s=i(20176),r=i(92893),a=i(37105);function l(t){this._definitionChanged=new r.Z,this._show=void 0,this._showSubscription=void 0,this._uri=void 0,this._uriSubscription=void 0,this._maximumScreenSpaceError=void 0,this._maximumScreenSpaceErrorSubscription=void 0,this.merge((0,o.Z)(t,o.Z.EMPTY_OBJECT))}Object.defineProperties(l.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:(0,a.Z)("show"),uri:(0,a.Z)("uri"),maximumScreenSpaceError:(0,a.Z)("maximumScreenSpaceError")}),l.prototype.clone=function(t){return(0,n.Z)(t)?(t.show=this.show,t.uri=this.uri,t.maximumScreenSpaceError=this.maximumScreenSpaceError,t):new l(this)},l.prototype.merge=function(t){if(!(0,n.Z)(t))throw new s.Z("source is required.");this.show=(0,o.Z)(this.show,t.show),this.uri=(0,o.Z)(this.uri,t.uri),this.maximumScreenSpaceError=(0,o.Z)(this.maximumScreenSpaceError,t.maximumScreenSpaceError)};const c=l},57843:(t,e,i)=>{i.d(e,{Z:()=>m});var o=i(28474),n=i(52351),s=i(54485),r=i(90332),a=i(20176),l=i(71118),c=i(67197),h=i(66207),d=i(87546),u=i(19157);const p=new l.Z;function Z(t,e){if(!(0,s.Z)(t))throw new a.Z("scene is required.");if(!(0,s.Z)(e))throw new a.Z("entityCollection is required.");e.collectionChanged.addEventListener(Z.prototype._onCollectionChanged,this),this._scene=t,this._primitives=t.primitives,this._entityCollection=e,this._tilesetHash={},this._entitiesToVisualize=new o.Z,this._onCollectionChanged(e,e.values,[],[])}function f(t,e,i,o){const n=i[e.id];(0,s.Z)(n)&&(o.removeAndDestroy(n.tilesetPrimitive),delete i[e.id])}function _(t,e,i){t.readyPromise.catch((function(t){i[e.id].loadFail=!0}))}Z.prototype.update=function(t){if(!(0,s.Z)(t))throw new a.Z("time is required.");const e=this._entitiesToVisualize.values,i=this._tilesetHash,o=this._primitives;for(let n=0,r=e.length;n<r;n++){const r=e[n],a=r._tileset;let l,d=i[r.id];const Z=r.isShowing&&r.isAvailable(t)&&u.Z.getValueOrDefault(a._show,t,!0);let f;if(Z&&(f=r.computeModelMatrix(t,p),l=c.Z.createIfNeeded(u.Z.getValueOrUndefined(a._uri,t))),!Z){(0,s.Z)(d)&&(d.tilesetPrimitive.show=!1);continue}let m=(0,s.Z)(d)?d.tilesetPrimitive:void 0;(0,s.Z)(m)&&l.url===d.url||((0,s.Z)(m)&&(o.removeAndDestroy(m),delete i[r.id]),m=new h.Z({url:l}),m.id=r,o.add(m),d={tilesetPrimitive:m,url:l.url,loadFail:!1},i[r.id]=d,_(m,r,i)),m.show=!0,(0,s.Z)(f)&&(m.modelMatrix=f),m.maximumScreenSpaceError=u.Z.getValueOrDefault(a.maximumScreenSpaceError,t,m.maximumScreenSpaceError)}return!0},Z.prototype.isDestroyed=function(){return!1},Z.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(Z.prototype._onCollectionChanged,this);const t=this._entitiesToVisualize.values,e=this._tilesetHash,i=this._primitives;for(let o=t.length-1;o>-1;o--)f(this,t[o],e,i);return(0,r.Z)(this)},Z.prototype.getBoundingSphere=function(t,e){if(!(0,s.Z)(t))throw new a.Z("entity is required.");if(!(0,s.Z)(e))throw new a.Z("result is required.");const i=this._tilesetHash[t.id];if(!(0,s.Z)(i)||i.loadFail)return d.Z.FAILED;const o=i.tilesetPrimitive;return(0,s.Z)(o)&&o.show?o.ready?(n.Z.clone(o.boundingSphere,e),d.Z.DONE):d.Z.PENDING:d.Z.FAILED},Z.prototype._onCollectionChanged=function(t,e,i,o){let n,r;const a=this._entitiesToVisualize,l=this._tilesetHash,c=this._primitives;for(n=e.length-1;n>-1;n--)r=e[n],(0,s.Z)(r._tileset)&&a.set(r.id,r);for(n=o.length-1;n>-1;n--)r=o[n],(0,s.Z)(r._tileset)?a.set(r.id,r):(f(this,r,l,c),a.remove(r.id));for(n=i.length-1;n>-1;n--)r=i[n],f(this,r,l,c),a.remove(r.id)};const m=Z},75655:(t,e,i)=>{i.d(e,{Z:()=>Z});var o=i(59015),n=i(6785),s=i(88779),r=i(54485),a=i(92893),l=i(37105),c=i(19157);const h=n.Z.WHITE,d=n.Z.BLACK,u=new o.Z(2,2);function p(t){t=(0,s.Z)(t,s.Z.EMPTY_OBJECT),this._definitionChanged=new a.Z,this._evenColor=void 0,this._evenColorSubscription=void 0,this._oddColor=void 0,this._oddColorSubscription=void 0,this._repeat=void 0,this._repeatSubscription=void 0,this.evenColor=t.evenColor,this.oddColor=t.oddColor,this.repeat=t.repeat}Object.defineProperties(p.prototype,{isConstant:{get:function(){return c.Z.isConstant(this._evenColor)&&c.Z.isConstant(this._oddColor)&&c.Z.isConstant(this._repeat)}},definitionChanged:{get:function(){return this._definitionChanged}},evenColor:(0,l.Z)("evenColor"),oddColor:(0,l.Z)("oddColor"),repeat:(0,l.Z)("repeat")}),p.prototype.getType=function(t){return"Checkerboard"},p.prototype.getValue=function(t,e){return(0,r.Z)(e)||(e={}),e.lightColor=c.Z.getValueOrClonedDefault(this._evenColor,t,h,e.lightColor),e.darkColor=c.Z.getValueOrClonedDefault(this._oddColor,t,d,e.darkColor),e.repeat=c.Z.getValueOrDefault(this._repeat,t,u),e},p.prototype.equals=function(t){return this===t||t instanceof p&&c.Z.equals(this._evenColor,t._evenColor)&&c.Z.equals(this._oddColor,t._oddColor)&&c.Z.equals(this._repeat,t._repeat)};const Z=p},3334:(t,e,i)=>{i.d(e,{Z:()=>c});var o=i(6785),n=i(54485),s=i(92893),r=i(37105),a=i(19157);function l(t){this._definitionChanged=new s.Z,this._color=void 0,this._colorSubscription=void 0,this.color=t}Object.defineProperties(l.prototype,{isConstant:{get:function(){return a.Z.isConstant(this._color)}},definitionChanged:{get:function(){return this._definitionChanged}},color:(0,r.Z)("color")}),l.prototype.getType=function(t){return"Color"},l.prototype.getValue=function(t,e){return(0,n.Z)(e)||(e={}),e.color=a.Z.getValueOrClonedDefault(this._color,t,o.Z.WHITE,e.color),e},l.prototype.equals=function(t){return this===t||t instanceof l&&a.Z.equals(this._color,t._color)};const c=l},96663:(t,e,i)=>{i.d(e,{Z:()=>g});var o=i(93737),n=i(54485),s=i(20176),r=i(22874),a=i(34063),l=i(58585);const c={id:void 0},h=new Array(2);function d(t){const e=t.propertyNames,i=e.length;for(let o=0;o<i;o++)t[e[o]]=void 0;t._name=void 0,t._availability=void 0}function u(t,e,i,o){h[0]=i,h[1]=o.id,e[JSON.stringify(h)]=o.definitionChanged.addEventListener(f.prototype._onDefinitionChanged,t)}function p(t,e,i,o){h[0]=i,h[1]=o.id;const n=JSON.stringify(h);e[n](),e[n]=void 0}function Z(t){if(t._shouldRecomposite=!0,0!==t._suspendCount)return;const e=t._collections,i=e.length,o=t._collectionsCopy,s=o.length;let r,h,Z,_,m;const g=t._composite,y=new l.Z(t),v=t._eventHash;let w;for(r=0;r<s;r++)for(m=o[r],m.collectionChanged.removeEventListener(f.prototype._onCollectionChanged,t),Z=m.values,w=m.id,_=Z.length-1;_>-1;_--)h=Z[_],p(0,v,w,h);for(r=i-1;r>=0;r--)for(m=e[r],m.collectionChanged.addEventListener(f.prototype._onCollectionChanged,t),Z=m.values,w=m.id,_=Z.length-1;_>-1;_--){h=Z[_],u(t,v,w,h);let e=y.getById(h.id);(0,n.Z)(e)||(e=g.getById(h.id),(0,n.Z)(e)?d(e):(c.id=h.id,e=new a.Z(c)),y.add(e)),e.merge(h)}t._collectionsCopy=e.slice(0),g.suspendEvents(),g.removeAll();const C=y.values;for(r=0;r<C.length;r++)g.add(C[r]);g.resumeEvents()}function f(t,e){this._owner=e,this._composite=new l.Z(this),this._suspendCount=0,this._collections=(0,n.Z)(t)?t.slice():[],this._collectionsCopy=[],this._id=(0,o.Z)(),this._eventHash={},Z(this),this._shouldRecomposite=!1}function _(t,e){if(!(0,n.Z)(e))throw new s.Z("collection is required.");const i=t.indexOf(e);if(-1===i)throw new s.Z("collection is not in this composite.");return i}function m(t,e,i){const o=t._collections;if((e=r.Z.clamp(e,0,o.length-1))===(i=r.Z.clamp(i,0,o.length-1)))return;const n=o[e];o[e]=o[i],o[i]=n,Z(t)}Object.defineProperties(f.prototype,{collectionChanged:{get:function(){return this._composite._collectionChanged}},id:{get:function(){return this._id}},values:{get:function(){return this._composite.values}},owner:{get:function(){return this._owner}}}),f.prototype.addCollection=function(t,e){const i=(0,n.Z)(e);if(!(0,n.Z)(t))throw new s.Z("collection is required.");if(i){if(e<0)throw new s.Z("index must be greater than or equal to zero.");if(e>this._collections.length)throw new s.Z("index must be less than or equal to the number of collections.")}i?this._collections.splice(e,0,t):(e=this._collections.length,this._collections.push(t)),Z(this)},f.prototype.removeCollection=function(t){const e=this._collections.indexOf(t);return-1!==e&&(this._collections.splice(e,1),Z(this),!0)},f.prototype.removeAllCollections=function(){this._collections.length=0,Z(this)},f.prototype.containsCollection=function(t){return-1!==this._collections.indexOf(t)},f.prototype.contains=function(t){return this._composite.contains(t)},f.prototype.indexOfCollection=function(t){return this._collections.indexOf(t)},f.prototype.getCollection=function(t){if(!(0,n.Z)(t))throw new s.Z("index is required.","index");return this._collections[t]},f.prototype.getCollectionsLength=function(){return this._collections.length},f.prototype.raiseCollection=function(t){const e=_(this._collections,t);m(this,e,e+1)},f.prototype.lowerCollection=function(t){const e=_(this._collections,t);m(this,e,e-1)},f.prototype.raiseCollectionToTop=function(t){const e=_(this._collections,t);e!==this._collections.length-1&&(this._collections.splice(e,1),this._collections.push(t),Z(this))},f.prototype.lowerCollectionToBottom=function(t){const e=_(this._collections,t);0!==e&&(this._collections.splice(e,1),this._collections.splice(0,0,t),Z(this))},f.prototype.suspendEvents=function(){this._suspendCount++,this._composite.suspendEvents()},f.prototype.resumeEvents=function(){if(0===this._suspendCount)throw new s.Z("resumeEvents can not be called before suspendEvents.");this._suspendCount--,this._shouldRecomposite&&0===this._suspendCount&&(Z(this),this._shouldRecomposite=!1),this._composite.resumeEvents()},f.prototype.computeAvailability=function(){return this._composite.computeAvailability()},f.prototype.getById=function(t){return this._composite.getById(t)},f.prototype._onCollectionChanged=function(t,e,i){const o=this._collectionsCopy,s=o.length,r=this._composite;let l,h,Z,f;r.suspendEvents();const _=i.length,m=this._eventHash,g=t.id;for(l=0;l<_;l++){const t=i[l];p(0,m,g,t);const e=t.id;for(h=s-1;h>=0;h--)Z=o[h].getById(e),(0,n.Z)(Z)&&((0,n.Z)(f)||(f=r.getById(e),d(f)),f.merge(Z));(0,n.Z)(f)||r.removeById(e),f=void 0}const y=e.length;for(l=0;l<y;l++){const t=e[l];u(this,m,g,t);const i=t.id;for(h=s-1;h>=0;h--)Z=o[h].getById(i),(0,n.Z)(Z)&&((0,n.Z)(f)||(f=r.getById(i),(0,n.Z)(f)?d(f):(c.id=i,f=new a.Z(c),r.add(f))),f.merge(Z));f=void 0}r.resumeEvents()},f.prototype._onDefinitionChanged=function(t,e,i,o){const s=this._collections,r=this._composite,a=s.length,l=t.id,c=r.getById(l);let h=c[e];const d=!(0,n.Z)(h);let u=!0;for(let i=a-1;i>=0;i--){const o=s[i].getById(t.id);if((0,n.Z)(o)){const t=o[e];if((0,n.Z)(t)){if(u){if(u=!1,!(0,n.Z)(t.merge)||!(0,n.Z)(t.clone)){h=t;break}h=t.clone(h)}h.merge(t)}}}d&&-1===c.propertyNames.indexOf(e)&&c.addProperty(e),c[e]=h};const g=f},15841:(t,e,i)=>{i.d(e,{Z:()=>c});var o=i(54485),n=i(20176),s=i(92893),r=i(46538),a=i(19157);function l(){this._definitionChanged=new s.Z,this._composite=new r.Z,this._composite.definitionChanged.addEventListener(l.prototype._raiseDefinitionChanged,this)}Object.defineProperties(l.prototype,{isConstant:{get:function(){return this._composite.isConstant}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._composite._intervals}}}),l.prototype.getType=function(t){if(!(0,o.Z)(t))throw new n.Z("time is required");const e=this._composite._intervals.findDataForIntervalContainingDate(t);if((0,o.Z)(e))return e.getType(t)},l.prototype.getValue=function(t,e){if(!(0,o.Z)(t))throw new n.Z("time is required");const i=this._composite._intervals.findDataForIntervalContainingDate(t);if((0,o.Z)(i))return i.getValue(t,e)},l.prototype.equals=function(t){return this===t||t instanceof l&&this._composite.equals(t._composite,a.Z.equals)},l.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)};const c=l},36655:(t,e,i)=>{i.d(e,{Z:()=>d});var o=i(88779),n=i(54485),s=i(20176),r=i(92893),a=i(31163),l=i(46538),c=i(19157);function h(t){this._referenceFrame=(0,o.Z)(t,a.Z.FIXED),this._definitionChanged=new r.Z,this._composite=new l.Z,this._composite.definitionChanged.addEventListener(h.prototype._raiseDefinitionChanged,this)}Object.defineProperties(h.prototype,{isConstant:{get:function(){return this._composite.isConstant}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._composite.intervals}},referenceFrame:{get:function(){return this._referenceFrame},set:function(t){this._referenceFrame=t}}}),h.prototype.getValue=function(t,e){return this.getValueInReferenceFrame(t,a.Z.FIXED,e)},h.prototype.getValueInReferenceFrame=function(t,e,i){if(!(0,n.Z)(t))throw new s.Z("time is required.");if(!(0,n.Z)(e))throw new s.Z("referenceFrame is required.");const o=this._composite._intervals.findDataForIntervalContainingDate(t);if((0,n.Z)(o))return o.getValueInReferenceFrame(t,e,i)},h.prototype.equals=function(t){return this===t||t instanceof h&&this._referenceFrame===t._referenceFrame&&this._composite.equals(t._composite,c.Z.equals)},h.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)};const d=h},46538:(t,e,i)=>{i.d(e,{Z:()=>h});var o=i(54485),n=i(20176),s=i(92893),r=i(18091),a=i(99842),l=i(19157);function c(){this._eventHelper=new r.Z,this._definitionChanged=new s.Z,this._intervals=new a.Z,this._intervals.changedEvent.addEventListener(c.prototype._intervalsChanged,this)}Object.defineProperties(c.prototype,{isConstant:{get:function(){return this._intervals.isEmpty}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._intervals}}}),c.prototype.getValue=function(t,e){if(!(0,o.Z)(t))throw new n.Z("time is required");const i=this._intervals.findDataForIntervalContainingDate(t);if((0,o.Z)(i))return i.getValue(t,e)},c.prototype.equals=function(t){return this===t||t instanceof c&&this._intervals.equals(t._intervals,l.Z.equals)},c.prototype._intervalsChanged=function(){!function(t,e,i,n){function s(){i.raiseEvent(t)}const r=[];e.removeAll();const a=n.length;for(let t=0;t<a;t++){const i=n.get(t);(0,o.Z)(i.data)&&-1===r.indexOf(i.data)&&e.add(i.data.definitionChanged,s)}}(this,this._eventHelper,this._definitionChanged,this._intervals),this._definitionChanged.raiseEvent(this)};const h=c},30032:(t,e,i)=>{i.d(e,{Z:()=>d});var o=i(93517),n=i(88779),s=i(54485),r=i(20176),a=i(92893),l=i(31163),c=i(79285);function h(t,e){this._definitionChanged=new a.Z,this._value=o.Z.clone(t),this._referenceFrame=(0,n.Z)(e,l.Z.FIXED)}Object.defineProperties(h.prototype,{isConstant:{get:function(){return!(0,s.Z)(this._value)||this._referenceFrame===l.Z.FIXED}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}}}),h.prototype.getValue=function(t,e){return this.getValueInReferenceFrame(t,l.Z.FIXED,e)},h.prototype.setValue=function(t,e){let i=!1;o.Z.equals(this._value,t)||(i=!0,this._value=o.Z.clone(t)),(0,s.Z)(e)&&this._referenceFrame!==e&&(i=!0,this._referenceFrame=e),i&&this._definitionChanged.raiseEvent(this)},h.prototype.getValueInReferenceFrame=function(t,e,i){if(!(0,s.Z)(t))throw new r.Z("time is required.");if(!(0,s.Z)(e))throw new r.Z("referenceFrame is required.");return c.Z.convertToReferenceFrame(t,this._value,this._referenceFrame,e,i)},h.prototype.equals=function(t){return this===t||t instanceof h&&o.Z.equals(this._value,t._value)&&this._referenceFrame===t._referenceFrame};const d=h},9234:(t,e,i)=>{i.d(e,{Z:()=>r});var o=i(54485),n=i(92893);function s(t){this._value=void 0,this._hasClone=!1,this._hasEquals=!1,this._definitionChanged=new n.Z,this.setValue(t)}Object.defineProperties(s.prototype,{isConstant:{value:!0},definitionChanged:{get:function(){return this._definitionChanged}}}),s.prototype.getValue=function(t,e){return this._hasClone?this._value.clone(e):this._value},s.prototype.setValue=function(t){const e=this._value;if(e!==t){const i=(0,o.Z)(t),n=i&&"function"==typeof t.clone,s=i&&"function"==typeof t.equals;(!s||!t.equals(e))&&(this._hasClone=n,this._hasEquals=s,this._value=n?t.clone(this._value):t,this._definitionChanged.raiseEvent(this))}},s.prototype.equals=function(t){return this===t||t instanceof s&&(!this._hasEquals&&this._value===t._value||this._hasEquals&&this._value.equals(t._value))},s.prototype.valueOf=function(){return this._value},s.prototype.toString=function(){return String(this._value)};const r=s},99124:(t,e,i)=>{i.d(e,{Z:()=>V});var o=i(93237),n=i(93517),s=i(17497),r=i(6785),a=i(41631),l=i(83315),c=i(29949),h=i(54485),d=i(20176),u=i(64493),p=i(78224),Z=i(18926),f=i(6206),_=i(34152),m=i(9008),g=i(16272),y=i(41656),v=i(73020),w=i(3334),C=i(58034),b=i(31969),O=i(47106),D=i(19157);const S=new r.Z,P=n.Z.ZERO,E=new n.Z,x=new _.Z;function R(t){this.id=t,this.vertexFormat=void 0,this.positions=void 0,this.width=void 0,this.cornerType=void 0,this.height=void 0,this.extrudedHeight=void 0,this.granularity=void 0,this.offsetAttribute=void 0}function I(t,e){O.Z.call(this,{entity:t,scene:e,geometryOptions:new R(t),geometryPropertyName:"corridor",observedPropertyNames:["availability","corridor"]}),this._onEntityPropertyChanged(t,"corridor",t.corridor,void 0)}function M(t,e,i){C.Z.call(this,t,e,i)}(0,h.Z)(Object.create)&&(I.prototype=Object.create(O.Z.prototype),I.prototype.constructor=I),I.prototype.createFillGeometryInstance=function(t){if(s.Z.defined("time",t),!this._fillEnabled)throw new d.Z("This instance does not represent a filled geometry.");const e=this._entity,i=e.isAvailable(t),o={show:new m.Z(i&&e.isShowing&&this._showProperty.getValue(t)&&this._fillProperty.getValue(t)),distanceDisplayCondition:u.Z.fromDistanceDisplayCondition(this._distanceDisplayConditionProperty.getValue(t)),offset:void 0,color:void 0};if(this._materialProperty instanceof w.Z){let e;(0,h.Z)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||i)&&(e=this._materialProperty.color.getValue(t,S)),(0,h.Z)(e)||(e=r.Z.WHITE),o.color=a.Z.fromColor(e)}return(0,h.Z)(this._options.offsetAttribute)&&(o.offset=f.Z.fromCartesian3(D.Z.getValueOrDefault(this._terrainOffsetProperty,t,P,E))),new p.Z({id:e,geometry:new l.Z(this._options),attributes:o})},I.prototype.createOutlineGeometryInstance=function(t){if(s.Z.defined("time",t),!this._outlineEnabled)throw new d.Z("This instance does not represent an outlined geometry.");const e=this._entity,i=e.isAvailable(t),o=D.Z.getValueOrDefault(this._outlineColorProperty,t,r.Z.BLACK,S),n={show:new m.Z(i&&e.isShowing&&this._showProperty.getValue(t)&&this._showOutlineProperty.getValue(t)),color:a.Z.fromColor(o),distanceDisplayCondition:u.Z.fromDistanceDisplayCondition(this._distanceDisplayConditionProperty.getValue(t)),offset:void 0};return(0,h.Z)(this._options.offsetAttribute)&&(n.offset=f.Z.fromCartesian3(D.Z.getValueOrDefault(this._terrainOffsetProperty,t,P,E))),new p.Z({id:e,geometry:new c.Z(this._options),attributes:n})},I.prototype._computeCenter=function(t,e){const i=D.Z.getValueOrUndefined(this._entity.corridor.positions,t);if((0,h.Z)(i)&&0!==i.length)return n.Z.clone(i[Math.floor(i.length/2)],e)},I.prototype._isHidden=function(t,e){return!(0,h.Z)(e.positions)||!(0,h.Z)(e.width)||b.Z.prototype._isHidden.call(this,t,e)},I.prototype._isDynamic=function(t,e){return!e.positions.isConstant||!D.Z.isConstant(e.height)||!D.Z.isConstant(e.extrudedHeight)||!D.Z.isConstant(e.granularity)||!D.Z.isConstant(e.width)||!D.Z.isConstant(e.outlineWidth)||!D.Z.isConstant(e.cornerType)||!D.Z.isConstant(e.zIndex)||this._onTerrain&&!D.Z.isConstant(this._materialProperty)&&!(this._materialProperty instanceof w.Z)},I.prototype._setStaticOptions=function(t,e){let i=D.Z.getValueOrUndefined(e.height,Z.Z.MINIMUM_VALUE);const n=D.Z.getValueOrDefault(e.heightReference,Z.Z.MINIMUM_VALUE,g.Z.NONE);let s=D.Z.getValueOrUndefined(e.extrudedHeight,Z.Z.MINIMUM_VALUE);const r=D.Z.getValueOrDefault(e.extrudedHeightReference,Z.Z.MINIMUM_VALUE,g.Z.NONE);(0,h.Z)(s)&&!(0,h.Z)(i)&&(i=0);const a=this._options;a.vertexFormat=this._materialProperty instanceof w.Z?v.Z.VERTEX_FORMAT:y.Z.MaterialSupport.TEXTURED.vertexFormat,a.positions=e.positions.getValue(Z.Z.MINIMUM_VALUE,a.positions),a.width=e.width.getValue(Z.Z.MINIMUM_VALUE),a.granularity=D.Z.getValueOrUndefined(e.granularity,Z.Z.MINIMUM_VALUE),a.cornerType=D.Z.getValueOrUndefined(e.cornerType,Z.Z.MINIMUM_VALUE),a.offsetAttribute=O.Z.computeGeometryOffsetAttribute(i,n,s,r),a.height=O.Z.getGeometryHeight(i,n),s=O.Z.getGeometryExtrudedHeight(s,r),s===O.Z.CLAMP_TO_GROUND&&(s=o.Z.getMinimumMaximumHeights(l.Z.computeRectangle(a,x)).minimumTerrainHeight),a.extrudedHeight=s},I.DynamicGeometryUpdater=M,(0,h.Z)(Object.create)&&(M.prototype=Object.create(C.Z.prototype),M.prototype.constructor=M),M.prototype._isHidden=function(t,e,i){const o=this._options;return!(0,h.Z)(o.positions)||!(0,h.Z)(o.width)||C.Z.prototype._isHidden.call(this,t,e,i)},M.prototype._setOptions=function(t,e,i){const n=this._options;let s=D.Z.getValueOrUndefined(e.height,i);const r=D.Z.getValueOrDefault(e.heightReference,i,g.Z.NONE);let a=D.Z.getValueOrUndefined(e.extrudedHeight,i);const c=D.Z.getValueOrDefault(e.extrudedHeightReference,i,g.Z.NONE);(0,h.Z)(a)&&!(0,h.Z)(s)&&(s=0),n.positions=D.Z.getValueOrUndefined(e.positions,i),n.width=D.Z.getValueOrUndefined(e.width,i),n.granularity=D.Z.getValueOrUndefined(e.granularity,i),n.cornerType=D.Z.getValueOrUndefined(e.cornerType,i),n.offsetAttribute=O.Z.computeGeometryOffsetAttribute(s,r,a,c),n.height=O.Z.getGeometryHeight(s,r),a=O.Z.getGeometryExtrudedHeight(a,c),a===O.Z.CLAMP_TO_GROUND&&(a=o.Z.getMinimumMaximumHeights(l.Z.computeRectangle(n,x)).minimumTerrainHeight),n.extrudedHeight=a};const V=I},79780:(t,e,i)=>{i.d(e,{Z:()=>h});var o=i(88779),n=i(54485),s=i(20176),r=i(92893),a=i(78731),l=i(37105);function c(t){this._definitionChanged=new r.Z,this._show=void 0,this._showSubscription=void 0,this._positions=void 0,this._positionsSubscription=void 0,this._width=void 0,this._widthSubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._extrudedHeight=void 0,this._extrudedHeightSubscription=void 0,this._extrudedHeightReference=void 0,this._extrudedHeightReferenceSubscription=void 0,this._cornerType=void 0,this._cornerTypeSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this.merge((0,o.Z)(t,o.Z.EMPTY_OBJECT))}Object.defineProperties(c.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:(0,l.Z)("show"),positions:(0,l.Z)("positions"),width:(0,l.Z)("width"),height:(0,l.Z)("height"),heightReference:(0,l.Z)("heightReference"),extrudedHeight:(0,l.Z)("extrudedHeight"),extrudedHeightReference:(0,l.Z)("extrudedHeightReference"),cornerType:(0,l.Z)("cornerType"),granularity:(0,l.Z)("granularity"),fill:(0,l.Z)("fill"),material:(0,a.Z)("material"),outline:(0,l.Z)("outline"),outlineColor:(0,l.Z)("outlineColor"),outlineWidth:(0,l.Z)("outlineWidth"),shadows:(0,l.Z)("shadows"),distanceDisplayCondition:(0,l.Z)("distanceDisplayCondition"),classificationType:(0,l.Z)("classificationType"),zIndex:(0,l.Z)("zIndex")}),c.prototype.clone=function(t){return(0,n.Z)(t)?(t.show=this.show,t.positions=this.positions,t.width=this.width,t.height=this.height,t.heightReference=this.heightReference,t.extrudedHeight=this.extrudedHeight,t.extrudedHeightReference=this.extrudedHeightReference,t.cornerType=this.cornerType,t.granularity=this.granularity,t.fill=this.fill,t.material=this.material,t.outline=this.outline,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t.classificationType=this.classificationType,t.zIndex=this.zIndex,t):new c(this)},c.prototype.merge=function(t){if(!(0,n.Z)(t))throw new s.Z("source is required.");this.show=(0,o.Z)(this.show,t.show),this.positions=(0,o.Z)(this.positions,t.positions),this.width=(0,o.Z)(this.width,t.width),this.height=(0,o.Z)(this.height,t.height),this.heightReference=(0,o.Z)(this.heightReference,t.heightReference),this.extrudedHeight=(0,o.Z)(this.extrudedHeight,t.extrudedHeight),this.extrudedHeightReference=(0,o.Z)(this.extrudedHeightReference,t.extrudedHeightReference),this.cornerType=(0,o.Z)(this.cornerType,t.cornerType),this.granularity=(0,o.Z)(this.granularity,t.granularity),this.fill=(0,o.Z)(this.fill,t.fill),this.material=(0,o.Z)(this.material,t.material),this.outline=(0,o.Z)(this.outline,t.outline),this.outlineColor=(0,o.Z)(this.outlineColor,t.outlineColor),this.outlineWidth=(0,o.Z)(this.outlineWidth,t.outlineWidth),this.shadows=(0,o.Z)(this.shadows,t.shadows),this.distanceDisplayCondition=(0,o.Z)(this.distanceDisplayCondition,t.distanceDisplayCondition),this.classificationType=(0,o.Z)(this.classificationType,t.classificationType),this.zIndex=(0,o.Z)(this.zIndex,t.zIndex)};const h=c},38754:(t,e,i)=>{i.d(e,{Z:()=>h});var o=i(54485),n=i(20176),s=i(92893),r=i(27979),a=i(61551),l=i(58585);function c(t){this._name=t,this._clock=void 0,this._changed=new s.Z,this._error=new s.Z,this._isLoading=!1,this._loading=new s.Z,this._entityCollection=new l.Z(this),this._entityCluster=new a.Z}Object.defineProperties(c.prototype,{name:{get:function(){return this._name},set:function(t){this._name!==t&&(this._name=t,this._changed.raiseEvent(this))}},clock:{get:function(){return this._clock},set:function(t){this._clock!==t&&(this._clock=t,this._changed.raiseEvent(this))}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading},set:function(t){r.Z.setLoading(this,t)}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(t){this._entityCollection.show=t}},clustering:{get:function(){return this._entityCluster},set:function(t){if(!(0,o.Z)(t))throw new n.Z("value must be defined.");this._entityCluster=t}}}),c.prototype.update=function(t){return!0};const h=c},76567:(t,e,i)=>{i.d(e,{Z:()=>M});var o=i(93517),n=i(17497),s=i(6785),r=i(41631),a=i(78331),l=i(46423),c=i(54485),h=i(20176),d=i(64493),u=i(78224),p=i(97029),Z=i(18926),f=i(6206),_=i(9008),m=i(16272),g=i(41656),y=i(73020),v=i(3334),w=i(58034),C=i(31969),b=i(88163),O=i(19157);const D=o.Z.ZERO,S=new o.Z,P=new o.Z,E=new s.Z;function x(t){this.id=t,this.vertexFormat=void 0,this.length=void 0,this.topRadius=void 0,this.bottomRadius=void 0,this.slices=void 0,this.numberOfVerticalLines=void 0,this.offsetAttribute=void 0}function R(t,e){C.Z.call(this,{entity:t,scene:e,geometryOptions:new x(t),geometryPropertyName:"cylinder",observedPropertyNames:["availability","position","orientation","cylinder"]}),this._onEntityPropertyChanged(t,"cylinder",t.cylinder,void 0)}function I(t,e,i){w.Z.call(this,t,e,i)}(0,c.Z)(Object.create)&&(R.prototype=Object.create(C.Z.prototype),R.prototype.constructor=R),Object.defineProperties(R.prototype,{terrainOffsetProperty:{get:function(){return this._terrainOffsetProperty}}}),R.prototype.createFillGeometryInstance=function(t){if(n.Z.defined("time",t),!this._fillEnabled)throw new h.Z("This instance does not represent a filled geometry.");const e=this._entity,i=e.isAvailable(t),o=new _.Z(i&&e.isShowing&&this._showProperty.getValue(t)&&this._fillProperty.getValue(t)),l=this._distanceDisplayConditionProperty.getValue(t),p={show:o,distanceDisplayCondition:d.Z.fromDistanceDisplayCondition(l),color:void 0,offset:void 0};if(this._materialProperty instanceof v.Z){let e;(0,c.Z)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||i)&&(e=this._materialProperty.color.getValue(t,E)),(0,c.Z)(e)||(e=s.Z.WHITE),p.color=r.Z.fromColor(e)}return(0,c.Z)(this._options.offsetAttribute)&&(p.offset=f.Z.fromCartesian3(O.Z.getValueOrDefault(this._terrainOffsetProperty,t,D,S))),new u.Z({id:e,geometry:new a.Z(this._options),modelMatrix:e.computeModelMatrixForHeightReference(t,e.cylinder.heightReference,.5*this._options.length,this._scene.mapProjection.ellipsoid),attributes:p})},R.prototype.createOutlineGeometryInstance=function(t){if(n.Z.defined("time",t),!this._outlineEnabled)throw new h.Z("This instance does not represent an outlined geometry.");const e=this._entity,i=e.isAvailable(t),o=O.Z.getValueOrDefault(this._outlineColorProperty,t,s.Z.BLACK,E),a=this._distanceDisplayConditionProperty.getValue(t),p={show:new _.Z(i&&e.isShowing&&this._showProperty.getValue(t)&&this._showOutlineProperty.getValue(t)),color:r.Z.fromColor(o),distanceDisplayCondition:d.Z.fromDistanceDisplayCondition(a),offset:void 0};return(0,c.Z)(this._options.offsetAttribute)&&(p.offset=f.Z.fromCartesian3(O.Z.getValueOrDefault(this._terrainOffsetProperty,t,D,S))),new u.Z({id:e,geometry:new l.Z(this._options),modelMatrix:e.computeModelMatrixForHeightReference(t,e.cylinder.heightReference,.5*this._options.length,this._scene.mapProjection.ellipsoid),attributes:p})},R.prototype._computeCenter=function(t,e){return O.Z.getValueOrUndefined(this._entity.position,t,e)},R.prototype._isHidden=function(t,e){return!(0,c.Z)(t.position)||!(0,c.Z)(e.length)||!(0,c.Z)(e.topRadius)||!(0,c.Z)(e.bottomRadius)||C.Z.prototype._isHidden.call(this,t,e)},R.prototype._isDynamic=function(t,e){return!(t.position.isConstant&&O.Z.isConstant(t.orientation)&&e.length.isConstant&&e.topRadius.isConstant&&e.bottomRadius.isConstant&&O.Z.isConstant(e.slices)&&O.Z.isConstant(e.outlineWidth)&&O.Z.isConstant(e.numberOfVerticalLines))},R.prototype._setStaticOptions=function(t,e){const i=O.Z.getValueOrDefault(e.heightReference,Z.Z.MINIMUM_VALUE,m.Z.NONE),o=this._options;o.vertexFormat=this._materialProperty instanceof v.Z?y.Z.VERTEX_FORMAT:g.Z.MaterialSupport.TEXTURED.vertexFormat,o.length=e.length.getValue(Z.Z.MINIMUM_VALUE),o.topRadius=e.topRadius.getValue(Z.Z.MINIMUM_VALUE),o.bottomRadius=e.bottomRadius.getValue(Z.Z.MINIMUM_VALUE),o.slices=O.Z.getValueOrUndefined(e.slices,Z.Z.MINIMUM_VALUE),o.numberOfVerticalLines=O.Z.getValueOrUndefined(e.numberOfVerticalLines,Z.Z.MINIMUM_VALUE),o.offsetAttribute=i!==m.Z.NONE?p.Z.ALL:void 0},R.prototype._onEntityPropertyChanged=b.Z,R.DynamicGeometryUpdater=I,(0,c.Z)(Object.create)&&(I.prototype=Object.create(w.Z.prototype),I.prototype.constructor=I),I.prototype._isHidden=function(t,e,i){const o=this._options,n=O.Z.getValueOrUndefined(t.position,i,P);return!(0,c.Z)(n)||!(0,c.Z)(o.length)||!(0,c.Z)(o.topRadius)||!(0,c.Z)(o.bottomRadius)||w.Z.prototype._isHidden.call(this,t,e,i)},I.prototype._setOptions=function(t,e,i){const o=O.Z.getValueOrDefault(e.heightReference,i,m.Z.NONE),n=this._options;n.length=O.Z.getValueOrUndefined(e.length,i),n.topRadius=O.Z.getValueOrUndefined(e.topRadius,i),n.bottomRadius=O.Z.getValueOrUndefined(e.bottomRadius,i),n.slices=O.Z.getValueOrUndefined(e.slices,i),n.numberOfVerticalLines=O.Z.getValueOrUndefined(e.numberOfVerticalLines,i),n.offsetAttribute=o!==m.Z.NONE?p.Z.ALL:void 0};const M=R},59157:(t,e,i)=>{i.d(e,{Z:()=>h});var o=i(88779),n=i(54485),s=i(20176),r=i(92893),a=i(78731),l=i(37105);function c(t){this._definitionChanged=new r.Z,this._show=void 0,this._showSubscription=void 0,this._length=void 0,this._lengthSubscription=void 0,this._topRadius=void 0,this._topRadiusSubscription=void 0,this._bottomRadius=void 0,this._bottomRadiusSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._numberOfVerticalLines=void 0,this._numberOfVerticalLinesSubscription=void 0,this._slices=void 0,this._slicesSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this.merge((0,o.Z)(t,o.Z.EMPTY_OBJECT))}Object.defineProperties(c.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:(0,l.Z)("show"),length:(0,l.Z)("length"),topRadius:(0,l.Z)("topRadius"),bottomRadius:(0,l.Z)("bottomRadius"),heightReference:(0,l.Z)("heightReference"),fill:(0,l.Z)("fill"),material:(0,a.Z)("material"),outline:(0,l.Z)("outline"),outlineColor:(0,l.Z)("outlineColor"),outlineWidth:(0,l.Z)("outlineWidth"),numberOfVerticalLines:(0,l.Z)("numberOfVerticalLines"),slices:(0,l.Z)("slices"),shadows:(0,l.Z)("shadows"),distanceDisplayCondition:(0,l.Z)("distanceDisplayCondition")}),c.prototype.clone=function(t){return(0,n.Z)(t)?(t.show=this.show,t.length=this.length,t.topRadius=this.topRadius,t.bottomRadius=this.bottomRadius,t.heightReference=this.heightReference,t.fill=this.fill,t.material=this.material,t.outline=this.outline,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.numberOfVerticalLines=this.numberOfVerticalLines,t.slices=this.slices,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t):new c(this)},c.prototype.merge=function(t){if(!(0,n.Z)(t))throw new s.Z("source is required.");this.show=(0,o.Z)(this.show,t.show),this.length=(0,o.Z)(this.length,t.length),this.topRadius=(0,o.Z)(this.topRadius,t.topRadius),this.bottomRadius=(0,o.Z)(this.bottomRadius,t.bottomRadius),this.heightReference=(0,o.Z)(this.heightReference,t.heightReference),this.fill=(0,o.Z)(this.fill,t.fill),this.material=(0,o.Z)(this.material,t.material),this.outline=(0,o.Z)(this.outline,t.outline),this.outlineColor=(0,o.Z)(this.outlineColor,t.outlineColor),this.outlineWidth=(0,o.Z)(this.outlineWidth,t.outlineWidth),this.numberOfVerticalLines=(0,o.Z)(this.numberOfVerticalLines,t.numberOfVerticalLines),this.slices=(0,o.Z)(this.slices,t.slices),this.shadows=(0,o.Z)(this.shadows,t.shadows),this.distanceDisplayCondition=(0,o.Z)(this.distanceDisplayCondition,t.distanceDisplayCondition)};const h=c},81566:(t,e,i)=>{i.d(e,{Z:()=>Ae});var o=i(85162),n=i(23114),s=i(59015),r=i(93517),a=i(66866),l=i(1249),c=i(14495),h=i(6785),d=i(4034),u=i(78505),p=i(93737),Z=i(88779),f=i(54485),_=i(20176),m=i(51178),g=i(99996),y=i(92893),v=i(54219),w=i(79246),C=i(34474),b=i(18926),O=i(97262),D=i(2728),S=i(99536),P=i(22874),E=i(14633),x=i(46807),R=i(20291),I=i(34152),M=i(31163),V=i(67197),T=i(21514),A=i(18032),N=i(78368),L=i(99842),U=i(98179),B=i(30562),k=i(16272),H=i(72293),z=i(36164),F=i(49616),W=i(49824),j=i(42113),q=i(53188),G=i(25780),X=i(9088),$=i(75655),J=i(3334),Y=i(15841),K=i(36655),Q=i(46538),tt=i(30032),et=i(9234),it=i(79780),ot=i(59157),nt=i(27979),st=i(58740),rt=i(8171),at=i(67714),lt=i(61551),ct=i(58585),ht=i(34855),dt=i(30607),ut=i(13056),pt=i(99520),Zt=i(14136),ft=i(83040),_t=i(72054),mt=i(56728),gt=i(8119),yt=i(32683),vt=i(36373),wt=i(37e3),Ct=i(47955),bt=i(5559),Ot=i(17198),Dt=i(19157),St=i(62891),Pt=i(1561),Et=i(25163),xt=i(39351),Rt=i(69106),It=i(21144),Mt=i(81186),Vt=i(11984),Tt=i(74662),At=i(78490),Nt=i(79773),Lt=i(345),Ut=i(7911),Bt=i(29711),kt=i(92251);function Ht(){}let zt;function Ft(t,e){return"#"===e[0]&&(e=zt+e),xt.Z.fromString(t,e)}function Wt(t,e,i){if((0,f.Z)(i.reference))return Ft(e,i.reference);if((0,f.Z)(i.velocityReference)){const o=Ft(e,i.velocityReference);switch(t){case r.Z:case Ht:return new Ut.Z(o,t===Ht);case R.Z:return new Lt.Z(o)}}throw new T.Z(`${JSON.stringify(i)} is not valid CZML.`)}Ht.packedLength=r.Z.packedLength,Ht.unpack=r.Z.unpack,Ht.pack=r.Z.pack;const jt=new r.Z,qt=new A.Z,Gt=new a.Z,Xt=new N.Z,$t=new R.Z;function Jt(t,e){const i=(0,Z.Z)(t.uri,t);return(0,f.Z)(e)?e.getDerivedResource({url:i}):V.Z.createIfNeeded(i)}function Yt(t){const e=t.cartesian;if((0,f.Z)(e))return e;const i=t.cartesianVelocity;if((0,f.Z)(i))return i;const o=t.unitCartesian;if((0,f.Z)(o))return o;const n=t.unitSpherical;if((0,f.Z)(n))return function(t){const e=t.length;if(qt.magnitude=1,2===e)return qt.clock=t[0],qt.cone=t[1],r.Z.fromSpherical(qt,jt),[jt.x,jt.y,jt.z];const i=new Array(e/3*4);for(let o=0,n=0;o<e;o+=3,n+=4)i[n]=t[o],qt.clock=t[o+1],qt.cone=t[o+2],r.Z.fromSpherical(qt,jt),i[n+1]=jt.x,i[n+2]=jt.y,i[n+3]=jt.z;return i}(n);const s=t.spherical;if((0,f.Z)(s))return function(t){const e=t.length;if(3===e)return qt.clock=t[0],qt.cone=t[1],qt.magnitude=t[2],r.Z.fromSpherical(qt,jt),[jt.x,jt.y,jt.z];const i=new Array(e);for(let o=0;o<e;o+=4)i[o]=t[o],qt.clock=t[o+1],qt.cone=t[o+2],qt.magnitude=t[o+3],r.Z.fromSpherical(qt,jt),i[o+1]=jt.x,i[o+2]=jt.y,i[o+3]=jt.z;return i}(s);const a=t.cartographicRadians;if((0,f.Z)(a))return function(t){const e=t.length;if(3===e)return Gt.longitude=t[0],Gt.latitude=t[1],Gt.height=t[2],g.Z.WGS84.cartographicToCartesian(Gt,jt),[jt.x,jt.y,jt.z];const i=new Array(e);for(let o=0;o<e;o+=4)i[o]=t[o],Gt.longitude=t[o+1],Gt.latitude=t[o+2],Gt.height=t[o+3],g.Z.WGS84.cartographicToCartesian(Gt,jt),i[o+1]=jt.x,i[o+2]=jt.y,i[o+3]=jt.z;return i}(a);const l=t.cartographicDegrees;if((0,f.Z)(l))return function(t){const e=t.length;if(3===e)return Gt.longitude=P.Z.toRadians(t[0]),Gt.latitude=P.Z.toRadians(t[1]),Gt.height=t[2],g.Z.WGS84.cartographicToCartesian(Gt,jt),[jt.x,jt.y,jt.z];const i=new Array(e);for(let o=0;o<e;o+=4)i[o]=t[o],Gt.longitude=P.Z.toRadians(t[o+1]),Gt.latitude=P.Z.toRadians(t[o+2]),Gt.height=t[o+3],g.Z.WGS84.cartographicToCartesian(Gt,jt),i[o+1]=jt.x,i[o+2]=jt.y,i[o+3]=jt.z;return i}(l);throw new T.Z(`${JSON.stringify(t)} is not a valid CZML interval.`)}function Kt(t,e){r.Z.unpack(t,e,jt),r.Z.normalize(jt,jt),r.Z.pack(jt,t,e)}function Qt(t,e){R.Z.unpack(t,e,$t),R.Z.normalize($t,$t),R.Z.pack($t,t,e)}function te(t){return"boolean"==typeof t?Boolean:"number"==typeof t?Number:"string"==typeof t?String:t.hasOwnProperty("array")?Array:t.hasOwnProperty("boolean")?Boolean:t.hasOwnProperty("boundingRectangle")?n.Z:t.hasOwnProperty("cartesian2")?s.Z:t.hasOwnProperty("cartesian")||t.hasOwnProperty("spherical")||t.hasOwnProperty("cartographicRadians")||t.hasOwnProperty("cartographicDegrees")?r.Z:t.hasOwnProperty("unitCartesian")||t.hasOwnProperty("unitSpherical")?Ht:t.hasOwnProperty("rgba")||t.hasOwnProperty("rgbaf")?h.Z:t.hasOwnProperty("arcType")?o.Z:t.hasOwnProperty("classificationType")?U.Z:t.hasOwnProperty("colorBlendMode")?B.Z:t.hasOwnProperty("cornerType")?d.Z:t.hasOwnProperty("heightReference")?k.Z:t.hasOwnProperty("horizontalOrigin")?H.Z:t.hasOwnProperty("date")?O.Z:t.hasOwnProperty("labelStyle")?z.Z:t.hasOwnProperty("number")?Number:t.hasOwnProperty("nearFarScalar")?E.Z:t.hasOwnProperty("distanceDisplayCondition")?m.Z:t.hasOwnProperty("object")||t.hasOwnProperty("value")?Object:t.hasOwnProperty("unitQuaternion")?R.Z:t.hasOwnProperty("shadowMode")?F.Z:t.hasOwnProperty("string")?String:t.hasOwnProperty("stripeOrientation")?Tt.Z:t.hasOwnProperty("wsen")||t.hasOwnProperty("wsenDegrees")?I.Z:t.hasOwnProperty("uri")?j.Z:t.hasOwnProperty("verticalOrigin")?W.Z:Object}function ee(t,e,i){switch(t){case o.Z:return o.Z[(0,Z.Z)(e.arcType,e)];case Array:return e.array;case Boolean:return(0,Z.Z)(e.boolean,e);case n.Z:return e.boundingRectangle;case s.Z:return e.cartesian2;case r.Z:return Yt(e);case Ht:return function(t){const e=Yt(t);if(3===e.length)return Kt(e,0),e;for(let t=1;t<e.length;t+=4)Kt(e,t);return e}(e);case h.Z:return function(t){let e=t.rgbaf;if((0,f.Z)(e))return e;const i=t.rgba;if(!(0,f.Z)(i))return;const o=i.length;if(o===h.Z.packedLength)return[h.Z.byteToFloat(i[0]),h.Z.byteToFloat(i[1]),h.Z.byteToFloat(i[2]),h.Z.byteToFloat(i[3])];e=new Array(o);for(let t=0;t<o;t+=5)e[t]=i[t],e[t+1]=h.Z.byteToFloat(i[t+1]),e[t+2]=h.Z.byteToFloat(i[t+2]),e[t+3]=h.Z.byteToFloat(i[t+3]),e[t+4]=h.Z.byteToFloat(i[t+4]);return e}(e);case U.Z:return U.Z[(0,Z.Z)(e.classificationType,e)];case B.Z:return B.Z[(0,Z.Z)(e.colorBlendMode,e)];case d.Z:return d.Z[(0,Z.Z)(e.cornerType,e)];case k.Z:return k.Z[(0,Z.Z)(e.heightReference,e)];case H.Z:return H.Z[(0,Z.Z)(e.horizontalOrigin,e)];case Image:return Jt(e,i);case O.Z:return O.Z.fromIso8601((0,Z.Z)(e.date,e));case z.Z:return z.Z[(0,Z.Z)(e.labelStyle,e)];case Number:return(0,Z.Z)(e.number,e);case E.Z:return e.nearFarScalar;case m.Z:return e.distanceDisplayCondition;case Object:return(0,Z.Z)((0,Z.Z)(e.object,e.value),e);case R.Z:return function(t){const e=t.unitQuaternion;if((0,f.Z)(e)){if(4===e.length)return Qt(e,0),e;for(let t=1;t<e.length;t+=5)Qt(e,t)}return e}(e);case Rt.Z:return(0,Z.Z)(e.number,e);case F.Z:return F.Z[(0,Z.Z)((0,Z.Z)(e.shadowMode,e.shadows),e)];case String:return(0,Z.Z)(e.string,e);case Tt.Z:return Tt.Z[(0,Z.Z)(e.stripeOrientation,e)];case I.Z:return function(t){let e=t.wsen;if((0,f.Z)(e))return e;const i=t.wsenDegrees;if(!(0,f.Z)(i))return;const o=i.length;if(o===I.Z.packedLength)return[P.Z.toRadians(i[0]),P.Z.toRadians(i[1]),P.Z.toRadians(i[2]),P.Z.toRadians(i[3])];e=new Array(o);for(let t=0;t<o;t+=5)e[t]=i[t],e[t+1]=P.Z.toRadians(i[t+1]),e[t+2]=P.Z.toRadians(i[t+2]),e[t+3]=P.Z.toRadians(i[t+3]),e[t+4]=P.Z.toRadians(i[t+4]);return e}(e);case j.Z:return Jt(e,i);case W.Z:return W.Z[(0,Z.Z)(e.verticalOrigin,e)];default:throw new T.Z(t)}}const ie={HERMITE:C.Z,LAGRANGE:D.Z,LINEAR:S.Z};function oe(t,e){const i=t.interpolationAlgorithm,o=t.interpolationDegree;((0,f.Z)(i)||(0,f.Z)(o))&&e.setInterpolationOptions({interpolationAlgorithm:ie[i],interpolationDegree:o});const n=t.forwardExtrapolationType;(0,f.Z)(n)&&(e.forwardExtrapolationType=v.Z[n]);const s=t.forwardExtrapolationDuration;(0,f.Z)(s)&&(e.forwardExtrapolationDuration=s);const r=t.backwardExtrapolationType;(0,f.Z)(r)&&(e.backwardExtrapolationType=v.Z[r]);const a=t.backwardExtrapolationDuration;(0,f.Z)(a)&&(e.backwardExtrapolationDuration=a)}const ne={iso8601:void 0};function se(t){if((0,f.Z)(t))return ne.iso8601=t,N.Z.fromIso8601(ne)}function re(t){const e=b.Z.MAXIMUM_INTERVAL.clone();return e.data=t,e}function ae(t){const e=new Q.Z;return e.intervals.addInterval(re(t)),e}function le(t){const e=new K.Z(t.referenceFrame);return e.intervals.addInterval(re(t)),e}function ce(t,e,i,o,n,s,r){let a,l,c,h=se(o.interval);(0,f.Z)(n)&&(h=(0,f.Z)(h)?N.Z.intersect(h,n,Xt):n);const d=!(0,f.Z)(o.reference)&&!(0,f.Z)(o.velocityReference),u=(0,f.Z)(h)&&!h.equals(b.Z.MAXIMUM_INTERVAL);if(!0===o.delete)return u?he(e[i],h):void(e[i]=void 0);let p=!1;if(d){if(l=ee(t,o,s),!(0,f.Z)(l))return;a=(0,Z.Z)(t.packedLength,1),c=(0,Z.Z)(l.length,1),p=!(0,f.Z)(o.array)&&"string"!=typeof l&&c>a&&t!==Object}const _="function"==typeof t.unpack&&t!==Rt.Z;if(!p&&!u)return void(e[i]=d?new et.Z(_?t.unpack(l,0):l):Wt(t,r,o));let m,g=e[i];const y=o.epoch;if((0,f.Z)(y)&&(m=O.Z.fromIso8601(y)),p&&!u)return g instanceof Mt.Z||(e[i]=g=new Mt.Z(t)),g.addSamplesPackedArray(l,m),void oe(o,g);let v;if(!p&&u)return h=h.clone(),h.data=d?_?t.unpack(l,0):l:Wt(t,r,o),(0,f.Z)(g)||(e[i]=g=d?new Nt.Z:new Q.Z),void(d&&g instanceof Nt.Z?g.intervals.addInterval(h):g instanceof Q.Z?(d&&(h.data=new et.Z(h.data)),g.intervals.addInterval(h)):(e[i]=g=ae(g),d&&(h.data=new et.Z(h.data)),g.intervals.addInterval(h)));(0,f.Z)(g)||(e[i]=g=new Q.Z),g instanceof Q.Z||(e[i]=g=ae(g));const w=g.intervals;v=w.findInterval(h),(0,f.Z)(v)&&v.data instanceof Mt.Z||(v=h.clone(),v.data=new Mt.Z(t),w.addInterval(v)),v.data.addSamplesPackedArray(l,m),oe(o,v.data)}function he(t,e){if(t instanceof Mt.Z)t.removeSamples(e);else if(t instanceof Nt.Z)t.intervals.removeInterval(e);else if(t instanceof Q.Z){const i=t.intervals;for(let t=0;t<i.length;++t){const o=N.Z.intersect(i.get(t),e,Xt);o.isEmpty||he(o.data,e)}i.removeInterval(e)}else;}function de(t,e,i,o,n,s,r){if((0,f.Z)(o))if(Array.isArray(o))for(let a=0,l=o.length;a<l;++a)ce(t,e,i,o[a],n,s,r);else ce(t,e,i,o,n,s,r)}function ue(t,e,i,o,n,s){let a=se(i.interval);(0,f.Z)(o)&&(a=(0,f.Z)(a)?N.Z.intersect(a,o,Xt):o);const l=(0,f.Z)(i.cartesianVelocity)?1:0,c=r.Z.packedLength*(l+1);let h,d;const u=!(0,f.Z)(i.reference),p=(0,f.Z)(a)&&!a.equals(b.Z.MAXIMUM_INTERVAL);if(!0===i.delete)return p?pe(t[e],a):void(t[e]=void 0);let _,m=!1;if(u&&((0,f.Z)(i.referenceFrame)&&(_=M.Z[i.referenceFrame]),_=(0,Z.Z)(_,M.Z.FIXED),h=Yt(i),d=(0,Z.Z)(h.length,1),m=d>c),!m&&!p)return void(t[e]=u?new tt.Z(r.Z.unpack(h),_):Ft(s,i.reference));let g,y=t[e];const v=i.epoch;if((0,f.Z)(v)&&(g=O.Z.fromIso8601(v)),m&&!p)return y instanceof It.Z&&(!(0,f.Z)(_)||y.referenceFrame===_)||(t[e]=y=new It.Z(_,l)),y.addSamplesPackedArray(h,g),void oe(i,y);let w;if(!m&&p)return a=a.clone(),a.data=u?r.Z.unpack(h):Ft(s,i.reference),(0,f.Z)(y)||(y=u?new At.Z(_):new K.Z(_),t[e]=y),void(u&&y instanceof At.Z&&(0,f.Z)(_)&&y.referenceFrame===_?y.intervals.addInterval(a):y instanceof K.Z?(u&&(a.data=new tt.Z(a.data,_)),y.intervals.addInterval(a)):(t[e]=y=le(y),u&&(a.data=new tt.Z(a.data,_)),y.intervals.addInterval(a)));(0,f.Z)(y)?y instanceof K.Z||(t[e]=y=le(y)):t[e]=y=new K.Z(_);const C=y.intervals;w=C.findInterval(a),(0,f.Z)(w)&&w.data instanceof It.Z&&(!(0,f.Z)(_)||w.data.referenceFrame===_)||(w=a.clone(),w.data=new It.Z(_,l),C.addInterval(w)),w.data.addSamplesPackedArray(h,g),oe(i,w.data)}function pe(t,e){if(t instanceof It.Z)t.removeSamples(e);else if(t instanceof At.Z)t.intervals.removeInterval(e);else if(t instanceof K.Z){const i=t.intervals;for(let t=0;t<i.length;++t){const o=N.Z.intersect(i.get(t),e,Xt);o.isEmpty||pe(o.data,e)}i.removeInterval(e)}else;}function Ze(t,e,i,o,n,s){if((0,f.Z)(i))if(Array.isArray(i))for(let n=0,r=i.length;n<r;++n)ue(t,e,i[n],o,0,s);else ue(t,e,i,o,0,s)}function fe(t,e,i,o){(0,f.Z)(i.references)?ge(t,e,i.references,i.interval,o,St.Z,Q.Z):((0,f.Z)(i.cartesian2)?i.array=s.Z.unpackArray(i.cartesian2):(0,f.Z)(i.cartesian)&&(i.array=s.Z.unpackArray(i.cartesian)),(0,f.Z)(i.array)&&de(Array,t,e,i,void 0,void 0,o))}function _e(t,e,i,o,n,r){let a=se(i.interval);(0,f.Z)(o)&&(a=(0,f.Z)(a)?N.Z.intersect(a,o,Xt):o);let l,c,d,u=t[e];if((0,f.Z)(a)){u instanceof Y.Z||(u=new Y.Z,t[e]=u);const i=u.intervals;c=i.findInterval({start:a.start,stop:a.stop}),(0,f.Z)(c)?l=c.data:(c=a.clone(),i.addInterval(c))}else l=u;(0,f.Z)(i.solidColor)?(l instanceof J.Z||(l=new J.Z),d=i.solidColor,de(h.Z,l,"color",d.color,void 0,void 0,r)):(0,f.Z)(i.grid)?(l instanceof ht.Z||(l=new ht.Z),d=i.grid,de(h.Z,l,"color",d.color,void 0,n,r),de(Number,l,"cellAlpha",d.cellAlpha,void 0,n,r),de(s.Z,l,"lineCount",d.lineCount,void 0,n,r),de(s.Z,l,"lineThickness",d.lineThickness,void 0,n,r),de(s.Z,l,"lineOffset",d.lineOffset,void 0,n,r)):(0,f.Z)(i.image)?(l instanceof dt.Z||(l=new dt.Z),d=i.image,de(Image,l,"image",d.image,void 0,n,r),de(s.Z,l,"repeat",d.repeat,void 0,n,r),de(h.Z,l,"color",d.color,void 0,n,r),de(Boolean,l,"transparent",d.transparent,void 0,n,r)):(0,f.Z)(i.stripe)?(l instanceof Vt.Z||(l=new Vt.Z),d=i.stripe,de(Tt.Z,l,"orientation",d.orientation,void 0,n,r),de(h.Z,l,"evenColor",d.evenColor,void 0,n,r),de(h.Z,l,"oddColor",d.oddColor,void 0,n,r),de(Number,l,"offset",d.offset,void 0,n,r),de(Number,l,"repeat",d.repeat,void 0,n,r)):(0,f.Z)(i.polylineOutline)?(l instanceof Ct.Z||(l=new Ct.Z),d=i.polylineOutline,de(h.Z,l,"color",d.color,void 0,n,r),de(h.Z,l,"outlineColor",d.outlineColor,void 0,n,r),de(Number,l,"outlineWidth",d.outlineWidth,void 0,n,r)):(0,f.Z)(i.polylineGlow)?(l instanceof vt.Z||(l=new vt.Z),d=i.polylineGlow,de(h.Z,l,"color",d.color,void 0,n,r),de(Number,l,"glowPower",d.glowPower,void 0,n,r),de(Number,l,"taperPower",d.taperPower,void 0,n,r)):(0,f.Z)(i.polylineArrow)?(l instanceof gt.Z||(l=new gt.Z),d=i.polylineArrow,de(h.Z,l,"color",d.color,void 0,void 0,r)):(0,f.Z)(i.polylineDash)?(l instanceof yt.Z||(l=new yt.Z),d=i.polylineDash,de(h.Z,l,"color",d.color,void 0,void 0,r),de(h.Z,l,"gapColor",d.gapColor,void 0,void 0,r),de(Number,l,"dashLength",d.dashLength,void 0,n,r),de(Number,l,"dashPattern",d.dashPattern,void 0,n,r)):(0,f.Z)(i.checkerboard)&&(l instanceof $.Z||(l=new $.Z),d=i.checkerboard,de(h.Z,l,"evenColor",d.evenColor,void 0,n,r),de(h.Z,l,"oddColor",d.oddColor,void 0,n,r),de(s.Z,l,"repeat",d.repeat,void 0,n,r)),(0,f.Z)(c)?c.data=l:t[e]=l}function me(t,e,i,o,n,s){if((0,f.Z)(i))if(Array.isArray(i))for(let r=0,a=i.length;r<a;++r)_e(t,e,i[r],o,n,s);else _e(t,e,i,o,n,s)}function ge(t,e,i,o,n,s,r){const a=i.map((function(t){return Ft(n,t)}));if((0,f.Z)(o)){o=se(o);let i=t[e];if(!(i instanceof r)){const o=new r;o.intervals.addInterval(re(i)),t[e]=i=o}o.data=new s(a),i.intervals.addInterval(o)}else t[e]=new s(a)}function ye(t,e,i,o){const n=i.references;(0,f.Z)(n)?ge(t,e,n,i.interval,o,St.Z,Q.Z):de(Array,t,e,i,void 0,void 0,o)}function ve(t,e,i,o){if((0,f.Z)(i))if(Array.isArray(i))for(let n=0,s=i.length;n<s;++n)ye(t,e,i[n],o);else ye(t,e,i,o)}function we(t,e,i,o){const n=i.references;(0,f.Z)(n)?ge(t,e,n,i.interval,o,Ot.Z,K.Z):((0,f.Z)(i.cartesian)?i.array=r.Z.unpackArray(i.cartesian):(0,f.Z)(i.cartographicRadians)?i.array=r.Z.fromRadiansArrayHeights(i.cartographicRadians):(0,f.Z)(i.cartographicDegrees)&&(i.array=r.Z.fromDegreesArrayHeights(i.cartographicDegrees)),(0,f.Z)(i.array)&&de(Array,t,e,i,void 0,void 0,o))}function Ce(t,e,i,o){if((0,f.Z)(i))if(Array.isArray(i))for(let n=0,s=i.length;n<s;++n)we(t,e,i[n],o);else we(t,e,i,o)}function be(t){return r.Z.unpackArray(t)}function Oe(t){return r.Z.fromRadiansArrayHeights(t)}function De(t){return r.Z.fromDegreesArrayHeights(t)}function Se(t,e,i,o){const n=i.references;if((0,f.Z)(n)){const s=n.map((function(t){const e={};return ge(e,"positions",t,i.interval,o,Ot.Z,K.Z),e.positions}));t[e]=new Ot.Z(s)}else(0,f.Z)(i.cartesian)?i.array=i.cartesian.map(be):(0,f.Z)(i.cartographicRadians)?i.array=i.cartographicRadians.map(Oe):(0,f.Z)(i.cartographicDegrees)&&(i.array=i.cartographicDegrees.map(De)),(0,f.Z)(i.array)&&de(Array,t,e,i,void 0,void 0,o)}function Pe(t,e,i,o,n){let s=se(e.interval);(0,f.Z)(i)&&(s=(0,f.Z)(s)?N.Z.intersect(s,i,Xt):i);let a=t.nodeTransformations;const l=Object.keys(e);for(let i=0,c=l.length;i<c;++i){const c=l[i];if("interval"===c)continue;const h=e[c];if(!(0,f.Z)(h))continue;(0,f.Z)(a)||(t.nodeTransformations=a=new Pt.Z),a.hasProperty(c)||a.addProperty(c);let d=a[c];(0,f.Z)(d)||(a[c]=d=new Zt.Z),de(r.Z,d,"translation",h.translation,s,o,n),de(R.Z,d,"rotation",h.rotation,s,o,n),de(r.Z,d,"scale",h.scale,s,o,n)}}function Ee(t,e,i,o,n){let s=se(e.interval);(0,f.Z)(i)&&(s=(0,f.Z)(s)?N.Z.intersect(s,i,Xt):i);let r=t.articulations;const a=Object.keys(e);for(let i=0,l=a.length;i<l;++i){const l=a[i];if("interval"===l)continue;const c=e[l];(0,f.Z)(c)&&((0,f.Z)(r)||(t.articulations=r=new Pt.Z),r.hasProperty(l)||r.addProperty(l),de(Number,r,l,c,s,o,n))}}function xe(t){this.polygon=t,this._definitionChanged=new y.Z}function Re(t){return t?o.Z.GEODESIC:o.Z.NONE}function Ie(t,e,i,o,n){let s=t.id;if((0,f.Z)(s)||(s=(0,p.Z)()),zt=s,!(0,f.Z)(n._version)&&"document"!==s)throw new T.Z("The first CZML packet is required to be the document object.");if(!0===t.delete)e.removeById(s);else if("document"===s)!function(t,e){const i=t.version;if((0,f.Z)(i)&&"string"==typeof i){const t=i.split(".");if(2===t.length){if("1"!==t[0])throw new T.Z("Cesium only supports CZML version 1.");e._version=i}}if(!(0,f.Z)(e._version))throw new T.Z("CZML version information invalid.  It is expected to be a property on the document object in the <Major>.<Minor> version format.");const o=e._documentPacket;(0,f.Z)(t.name)&&(o.name=t.name);const n=t.clock;if((0,f.Z)(n)){const t=o.clock;(0,f.Z)(t)?(t.interval=(0,Z.Z)(n.interval,t.interval),t.currentTime=(0,Z.Z)(n.currentTime,t.currentTime),t.range=(0,Z.Z)(n.range,t.range),t.step=(0,Z.Z)(n.step,t.step),t.multiplier=(0,Z.Z)(n.multiplier,t.multiplier)):o.clock={interval:n.interval,currentTime:n.currentTime,range:n.range,step:n.step,multiplier:n.multiplier}}}(t,n);else{const n=e.getOrCreateEntity(s),r=t.parent;(0,f.Z)(r)&&(n.parent=e.getOrCreateEntity(r));for(let s=i.length-1;s>-1;s--)i[s](n,t,e,o)}zt=void 0}function Me(t,e,i,o){if(!(0,f.Z)(e))throw new _.Z("czml is required.");let n=e,s=(i=(0,Z.Z)(i,Z.Z.EMPTY_OBJECT)).sourceUri,r=i.credit;if("string"==typeof r&&(r=new u.Z(r)),t._credit=r,"string"==typeof e||e instanceof V.Z){n=(e=V.Z.createIfNeeded(e)).fetchJson(),s=(0,Z.Z)(s,e.clone());const i=t._resourceCredits,o=e.credits;if((0,f.Z)(o)){const t=o.length;for(let e=0;e<t;e++)i.push(o[e])}}return s=V.Z.createIfNeeded(s),nt.Z.setLoading(t,!0),Promise.resolve(n).then((function(e){return function(t,e,i,o){nt.Z.setLoading(t,!0);const n=t._entityCollection;o&&(t._version=void 0,t._documentPacket=new Ve,n.removeAll());Te._processCzml(e,n,i,void 0,t);let s=function(t){let e;const i=t._documentPacket.clock;if(!(0,f.Z)(i)){if(!(0,f.Z)(t._clock)){const i=t._entityCollection.computeAvailability();if(!i.start.equals(b.Z.MINIMUM_VALUE)){const o=i.start,n=i.stop,s=O.Z.secondsDifference(n,o),r=Math.round(s/120);return e=new st.Z,e.startTime=O.Z.clone(o),e.stopTime=O.Z.clone(n),e.clockRange=l.Z.LOOP_STOP,e.multiplier=r,e.currentTime=O.Z.clone(o),e.clockStep=c.Z.SYSTEM_CLOCK_MULTIPLIER,t._clock=e,!0}}return!1}(0,f.Z)(t._clock)?e=t._clock.clone():(e=new st.Z,e.startTime=b.Z.MINIMUM_VALUE.clone(),e.stopTime=b.Z.MAXIMUM_VALUE.clone(),e.currentTime=b.Z.MINIMUM_VALUE.clone(),e.clockRange=l.Z.LOOP_STOP,e.clockStep=c.Z.SYSTEM_CLOCK_MULTIPLIER,e.multiplier=1);const o=se(i.interval);return(0,f.Z)(o)&&(e.startTime=o.start,e.stopTime=o.stop),(0,f.Z)(i.currentTime)&&(e.currentTime=O.Z.fromIso8601(i.currentTime)),(0,f.Z)(i.range)&&(e.clockRange=(0,Z.Z)(l.Z[i.range],l.Z.LOOP_STOP)),(0,f.Z)(i.step)&&(e.clockStep=(0,Z.Z)(c.Z[i.step],c.Z.SYSTEM_CLOCK_MULTIPLIER)),(0,f.Z)(i.multiplier)&&(e.multiplier=i.multiplier),!e.equals(t._clock)&&(t._clock=e.clone(t._clock),!0)}(t);const r=t._documentPacket;(0,f.Z)(r.name)&&t._name!==r.name?(t._name=r.name,s=!0):!(0,f.Z)(t._name)&&(0,f.Z)(i)&&(t._name=(0,w.Z)(i.getUrlComponent()),s=!0);nt.Z.setLoading(t,!1),s&&t._changed.raiseEvent(t);return t}(t,e,s,o)})).catch((function(e){return nt.Z.setLoading(t,!1),t._error.raiseEvent(t,e),Promise.reject(e)}))}function Ve(){this.name=void 0,this.clock=void 0}function Te(t){this._name=t,this._changed=new y.Z,this._error=new y.Z,this._isLoading=!1,this._loading=new y.Z,this._clock=void 0,this._documentPacket=new Ve,this._version=void 0,this._entityCollection=new ct.Z(this),this._entityCluster=new lt.Z,this._credit=void 0,this._resourceCredits=[]}Object.defineProperties(xe.prototype,{isConstant:{get:function(){const t=this.polygon._positions,e=this.polygon._holes;return(!(0,f.Z)(t)||t.isConstant)&&(!(0,f.Z)(e)||e.isConstant)}},definitionChanged:{get:function(){return this._definitionChanged}}}),xe.prototype.getValue=function(t,e){let i,o;return(0,f.Z)(this.polygon._positions)&&(i=this.polygon._positions.getValue(t)),(0,f.Z)(this.polygon._holes)&&(o=this.polygon._holes.getValue(t),(0,f.Z)(o)&&(o=o.map((function(t){return new x.Z(t)})))),(0,f.Z)(e)?(e.positions=i,e.holes=o,e):new x.Z(i,o)},xe.prototype.equals=function(t){return this===t||t instanceof xe&&Dt.Z.equals(this.polygon._positions,t.polygon._positions)&&Dt.Z.equals(this.polygon._holes,t.polygon._holes)},Te.load=function(t,e){return(new Te).load(t,e)},Object.defineProperties(Te.prototype,{name:{get:function(){return this._name}},clock:{get:function(){return this._clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(t){this._entityCollection.show=t}},clustering:{get:function(){return this._entityCluster},set:function(t){if(!(0,f.Z)(t))throw new _.Z("value must be defined.");this._entityCluster=t}},credit:{get:function(){return this._credit}}}),Te.updaters=[function(t,e,i,o){const a=e.billboard;if(!(0,f.Z)(a))return;const l=se(a.interval);let c=t.billboard;(0,f.Z)(c)||(t.billboard=c=new q.Z),de(Boolean,c,"show",a.show,l,o,i),de(Image,c,"image",a.image,l,o,i),de(Number,c,"scale",a.scale,l,o,i),de(s.Z,c,"pixelOffset",a.pixelOffset,l,o,i),de(r.Z,c,"eyeOffset",a.eyeOffset,l,o,i),de(H.Z,c,"horizontalOrigin",a.horizontalOrigin,l,o,i),de(W.Z,c,"verticalOrigin",a.verticalOrigin,l,o,i),de(k.Z,c,"heightReference",a.heightReference,l,o,i),de(h.Z,c,"color",a.color,l,o,i),de(Rt.Z,c,"rotation",a.rotation,l,o,i),function(t,e,i,o,n){(0,f.Z)(e)&&de(Ht,t,"alignedAxis",e,i,o,n)}(c,a.alignedAxis,l,o,i),de(Boolean,c,"sizeInMeters",a.sizeInMeters,l,o,i),de(Number,c,"width",a.width,l,o,i),de(Number,c,"height",a.height,l,o,i),de(E.Z,c,"scaleByDistance",a.scaleByDistance,l,o,i),de(E.Z,c,"translucencyByDistance",a.translucencyByDistance,l,o,i),de(E.Z,c,"pixelOffsetScaleByDistance",a.pixelOffsetScaleByDistance,l,o,i),de(n.Z,c,"imageSubRegion",a.imageSubRegion,l,o,i),de(m.Z,c,"distanceDisplayCondition",a.distanceDisplayCondition,l,o,i),de(Number,c,"disableDepthTestDistance",a.disableDepthTestDistance,l,o,i)},function(t,e,i,o){const n=e.box;if(!(0,f.Z)(n))return;const s=se(n.interval);let a=t.box;(0,f.Z)(a)||(t.box=a=new G.Z),de(Boolean,a,"show",n.show,s,o,i),de(r.Z,a,"dimensions",n.dimensions,s,o,i),de(k.Z,a,"heightReference",n.heightReference,s,o,i),de(Boolean,a,"fill",n.fill,s,o,i),me(a,"material",n.material,s,o,i),de(Boolean,a,"outline",n.outline,s,o,i),de(h.Z,a,"outlineColor",n.outlineColor,s,o,i),de(Number,a,"outlineWidth",n.outlineWidth,s,o,i),de(F.Z,a,"shadows",n.shadows,s,o,i),de(m.Z,a,"distanceDisplayCondition",n.distanceDisplayCondition,s,o,i)},function(t,e,i,o){const n=e.corridor;if(!(0,f.Z)(n))return;const s=se(n.interval);let r=t.corridor;(0,f.Z)(r)||(t.corridor=r=new it.Z),de(Boolean,r,"show",n.show,s,o,i),Ce(r,"positions",n.positions,i),de(Number,r,"width",n.width,s,o,i),de(Number,r,"height",n.height,s,o,i),de(k.Z,r,"heightReference",n.heightReference,s,o,i),de(Number,r,"extrudedHeight",n.extrudedHeight,s,o,i),de(k.Z,r,"extrudedHeightReference",n.extrudedHeightReference,s,o,i),de(d.Z,r,"cornerType",n.cornerType,s,o,i),de(Number,r,"granularity",n.granularity,s,o,i),de(Boolean,r,"fill",n.fill,s,o,i),me(r,"material",n.material,s,o,i),de(Boolean,r,"outline",n.outline,s,o,i),de(h.Z,r,"outlineColor",n.outlineColor,s,o,i),de(Number,r,"outlineWidth",n.outlineWidth,s,o,i),de(F.Z,r,"shadows",n.shadows,s,o,i),de(m.Z,r,"distanceDisplayCondition",n.distanceDisplayCondition,s,o,i),de(U.Z,r,"classificationType",n.classificationType,s,o,i),de(Number,r,"zIndex",n.zIndex,s,o,i)},function(t,e,i,o){const n=e.cylinder;if(!(0,f.Z)(n))return;const s=se(n.interval);let r=t.cylinder;(0,f.Z)(r)||(t.cylinder=r=new ot.Z),de(Boolean,r,"show",n.show,s,o,i),de(Number,r,"length",n.length,s,o,i),de(Number,r,"topRadius",n.topRadius,s,o,i),de(Number,r,"bottomRadius",n.bottomRadius,s,o,i),de(k.Z,r,"heightReference",n.heightReference,s,o,i),de(Boolean,r,"fill",n.fill,s,o,i),me(r,"material",n.material,s,o,i),de(Boolean,r,"outline",n.outline,s,o,i),de(h.Z,r,"outlineColor",n.outlineColor,s,o,i),de(Number,r,"outlineWidth",n.outlineWidth,s,o,i),de(Number,r,"numberOfVerticalLines",n.numberOfVerticalLines,s,o,i),de(Number,r,"slices",n.slices,s,o,i),de(F.Z,r,"shadows",n.shadows,s,o,i),de(m.Z,r,"distanceDisplayCondition",n.distanceDisplayCondition,s,o,i)},function(t,e,i,o){const n=e.ellipse;if(!(0,f.Z)(n))return;const s=se(n.interval);let r=t.ellipse;(0,f.Z)(r)||(t.ellipse=r=new rt.Z),de(Boolean,r,"show",n.show,s,o,i),de(Number,r,"semiMajorAxis",n.semiMajorAxis,s,o,i),de(Number,r,"semiMinorAxis",n.semiMinorAxis,s,o,i),de(Number,r,"height",n.height,s,o,i),de(k.Z,r,"heightReference",n.heightReference,s,o,i),de(Number,r,"extrudedHeight",n.extrudedHeight,s,o,i),de(k.Z,r,"extrudedHeightReference",n.extrudedHeightReference,s,o,i),de(Rt.Z,r,"rotation",n.rotation,s,o,i),de(Rt.Z,r,"stRotation",n.stRotation,s,o,i),de(Number,r,"granularity",n.granularity,s,o,i),de(Boolean,r,"fill",n.fill,s,o,i),me(r,"material",n.material,s,o,i),de(Boolean,r,"outline",n.outline,s,o,i),de(h.Z,r,"outlineColor",n.outlineColor,s,o,i),de(Number,r,"outlineWidth",n.outlineWidth,s,o,i),de(Number,r,"numberOfVerticalLines",n.numberOfVerticalLines,s,o,i),de(F.Z,r,"shadows",n.shadows,s,o,i),de(m.Z,r,"distanceDisplayCondition",n.distanceDisplayCondition,s,o,i),de(U.Z,r,"classificationType",n.classificationType,s,o,i),de(Number,r,"zIndex",n.zIndex,s,o,i)},function(t,e,i,o){const n=e.ellipsoid;if(!(0,f.Z)(n))return;const s=se(n.interval);let a=t.ellipsoid;(0,f.Z)(a)||(t.ellipsoid=a=new at.Z),de(Boolean,a,"show",n.show,s,o,i),de(r.Z,a,"radii",n.radii,s,o,i),de(r.Z,a,"innerRadii",n.innerRadii,s,o,i),de(Number,a,"minimumClock",n.minimumClock,s,o,i),de(Number,a,"maximumClock",n.maximumClock,s,o,i),de(Number,a,"minimumCone",n.minimumCone,s,o,i),de(Number,a,"maximumCone",n.maximumCone,s,o,i),de(k.Z,a,"heightReference",n.heightReference,s,o,i),de(Boolean,a,"fill",n.fill,s,o,i),me(a,"material",n.material,s,o,i),de(Boolean,a,"outline",n.outline,s,o,i),de(h.Z,a,"outlineColor",n.outlineColor,s,o,i),de(Number,a,"outlineWidth",n.outlineWidth,s,o,i),de(Number,a,"stackPartitions",n.stackPartitions,s,o,i),de(Number,a,"slicePartitions",n.slicePartitions,s,o,i),de(Number,a,"subdivisions",n.subdivisions,s,o,i),de(F.Z,a,"shadows",n.shadows,s,o,i),de(m.Z,a,"distanceDisplayCondition",n.distanceDisplayCondition,s,o,i)},function(t,e,i,o){const n=e.label;if(!(0,f.Z)(n))return;const a=se(n.interval);let l=t.label;(0,f.Z)(l)||(t.label=l=new ut.Z),de(Boolean,l,"show",n.show,a,o,i),de(String,l,"text",n.text,a,o,i),de(String,l,"font",n.font,a,o,i),de(z.Z,l,"style",n.style,a,o,i),de(Number,l,"scale",n.scale,a,o,i),de(Boolean,l,"showBackground",n.showBackground,a,o,i),de(h.Z,l,"backgroundColor",n.backgroundColor,a,o,i),de(s.Z,l,"backgroundPadding",n.backgroundPadding,a,o,i),de(s.Z,l,"pixelOffset",n.pixelOffset,a,o,i),de(r.Z,l,"eyeOffset",n.eyeOffset,a,o,i),de(H.Z,l,"horizontalOrigin",n.horizontalOrigin,a,o,i),de(W.Z,l,"verticalOrigin",n.verticalOrigin,a,o,i),de(k.Z,l,"heightReference",n.heightReference,a,o,i),de(h.Z,l,"fillColor",n.fillColor,a,o,i),de(h.Z,l,"outlineColor",n.outlineColor,a,o,i),de(Number,l,"outlineWidth",n.outlineWidth,a,o,i),de(E.Z,l,"translucencyByDistance",n.translucencyByDistance,a,o,i),de(E.Z,l,"pixelOffsetScaleByDistance",n.pixelOffsetScaleByDistance,a,o,i),de(E.Z,l,"scaleByDistance",n.scaleByDistance,a,o,i),de(m.Z,l,"distanceDisplayCondition",n.distanceDisplayCondition,a,o,i),de(Number,l,"disableDepthTestDistance",n.disableDepthTestDistance,a,o,i)},function(t,e,i,o){const n=e.model;if(!(0,f.Z)(n))return;const s=se(n.interval);let r,a,l=t.model;(0,f.Z)(l)||(t.model=l=new pt.Z),de(Boolean,l,"show",n.show,s,o,i),de(j.Z,l,"uri",n.gltf,s,o,i),de(Number,l,"scale",n.scale,s,o,i),de(Number,l,"minimumPixelSize",n.minimumPixelSize,s,o,i),de(Number,l,"maximumScale",n.maximumScale,s,o,i),de(Boolean,l,"incrementallyLoadTextures",n.incrementallyLoadTextures,s,o,i),de(Boolean,l,"runAnimations",n.runAnimations,s,o,i),de(Boolean,l,"clampAnimations",n.clampAnimations,s,o,i),de(F.Z,l,"shadows",n.shadows,s,o,i),de(k.Z,l,"heightReference",n.heightReference,s,o,i),de(h.Z,l,"silhouetteColor",n.silhouetteColor,s,o,i),de(Number,l,"silhouetteSize",n.silhouetteSize,s,o,i),de(h.Z,l,"color",n.color,s,o,i),de(B.Z,l,"colorBlendMode",n.colorBlendMode,s,o,i),de(Number,l,"colorBlendAmount",n.colorBlendAmount,s,o,i),de(m.Z,l,"distanceDisplayCondition",n.distanceDisplayCondition,s,o,i);const c=n.nodeTransformations;if((0,f.Z)(c))if(Array.isArray(c))for(r=0,a=c.length;r<a;++r)Pe(l,c[r],s,o,i);else Pe(l,c,s,o,i);const d=n.articulations;if((0,f.Z)(d))if(Array.isArray(d))for(r=0,a=d.length;r<a;++r)Ee(l,d[r],s,o,i);else Ee(l,d,s,o,i)},function(t,e,i,o){const n=e.name;(0,f.Z)(n)&&(t.name=e.name)},function(t,e,i,o){const n=e.description;(0,f.Z)(n)&&de(String,t,"description",n,void 0,o,i)},function(t,e,i,o){const n=e.path;if(!(0,f.Z)(n))return;const s=se(n.interval);let r=t.path;(0,f.Z)(r)||(t.path=r=new ft.Z),de(Boolean,r,"show",n.show,s,o,i),de(Number,r,"leadTime",n.leadTime,s,o,i),de(Number,r,"trailTime",n.trailTime,s,o,i),de(Number,r,"width",n.width,s,o,i),de(Number,r,"resolution",n.resolution,s,o,i),me(r,"material",n.material,s,o,i),de(m.Z,r,"distanceDisplayCondition",n.distanceDisplayCondition,s,o,i)},function(t,e,i,o){const n=e.point;if(!(0,f.Z)(n))return;const s=se(n.interval);let r=t.point;(0,f.Z)(r)||(t.point=r=new _t.Z),de(Boolean,r,"show",n.show,s,o,i),de(Number,r,"pixelSize",n.pixelSize,s,o,i),de(k.Z,r,"heightReference",n.heightReference,s,o,i),de(h.Z,r,"color",n.color,s,o,i),de(h.Z,r,"outlineColor",n.outlineColor,s,o,i),de(Number,r,"outlineWidth",n.outlineWidth,s,o,i),de(E.Z,r,"scaleByDistance",n.scaleByDistance,s,o,i),de(E.Z,r,"translucencyByDistance",n.translucencyByDistance,s,o,i),de(m.Z,r,"distanceDisplayCondition",n.distanceDisplayCondition,s,o,i),de(Number,r,"disableDepthTestDistance",n.disableDepthTestDistance,s,o,i)},function(t,e,i,n){const s=e.polygon;if(!(0,f.Z)(s))return;const r=se(s.interval);let a=t.polygon;(0,f.Z)(a)||(t.polygon=a=new mt.Z),de(Boolean,a,"show",s.show,r,n,i),Ce(a,"_positions",s.positions,i),function(t,e,i,o){if((0,f.Z)(i))if(Array.isArray(i))for(let n=0,s=i.length;n<s;++n)Se(t,e,i[n],o);else Se(t,e,i,o)}(a,"_holes",s.holes,i),((0,f.Z)(a._positions)||(0,f.Z)(a._holes))&&(a.hierarchy=new xe(a)),de(Number,a,"height",s.height,r,n,i),de(k.Z,a,"heightReference",s.heightReference,r,n,i),de(Number,a,"extrudedHeight",s.extrudedHeight,r,n,i),de(k.Z,a,"extrudedHeightReference",s.extrudedHeightReference,r,n,i),de(Rt.Z,a,"stRotation",s.stRotation,r,n,i),de(Number,a,"granularity",s.granularity,r,n,i),de(Boolean,a,"fill",s.fill,r,n,i),me(a,"material",s.material,r,n,i),de(Boolean,a,"outline",s.outline,r,n,i),de(h.Z,a,"outlineColor",s.outlineColor,r,n,i),de(Number,a,"outlineWidth",s.outlineWidth,r,n,i),de(Boolean,a,"perPositionHeight",s.perPositionHeight,r,n,i),de(Boolean,a,"closeTop",s.closeTop,r,n,i),de(Boolean,a,"closeBottom",s.closeBottom,r,n,i),de(o.Z,a,"arcType",s.arcType,r,n,i),de(F.Z,a,"shadows",s.shadows,r,n,i),de(m.Z,a,"distanceDisplayCondition",s.distanceDisplayCondition,r,n,i),de(U.Z,a,"classificationType",s.classificationType,r,n,i),de(Number,a,"zIndex",s.zIndex,r,n,i)},function(t,e,i,n){const s=e.polyline;if(!(0,f.Z)(s))return;const r=se(s.interval);let a=t.polyline;if((0,f.Z)(a)||(t.polyline=a=new wt.Z),de(Boolean,a,"show",s.show,r,n,i),Ce(a,"positions",s.positions,i),de(Number,a,"width",s.width,r,n,i),de(Number,a,"granularity",s.granularity,r,n,i),me(a,"material",s.material,r,n,i),me(a,"depthFailMaterial",s.depthFailMaterial,r,n,i),de(o.Z,a,"arcType",s.arcType,r,n,i),de(Boolean,a,"clampToGround",s.clampToGround,r,n,i),de(F.Z,a,"shadows",s.shadows,r,n,i),de(m.Z,a,"distanceDisplayCondition",s.distanceDisplayCondition,r,n,i),de(U.Z,a,"classificationType",s.classificationType,r,n,i),de(Number,a,"zIndex",s.zIndex,r,n,i),(0,f.Z)(s.followSurface)&&!(0,f.Z)(s.arcType)){const t={};de(Boolean,t,"followSurface",s.followSurface,r,n,i),a.arcType=(l=t.followSurface,c=Re,new X.Z((function(t,e){return c(l.getValue(t,e))}),l.isConstant))}var l,c},function(t,e,i,o){const n=e.polylineVolume;if(!(0,f.Z)(n))return;const s=se(n.interval);let r=t.polylineVolume;(0,f.Z)(r)||(t.polylineVolume=r=new bt.Z),Ce(r,"positions",n.positions,i),function(t,e,i,o){if((0,f.Z)(i))if(Array.isArray(i))for(let n=0,s=i.length;n<s;n++)fe(t,e,i[n],o);else fe(t,e,i,o)}(r,"shape",n.shape,i),de(Boolean,r,"show",n.show,s,o,i),de(d.Z,r,"cornerType",n.cornerType,s,o,i),de(Boolean,r,"fill",n.fill,s,o,i),me(r,"material",n.material,s,o,i),de(Boolean,r,"outline",n.outline,s,o,i),de(h.Z,r,"outlineColor",n.outlineColor,s,o,i),de(Number,r,"outlineWidth",n.outlineWidth,s,o,i),de(Number,r,"granularity",n.granularity,s,o,i),de(F.Z,r,"shadows",n.shadows,s,o,i),de(m.Z,r,"distanceDisplayCondition",n.distanceDisplayCondition,s,o,i)},function(t,e,i,o){const n=e.properties;if((0,f.Z)(n)){(0,f.Z)(t.properties)||(t.properties=new Pt.Z);for(const e in n)if(n.hasOwnProperty(e)){t.properties.hasProperty(e)||t.properties.addProperty(e);const s=n[e];if(Array.isArray(s))for(let n=0,r=s.length;n<r;++n)ce(te(s[n]),t.properties,e,s[n],void 0,o,i);else ce(te(s),t.properties,e,s,void 0,o,i)}}},function(t,e,i,o){const n=e.rectangle;if(!(0,f.Z)(n))return;const s=se(n.interval);let r=t.rectangle;(0,f.Z)(r)||(t.rectangle=r=new Et.Z),de(Boolean,r,"show",n.show,s,o,i),de(I.Z,r,"coordinates",n.coordinates,s,o,i),de(Number,r,"height",n.height,s,o,i),de(k.Z,r,"heightReference",n.heightReference,s,o,i),de(Number,r,"extrudedHeight",n.extrudedHeight,s,o,i),de(k.Z,r,"extrudedHeightReference",n.extrudedHeightReference,s,o,i),de(Rt.Z,r,"rotation",n.rotation,s,o,i),de(Rt.Z,r,"stRotation",n.stRotation,s,o,i),de(Number,r,"granularity",n.granularity,s,o,i),de(Boolean,r,"fill",n.fill,s,o,i),me(r,"material",n.material,s,o,i),de(Boolean,r,"outline",n.outline,s,o,i),de(h.Z,r,"outlineColor",n.outlineColor,s,o,i),de(Number,r,"outlineWidth",n.outlineWidth,s,o,i),de(F.Z,r,"shadows",n.shadows,s,o,i),de(m.Z,r,"distanceDisplayCondition",n.distanceDisplayCondition,s,o,i),de(U.Z,r,"classificationType",n.classificationType,s,o,i),de(Number,r,"zIndex",n.zIndex,s,o,i)},function(t,e,i,o){const n=e.position;(0,f.Z)(n)&&Ze(t,"position",n,void 0,0,i)},function(t,e,i,o){const n=e.tileset;if(!(0,f.Z)(n))return;const s=se(n.interval);let r=t.tileset;(0,f.Z)(r)||(t.tileset=r=new kt.Z),de(Boolean,r,"show",n.show,s,o,i),de(j.Z,r,"uri",n.uri,s,o,i),de(Number,r,"maximumScreenSpaceError",n.maximumScreenSpaceError,s,o,i)},function(t,e,i,o){const n=e.viewFrom;(0,f.Z)(n)&&de(r.Z,t,"viewFrom",n,void 0,o,i)},function(t,e,i,o){const n=e.wall;if(!(0,f.Z)(n))return;const s=se(n.interval);let r=t.wall;(0,f.Z)(r)||(t.wall=r=new Bt.Z),de(Boolean,r,"show",n.show,s,o,i),Ce(r,"positions",n.positions,i),ve(r,"minimumHeights",n.minimumHeights,i),ve(r,"maximumHeights",n.maximumHeights,i),de(Number,r,"granularity",n.granularity,s,o,i),de(Boolean,r,"fill",n.fill,s,o,i),me(r,"material",n.material,s,o,i),de(Boolean,r,"outline",n.outline,s,o,i),de(h.Z,r,"outlineColor",n.outlineColor,s,o,i),de(Number,r,"outlineWidth",n.outlineWidth,s,o,i),de(F.Z,r,"shadows",n.shadows,s,o,i),de(m.Z,r,"distanceDisplayCondition",n.distanceDisplayCondition,s,o,i)},function(t,e,i,o){const n=e.orientation;(0,f.Z)(n)&&de(R.Z,t,"orientation",n,void 0,o,i)},function(t,e,i,o){const n=e.availability;if(!(0,f.Z)(n))return;let s;if(Array.isArray(n))for(let t=0,e=n.length;t<e;++t)(0,f.Z)(s)||(s=new L.Z),s.addInterval(se(n[t]));else s=new L.Z,s.addInterval(se(n));t.availability=s}],Te.prototype.process=function(t,e){return Me(this,t,e,!1)},Te.prototype.load=function(t,e){return Me(this,t,e,!0)},Te.prototype.update=function(t){return!0},Te.processPacketData=de,Te.processPositionPacketData=Ze,Te.processMaterialPacketData=me,Te._processCzml=function(t,e,i,o,n){if(o=(0,Z.Z)(o,Te.updaters),Array.isArray(t))for(let s=0,r=t.length;s<r;++s)Ie(t[s],e,o,i,n);else Ie(t,e,o,i,n)};const Ae=Te},27979:(t,e,i)=>{i.d(e,{Z:()=>s});var o=i(20176);function n(){o.Z.throwInstantiationError()}Object.defineProperties(n.prototype,{name:{get:o.Z.throwInstantiationError},clock:{get:o.Z.throwInstantiationError},entities:{get:o.Z.throwInstantiationError},isLoading:{get:o.Z.throwInstantiationError},changedEvent:{get:o.Z.throwInstantiationError},errorEvent:{get:o.Z.throwInstantiationError},loadingEvent:{get:o.Z.throwInstantiationError},show:{get:o.Z.throwInstantiationError},clustering:{get:o.Z.throwInstantiationError}}),n.prototype.update=function(t){o.Z.throwInstantiationError()},n.setLoading=function(t,e){t._isLoading!==e&&(e?t._entityCollection.suspendEvents():t._entityCollection.resumeEvents(),t._isLoading=e,t._loading.raiseEvent(t,e))};const s=n},58740:(t,e,i)=>{i.d(e,{Z:()=>d});var o=i(12384),n=i(88779),s=i(54485),r=i(20176),a=i(92893),l=i(97262),c=i(64896);function h(){this._definitionChanged=new a.Z,this._startTime=void 0,this._stopTime=void 0,this._currentTime=void 0,this._clockRange=void 0,this._clockStep=void 0,this._multiplier=void 0}Object.defineProperties(h.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},startTime:(0,c.Z)("startTime"),stopTime:(0,c.Z)("stopTime"),currentTime:(0,c.Z)("currentTime"),clockRange:(0,c.Z)("clockRange"),clockStep:(0,c.Z)("clockStep"),multiplier:(0,c.Z)("multiplier")}),h.prototype.clone=function(t){return(0,s.Z)(t)||(t=new h),t.startTime=this.startTime,t.stopTime=this.stopTime,t.currentTime=this.currentTime,t.clockRange=this.clockRange,t.clockStep=this.clockStep,t.multiplier=this.multiplier,t},h.prototype.equals=function(t){return this===t||(0,s.Z)(t)&&l.Z.equals(this.startTime,t.startTime)&&l.Z.equals(this.stopTime,t.stopTime)&&l.Z.equals(this.currentTime,t.currentTime)&&this.clockRange===t.clockRange&&this.clockStep===t.clockStep&&this.multiplier===t.multiplier},h.prototype.merge=function(t){if(!(0,s.Z)(t))throw new r.Z("source is required.");this.startTime=(0,n.Z)(this.startTime,t.startTime),this.stopTime=(0,n.Z)(this.stopTime,t.stopTime),this.currentTime=(0,n.Z)(this.currentTime,t.currentTime),this.clockRange=(0,n.Z)(this.clockRange,t.clockRange),this.clockStep=(0,n.Z)(this.clockStep,t.clockStep),this.multiplier=(0,n.Z)(this.multiplier,t.multiplier)},h.prototype.getValue=function(t){return(0,s.Z)(t)||(t=new o.Z),t.startTime=(0,n.Z)(this.startTime,t.startTime),t.stopTime=(0,n.Z)(this.stopTime,t.stopTime),t.currentTime=(0,n.Z)(this.currentTime,t.currentTime),t.clockRange=(0,n.Z)(this.clockRange,t.clockRange),t.multiplier=(0,n.Z)(this.multiplier,t.multiplier),t.clockStep=(0,n.Z)(this.clockStep,t.clockStep),t};const d=h},42679:(t,e,i)=>{i.d(e,{Z:()=>u});var o=i(88779),n=i(54485),s=i(90332),r=i(20176),a=i(92893),l=i(22874);function c(){this._dataSources=[],this._dataSourceAdded=new a.Z,this._dataSourceRemoved=new a.Z,this._dataSourceMoved=new a.Z}function h(t,e){if(!(0,n.Z)(e))throw new r.Z("dataSource is required.");const i=t.indexOf(e);if(-1===i)throw new r.Z("dataSource is not in this collection.");return i}function d(t,e,i){const o=t._dataSources,n=o.length-1;if((e=l.Z.clamp(e,0,n))===(i=l.Z.clamp(i,0,n)))return;const s=o[e];o[e]=o[i],o[i]=s,t.dataSourceMoved.raiseEvent(s,i,e)}Object.defineProperties(c.prototype,{length:{get:function(){return this._dataSources.length}},dataSourceAdded:{get:function(){return this._dataSourceAdded}},dataSourceRemoved:{get:function(){return this._dataSourceRemoved}},dataSourceMoved:{get:function(){return this._dataSourceMoved}}}),c.prototype.add=function(t){if(!(0,n.Z)(t))throw new r.Z("dataSource is required.");const e=this,i=this._dataSources;return Promise.resolve(t).then((function(t){return i===e._dataSources&&(e._dataSources.push(t),e._dataSourceAdded.raiseEvent(e,t)),t}))},c.prototype.remove=function(t,e){e=(0,o.Z)(e,!1);const i=this._dataSources.indexOf(t);return-1!==i&&(this._dataSources.splice(i,1),this._dataSourceRemoved.raiseEvent(this,t),e&&"function"==typeof t.destroy&&t.destroy(),!0)},c.prototype.removeAll=function(t){t=(0,o.Z)(t,!1);const e=this._dataSources;for(let i=0,o=e.length;i<o;++i){const o=e[i];this._dataSourceRemoved.raiseEvent(this,o),t&&"function"==typeof o.destroy&&o.destroy()}this._dataSources=[]},c.prototype.contains=function(t){return-1!==this.indexOf(t)},c.prototype.indexOf=function(t){return this._dataSources.indexOf(t)},c.prototype.get=function(t){if(!(0,n.Z)(t))throw new r.Z("index is required.");return this._dataSources[t]},c.prototype.getByName=function(t){if(!(0,n.Z)(t))throw new r.Z("name is required.");return this._dataSources.filter((function(e){return e.name===t}))},c.prototype.raise=function(t){const e=h(this._dataSources,t);d(this,e,e+1)},c.prototype.lower=function(t){const e=h(this._dataSources,t);d(this,e,e-1)},c.prototype.raiseToTop=function(t){const e=h(this._dataSources,t);e!==this._dataSources.length-1&&(this._dataSources.splice(e,1),this._dataSources.push(t),this.dataSourceMoved.raiseEvent(t,this._dataSources.length-1,e))},c.prototype.lowerToBottom=function(t){const e=h(this._dataSources,t);0!==e&&(this._dataSources.splice(e,1),this._dataSources.splice(0,0,t),this.dataSourceMoved.raiseEvent(t,0,e))},c.prototype.isDestroyed=function(){return!1},c.prototype.destroy=function(){return this.removeAll(!0),(0,s.Z)(this)};const u=c},96161:(t,e,i)=>{i.d(e,{Z:()=>P});var o=i(93237),n=i(52351),s=i(17497),r=i(88779),a=i(54485),l=i(90332),c=i(18091),h=i(94193),d=i(63333),u=i(25936),p=i(87613),Z=i(38942),f=i(87546),_=i(38754),m=i(89425),g=i(13822),y=i(73112),v=i(57843),w=i(76015),C=i(9686),b=i(70184);function O(t){s.Z.typeOf.object("options",t),s.Z.typeOf.object("options.scene",t.scene),s.Z.typeOf.object("options.dataSourceCollection",t.dataSourceCollection),d.Z.initializeTerrainHeights(),h.Z.initializeTerrainHeights();const e=t.scene,i=t.dataSourceCollection;this._eventHelper=new c.Z,this._eventHelper.add(i.dataSourceAdded,this._onDataSourceAdded,this),this._eventHelper.add(i.dataSourceRemoved,this._onDataSourceRemoved,this),this._eventHelper.add(i.dataSourceMoved,this._onDataSourceMoved,this),this._eventHelper.add(e.postRender,this._postRender,this),this._dataSourceCollection=i,this._scene=e,this._visualizersCallback=(0,r.Z)(t.visualizersCallback,O.defaultVisualizersCallback);let o=!1;const n=new p.Z,a=new p.Z;i.length>0&&(e.primitives.add(n),e.groundPrimitives.add(a),o=!0),this._primitives=n,this._groundPrimitives=a;for(let t=0,e=i.length;t<e;t++)this._onDataSourceAdded(i,i.get(t));const l=new _.Z;let u,Z;if(this._onDataSourceAdded(void 0,l),this._defaultDataSource=l,!o){const t=this,o=function(){e.primitives.add(n),e.groundPrimitives.add(a),u(),Z(),t._removeDefaultDataSourceListener=void 0,t._removeDataSourceCollectionListener=void 0};u=l.entities.collectionChanged.addEventListener(o),Z=i.dataSourceAdded.addEventListener(o)}this._removeDefaultDataSourceListener=u,this._removeDataSourceCollectionListener=Z,this._ready=!1}O.defaultVisualizersCallback=function(t,e,i){const o=i.entities;return[new Z.Z(e,o),new m.Z(t,o,i._primitives,i._groundPrimitives),new g.Z(e,o),new y.Z(t,o),new v.Z(t,o),new C.Z(e,o),new w.Z(t,o),new b.Z(t,o,i._primitives,i._groundPrimitives)]},Object.defineProperties(O.prototype,{scene:{get:function(){return this._scene}},dataSources:{get:function(){return this._dataSourceCollection}},defaultDataSource:{get:function(){return this._defaultDataSource}},ready:{get:function(){return this._ready}}}),O.prototype.isDestroyed=function(){return!1},O.prototype.destroy=function(){this._eventHelper.removeAll();const t=this._dataSourceCollection;for(let e=0,i=t.length;e<i;++e)this._onDataSourceRemoved(this._dataSourceCollection,t.get(e));return this._onDataSourceRemoved(void 0,this._defaultDataSource),(0,a.Z)(this._removeDefaultDataSourceListener)?(this._removeDefaultDataSourceListener(),this._removeDataSourceCollectionListener()):(this._scene.primitives.remove(this._primitives),this._scene.groundPrimitives.remove(this._groundPrimitives)),(0,l.Z)(this)},O.prototype.update=function(t){if(s.Z.defined("time",t),!o.Z.initialized)return this._ready=!1,!1;let e,i,n,r,l=!0;const c=this._dataSourceCollection,h=c.length;for(e=0;e<h;e++){const o=c.get(e);for((0,a.Z)(o.update)&&(l=o.update(t)&&l),n=o._visualizers,r=n.length,i=0;i<r;i++)l=n[i].update(t)&&l}for(n=this._defaultDataSource._visualizers,r=n.length,i=0;i<r;i++)l=n[i].update(t)&&l;return this._ready=l,l},O.prototype._postRender=function(){const t=this._scene.frameState,e=this._dataSourceCollection,i=e.length;for(let o=0;o<i;o++){const i=e.get(o),n=i.credit;(0,a.Z)(n)&&t.creditDisplay.addCredit(n);const s=i._resourceCredits;if((0,a.Z)(s)){const e=s.length;for(let i=0;i<e;i++)t.creditDisplay.addCredit(s[i])}}};const D=[],S=new n.Z;O.prototype.getBoundingSphere=function(t,e,i){if(s.Z.defined("entity",t),s.Z.typeOf.bool("allowPartial",e),s.Z.defined("result",i),!this._ready)return f.Z.PENDING;let o,r,l=this._defaultDataSource;if(!l.entities.contains(t)){l=void 0;const e=this._dataSourceCollection;for(r=e.length,o=0;o<r;o++){const i=e.get(o);if(i.entities.contains(t)){l=i;break}}}if(!(0,a.Z)(l))return f.Z.FAILED;const c=D,h=S;let d=0,u=f.Z.DONE;const p=l._visualizers,Z=p.length;for(o=0;o<Z;o++){const i=p[o];if((0,a.Z)(i.getBoundingSphere)){if(u=p[o].getBoundingSphere(t,h),!e&&u===f.Z.PENDING)return f.Z.PENDING;u===f.Z.DONE&&(c[d]=n.Z.clone(h,c[d]),d++)}}return 0===d?f.Z.FAILED:(c.length=d,n.Z.fromBoundingSpheres(c,i),f.Z.DONE)},O.prototype._onDataSourceAdded=function(t,e){const i=this._scene,o=this._primitives,n=this._groundPrimitives,s=o.add(new p.Z),r=n.add(new u.Z);e._primitives=s,e._groundPrimitives=r;const a=e.clustering;a._initialize(i),s.add(a),e._visualizers=this._visualizersCallback(i,a,e)},O.prototype._onDataSourceRemoved=function(t,e){const i=this._primitives,o=this._groundPrimitives,n=e._primitives,s=e._groundPrimitives,r=e.clustering;n.remove(r);const a=e._visualizers,l=a.length;for(let t=0;t<l;t++)a[t].destroy();i.remove(n),o.remove(s),e._visualizers=void 0},O.prototype._onDataSourceMoved=function(t,e,i){const o=this._primitives,n=this._groundPrimitives,s=t._primitives,r=t._groundPrimitives;e===i+1?(o.raise(s),n.raise(r)):e===i-1?(o.lower(s),n.lower(r)):0===e?(o.lowerToBottom(s),n.lowerToBottom(r),o.raise(s),n.raise(r)):(o.raiseToTop(s),n.raiseToTop(r))};const P=O},48435:(t,e,i)=>{i.d(e,{Z:()=>a});var o=i(28474),n=i(54485),s=i(87546);function r(t,e){this._primitives=t,this._orderedGroundPrimitives=e,this._dynamicUpdaters=new o.Z}r.prototype.add=function(t,e){this._dynamicUpdaters.set(e.id,e.createDynamicUpdater(this._primitives,this._orderedGroundPrimitives))},r.prototype.remove=function(t){const e=t.id,i=this._dynamicUpdaters.get(e);(0,n.Z)(i)&&(this._dynamicUpdaters.remove(e),i.destroy())},r.prototype.update=function(t){const e=this._dynamicUpdaters.values;for(let i=0,o=e.length;i<o;i++)e[i].update(t);return!0},r.prototype.removeAllPrimitives=function(){const t=this._dynamicUpdaters.values;for(let e=0,i=t.length;e<i;e++)t[e].destroy();this._dynamicUpdaters.removeAll()},r.prototype.getBoundingSphere=function(t,e){return t=this._dynamicUpdaters.get(t.id),(0,n.Z)(t)&&(0,n.Z)(t.getBoundingSphere)?t.getBoundingSphere(e):s.Z.FAILED};const a=r},58034:(t,e,i)=>{i.d(e,{Z:()=>m});var o=i(52351),n=i(17497),s=i(54485),r=i(90332),a=i(20176),l=i(63333),c=i(41656),h=i(73020),d=i(27401),u=i(87546),p=i(3334),Z=i(39613),f=i(19157);function _(t,e,i){n.Z.defined("geometryUpdater",t),n.Z.defined("primitives",e),n.Z.defined("orderedGroundPrimitives",i),this._primitives=e,this._orderedGroundPrimitives=i,this._primitive=void 0,this._outlinePrimitive=void 0,this._geometryUpdater=t,this._options=t._options,this._entity=t._entity,this._material=void 0}_.prototype._isHidden=function(t,e,i){return!t.isShowing||!t.isAvailable(i)||!f.Z.getValueOrDefault(e.show,i,!0)},_.prototype._setOptions=a.Z.throwInstantiationError,_.prototype.update=function(t){n.Z.defined("time",t);const e=this._geometryUpdater,i=e._onTerrain,o=this._primitives,r=this._orderedGroundPrimitives;i?r.remove(this._primitive):(o.removeAndDestroy(this._primitive),o.removeAndDestroy(this._outlinePrimitive),this._outlinePrimitive=void 0),this._primitive=void 0;const a=this._entity,u=a[this._geometryUpdater._geometryPropertyName];if(this._setOptions(a,u,t),this._isHidden(a,u,t))return;const _=this._geometryUpdater.shadowsProperty.getValue(t),m=this._options;if(!(0,s.Z)(u.fill)||u.fill.getValue(t)){const n=e.fillMaterialProperty,s=n instanceof p.Z;let a;const u=e._getIsClosed(m);if(s)a=new h.Z({closed:u,flat:i&&!e._supportsMaterialsforEntitiesOnTerrain});else{const e=Z.Z.getValue(t,n,this._material);this._material=e,a=new c.Z({material:e,translucent:e.isTranslucent(),closed:u})}if(i)m.vertexFormat=h.Z.VERTEX_FORMAT,this._primitive=r.add(new l.Z({geometryInstances:this._geometryUpdater.createFillGeometryInstance(t),appearance:a,asynchronous:!1,shadows:_,classificationType:this._geometryUpdater.classificationTypeProperty.getValue(t)}),f.Z.getValueOrUndefined(this._geometryUpdater.zIndex,t));else{m.vertexFormat=a.vertexFormat;const e=this._geometryUpdater.createFillGeometryInstance(t);s&&(a.translucent=255!==e.attributes.color.value[3]),this._primitive=o.add(new d.Z({geometryInstances:e,appearance:a,asynchronous:!1,shadows:_}))}}if(!i&&(0,s.Z)(u.outline)&&u.outline.getValue(t)){const i=this._geometryUpdater.createOutlineGeometryInstance(t),n=f.Z.getValueOrDefault(u.outlineWidth,t,1);this._outlinePrimitive=o.add(new d.Z({geometryInstances:i,appearance:new h.Z({flat:!0,translucent:255!==i.attributes.color.value[3],renderState:{lineWidth:e._scene.clampLineWidth(n)}}),asynchronous:!1,shadows:_}))}},_.prototype.getBoundingSphere=function(t){if(!(0,s.Z)(t))throw new a.Z("result is required.");const e=this._entity,i=this._primitive,n=this._outlinePrimitive;let r;return(0,s.Z)(i)&&i.show&&i.ready&&(r=i.getGeometryInstanceAttributes(e),(0,s.Z)(r)&&(0,s.Z)(r.boundingSphere))||(0,s.Z)(n)&&n.show&&n.ready&&(r=n.getGeometryInstanceAttributes(e),(0,s.Z)(r)&&(0,s.Z)(r.boundingSphere))?(o.Z.clone(r.boundingSphere,t),u.Z.DONE):(0,s.Z)(i)&&!i.ready||(0,s.Z)(n)&&!n.ready?u.Z.PENDING:u.Z.FAILED},_.prototype.isDestroyed=function(){return!1},_.prototype.destroy=function(){const t=this._primitives,e=this._orderedGroundPrimitives;this._geometryUpdater._onTerrain?e.remove(this._primitive):t.removeAndDestroy(this._primitive),t.removeAndDestroy(this._outlinePrimitive),(0,r.Z)(this)};const m=_},45943:(t,e,i)=>{i.d(e,{Z:()=>V});var o=i(93237),n=i(93517),s=i(17497),r=i(6785),a=i(41631),l=i(54485),c=i(20176),h=i(64493),d=i(43309),u=i(46620),p=i(78224),Z=i(18926),f=i(6206),_=i(34152),m=i(9008),g=i(16272),y=i(41656),v=i(73020),w=i(3334),C=i(58034),b=i(31969),O=i(47106),D=i(19157);const S=new r.Z,P=n.Z.ZERO,E=new n.Z,x=new _.Z;function R(t){this.id=t,this.vertexFormat=void 0,this.center=void 0,this.semiMajorAxis=void 0,this.semiMinorAxis=void 0,this.rotation=void 0,this.height=void 0,this.extrudedHeight=void 0,this.granularity=void 0,this.stRotation=void 0,this.numberOfVerticalLines=void 0,this.offsetAttribute=void 0}function I(t,e){O.Z.call(this,{entity:t,scene:e,geometryOptions:new R(t),geometryPropertyName:"ellipse",observedPropertyNames:["availability","position","ellipse"]}),this._onEntityPropertyChanged(t,"ellipse",t.ellipse,void 0)}function M(t,e,i){C.Z.call(this,t,e,i)}(0,l.Z)(Object.create)&&(I.prototype=Object.create(O.Z.prototype),I.prototype.constructor=I),I.prototype.createFillGeometryInstance=function(t){if(s.Z.defined("time",t),!this._fillEnabled)throw new c.Z("This instance does not represent a filled geometry.");const e=this._entity,i=e.isAvailable(t),o={show:new m.Z(i&&e.isShowing&&this._showProperty.getValue(t)&&this._fillProperty.getValue(t)),distanceDisplayCondition:h.Z.fromDistanceDisplayCondition(this._distanceDisplayConditionProperty.getValue(t)),offset:void 0,color:void 0};if(this._materialProperty instanceof w.Z){let e;(0,l.Z)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||i)&&(e=this._materialProperty.color.getValue(t,S)),(0,l.Z)(e)||(e=r.Z.WHITE),o.color=a.Z.fromColor(e)}return(0,l.Z)(this._options.offsetAttribute)&&(o.offset=f.Z.fromCartesian3(D.Z.getValueOrDefault(this._terrainOffsetProperty,t,P,E))),new p.Z({id:e,geometry:new d.Z(this._options),attributes:o})},I.prototype.createOutlineGeometryInstance=function(t){if(s.Z.defined("time",t),!this._outlineEnabled)throw new c.Z("This instance does not represent an outlined geometry.");const e=this._entity,i=e.isAvailable(t),o=D.Z.getValueOrDefault(this._outlineColorProperty,t,r.Z.BLACK,S),n=this._distanceDisplayConditionProperty.getValue(t),d={show:new m.Z(i&&e.isShowing&&this._showProperty.getValue(t)&&this._showOutlineProperty.getValue(t)),color:a.Z.fromColor(o),distanceDisplayCondition:h.Z.fromDistanceDisplayCondition(n),offset:void 0};return(0,l.Z)(this._options.offsetAttribute)&&(d.offset=f.Z.fromCartesian3(D.Z.getValueOrDefault(this._terrainOffsetProperty,t,P,E))),new p.Z({id:e,geometry:new u.Z(this._options),attributes:d})},I.prototype._computeCenter=function(t,e){return D.Z.getValueOrUndefined(this._entity.position,t,e)},I.prototype._isHidden=function(t,e){const i=t.position;return!(0,l.Z)(i)||!(0,l.Z)(e.semiMajorAxis)||!(0,l.Z)(e.semiMinorAxis)||b.Z.prototype._isHidden.call(this,t,e)},I.prototype._isDynamic=function(t,e){return!t.position.isConstant||!e.semiMajorAxis.isConstant||!e.semiMinorAxis.isConstant||!D.Z.isConstant(e.rotation)||!D.Z.isConstant(e.height)||!D.Z.isConstant(e.extrudedHeight)||!D.Z.isConstant(e.granularity)||!D.Z.isConstant(e.stRotation)||!D.Z.isConstant(e.outlineWidth)||!D.Z.isConstant(e.numberOfVerticalLines)||!D.Z.isConstant(e.zIndex)||this._onTerrain&&!D.Z.isConstant(this._materialProperty)&&!(this._materialProperty instanceof w.Z)},I.prototype._setStaticOptions=function(t,e){let i=D.Z.getValueOrUndefined(e.height,Z.Z.MINIMUM_VALUE);const n=D.Z.getValueOrDefault(e.heightReference,Z.Z.MINIMUM_VALUE,g.Z.NONE);let s=D.Z.getValueOrUndefined(e.extrudedHeight,Z.Z.MINIMUM_VALUE);const r=D.Z.getValueOrDefault(e.extrudedHeightReference,Z.Z.MINIMUM_VALUE,g.Z.NONE);(0,l.Z)(s)&&!(0,l.Z)(i)&&(i=0);const a=this._options;a.vertexFormat=this._materialProperty instanceof w.Z?v.Z.VERTEX_FORMAT:y.Z.MaterialSupport.TEXTURED.vertexFormat,a.center=t.position.getValue(Z.Z.MINIMUM_VALUE,a.center),a.semiMajorAxis=e.semiMajorAxis.getValue(Z.Z.MINIMUM_VALUE,a.semiMajorAxis),a.semiMinorAxis=e.semiMinorAxis.getValue(Z.Z.MINIMUM_VALUE,a.semiMinorAxis),a.rotation=D.Z.getValueOrUndefined(e.rotation,Z.Z.MINIMUM_VALUE),a.granularity=D.Z.getValueOrUndefined(e.granularity,Z.Z.MINIMUM_VALUE),a.stRotation=D.Z.getValueOrUndefined(e.stRotation,Z.Z.MINIMUM_VALUE),a.numberOfVerticalLines=D.Z.getValueOrUndefined(e.numberOfVerticalLines,Z.Z.MINIMUM_VALUE),a.offsetAttribute=O.Z.computeGeometryOffsetAttribute(i,n,s,r),a.height=O.Z.getGeometryHeight(i,n),s=O.Z.getGeometryExtrudedHeight(s,r),s===O.Z.CLAMP_TO_GROUND&&(s=o.Z.getMinimumMaximumHeights(d.Z.computeRectangle(a,x)).minimumTerrainHeight),a.extrudedHeight=s},I.DynamicGeometryUpdater=M,(0,l.Z)(Object.create)&&(M.prototype=Object.create(C.Z.prototype),M.prototype.constructor=M),M.prototype._isHidden=function(t,e,i){const o=this._options;return!(0,l.Z)(o.center)||!(0,l.Z)(o.semiMajorAxis)||!(0,l.Z)(o.semiMinorAxis)||C.Z.prototype._isHidden.call(this,t,e,i)},M.prototype._setOptions=function(t,e,i){const n=this._options;let s=D.Z.getValueOrUndefined(e.height,i);const r=D.Z.getValueOrDefault(e.heightReference,i,g.Z.NONE);let a=D.Z.getValueOrUndefined(e.extrudedHeight,i);const c=D.Z.getValueOrDefault(e.extrudedHeightReference,i,g.Z.NONE);(0,l.Z)(a)&&!(0,l.Z)(s)&&(s=0),n.center=D.Z.getValueOrUndefined(t.position,i,n.center),n.semiMajorAxis=D.Z.getValueOrUndefined(e.semiMajorAxis,i),n.semiMinorAxis=D.Z.getValueOrUndefined(e.semiMinorAxis,i),n.rotation=D.Z.getValueOrUndefined(e.rotation,i),n.granularity=D.Z.getValueOrUndefined(e.granularity,i),n.stRotation=D.Z.getValueOrUndefined(e.stRotation,i),n.numberOfVerticalLines=D.Z.getValueOrUndefined(e.numberOfVerticalLines,i),n.offsetAttribute=O.Z.computeGeometryOffsetAttribute(s,r,a,c),n.height=O.Z.getGeometryHeight(s,r),a=O.Z.getGeometryExtrudedHeight(a,c),a===O.Z.CLAMP_TO_GROUND&&(a=o.Z.getMinimumMaximumHeights(d.Z.computeRectangle(n,x)).minimumTerrainHeight),n.extrudedHeight=a};const V=I},8171:(t,e,i)=>{i.d(e,{Z:()=>h});var o=i(88779),n=i(54485),s=i(20176),r=i(92893),a=i(78731),l=i(37105);function c(t){this._definitionChanged=new r.Z,this._show=void 0,this._showSubscription=void 0,this._semiMajorAxis=void 0,this._semiMajorAxisSubscription=void 0,this._semiMinorAxis=void 0,this._semiMinorAxisSubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._extrudedHeight=void 0,this._extrudedHeightSubscription=void 0,this._extrudedHeightReference=void 0,this._extrudedHeightReferenceSubscription=void 0,this._rotation=void 0,this._rotationSubscription=void 0,this._stRotation=void 0,this._stRotationSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._numberOfVerticalLines=void 0,this._numberOfVerticalLinesSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this.merge((0,o.Z)(t,o.Z.EMPTY_OBJECT))}Object.defineProperties(c.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:(0,l.Z)("show"),semiMajorAxis:(0,l.Z)("semiMajorAxis"),semiMinorAxis:(0,l.Z)("semiMinorAxis"),height:(0,l.Z)("height"),heightReference:(0,l.Z)("heightReference"),extrudedHeight:(0,l.Z)("extrudedHeight"),extrudedHeightReference:(0,l.Z)("extrudedHeightReference"),rotation:(0,l.Z)("rotation"),stRotation:(0,l.Z)("stRotation"),granularity:(0,l.Z)("granularity"),fill:(0,l.Z)("fill"),material:(0,a.Z)("material"),outline:(0,l.Z)("outline"),outlineColor:(0,l.Z)("outlineColor"),outlineWidth:(0,l.Z)("outlineWidth"),numberOfVerticalLines:(0,l.Z)("numberOfVerticalLines"),shadows:(0,l.Z)("shadows"),distanceDisplayCondition:(0,l.Z)("distanceDisplayCondition"),classificationType:(0,l.Z)("classificationType"),zIndex:(0,l.Z)("zIndex")}),c.prototype.clone=function(t){return(0,n.Z)(t)?(t.show=this.show,t.semiMajorAxis=this.semiMajorAxis,t.semiMinorAxis=this.semiMinorAxis,t.height=this.height,t.heightReference=this.heightReference,t.extrudedHeight=this.extrudedHeight,t.extrudedHeightReference=this.extrudedHeightReference,t.rotation=this.rotation,t.stRotation=this.stRotation,t.granularity=this.granularity,t.fill=this.fill,t.material=this.material,t.outline=this.outline,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.numberOfVerticalLines=this.numberOfVerticalLines,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t.classificationType=this.classificationType,t.zIndex=this.zIndex,t):new c(this)},c.prototype.merge=function(t){if(!(0,n.Z)(t))throw new s.Z("source is required.");this.show=(0,o.Z)(this.show,t.show),this.semiMajorAxis=(0,o.Z)(this.semiMajorAxis,t.semiMajorAxis),this.semiMinorAxis=(0,o.Z)(this.semiMinorAxis,t.semiMinorAxis),this.height=(0,o.Z)(this.height,t.height),this.heightReference=(0,o.Z)(this.heightReference,t.heightReference),this.extrudedHeight=(0,o.Z)(this.extrudedHeight,t.extrudedHeight),this.extrudedHeightReference=(0,o.Z)(this.extrudedHeightReference,t.extrudedHeightReference),this.rotation=(0,o.Z)(this.rotation,t.rotation),this.stRotation=(0,o.Z)(this.stRotation,t.stRotation),this.granularity=(0,o.Z)(this.granularity,t.granularity),this.fill=(0,o.Z)(this.fill,t.fill),this.material=(0,o.Z)(this.material,t.material),this.outline=(0,o.Z)(this.outline,t.outline),this.outlineColor=(0,o.Z)(this.outlineColor,t.outlineColor),this.outlineWidth=(0,o.Z)(this.outlineWidth,t.outlineWidth),this.numberOfVerticalLines=(0,o.Z)(this.numberOfVerticalLines,t.numberOfVerticalLines),this.shadows=(0,o.Z)(this.shadows,t.shadows),this.distanceDisplayCondition=(0,o.Z)(this.distanceDisplayCondition,t.distanceDisplayCondition),this.classificationType=(0,o.Z)(this.classificationType,t.classificationType),this.zIndex=(0,o.Z)(this.zIndex,t.zIndex)};const h=c},22601:(t,e,i)=>{i.d(e,{Z:()=>k});var o=i(93517),n=i(17497),s=i(6785),r=i(41631),a=i(88779),l=i(54485),c=i(51178),h=i(64493),d=i(31161),u=i(61695),p=i(78224),Z=i(97029),f=i(18926),_=i(71118),m=i(6206),g=i(9008),y=i(16272),v=i(41656),w=i(73020),C=i(27401),b=i(18061),O=i(3334),D=i(58034),S=i(31969),P=i(88163),E=i(39613),x=i(19157);const R=new O.Z(s.Z.WHITE),I=o.Z.ZERO,M=new o.Z,V=new o.Z,T=new o.Z,A=new s.Z,N=new o.Z(1,1,1);function L(t){this.id=t,this.vertexFormat=void 0,this.radii=void 0,this.innerRadii=void 0,this.minimumClock=void 0,this.maximumClock=void 0,this.minimumCone=void 0,this.maximumCone=void 0,this.stackPartitions=void 0,this.slicePartitions=void 0,this.subdivisions=void 0,this.offsetAttribute=void 0}function U(t,e){S.Z.call(this,{entity:t,scene:e,geometryOptions:new L(t),geometryPropertyName:"ellipsoid",observedPropertyNames:["availability","position","orientation","ellipsoid"]}),this._onEntityPropertyChanged(t,"ellipsoid",t.ellipsoid,void 0)}function B(t,e,i){D.Z.call(this,t,e,i),this._scene=t._scene,this._modelMatrix=new _.Z,this._attributes=void 0,this._outlineAttributes=void 0,this._lastSceneMode=void 0,this._lastShow=void 0,this._lastOutlineShow=void 0,this._lastOutlineWidth=void 0,this._lastOutlineColor=void 0,this._lastOffset=new o.Z,this._material={}}(0,l.Z)(Object.create)&&(U.prototype=Object.create(S.Z.prototype),U.prototype.constructor=U),Object.defineProperties(U.prototype,{terrainOffsetProperty:{get:function(){return this._terrainOffsetProperty}}}),U.prototype.createFillGeometryInstance=function(t,e,i){n.Z.defined("time",t);const o=this._entity,a=o.isAvailable(t);let c;const u=new g.Z(a&&o.isShowing&&this._showProperty.getValue(t)&&this._fillProperty.getValue(t)),Z=this._distanceDisplayConditionProperty.getValue(t),f={show:u,distanceDisplayCondition:h.Z.fromDistanceDisplayCondition(Z),color:void 0,offset:void 0};if(this._materialProperty instanceof O.Z){let e;(0,l.Z)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||a)&&(e=this._materialProperty.color.getValue(t,A)),(0,l.Z)(e)||(e=s.Z.WHITE),c=r.Z.fromColor(e),f.color=c}return(0,l.Z)(this._options.offsetAttribute)&&(f.offset=m.Z.fromCartesian3(x.Z.getValueOrDefault(this._terrainOffsetProperty,t,I,M))),new p.Z({id:o,geometry:new d.Z(this._options),modelMatrix:e?void 0:o.computeModelMatrixForHeightReference(t,o.ellipsoid.heightReference,.5*this._options.radii.z,this._scene.mapProjection.ellipsoid,i),attributes:f})},U.prototype.createOutlineGeometryInstance=function(t,e,i){n.Z.defined("time",t);const o=this._entity,a=o.isAvailable(t),c=x.Z.getValueOrDefault(this._outlineColorProperty,t,s.Z.BLACK,A),d=this._distanceDisplayConditionProperty.getValue(t),Z={show:new g.Z(a&&o.isShowing&&this._showProperty.getValue(t)&&this._showOutlineProperty.getValue(t)),color:r.Z.fromColor(c),distanceDisplayCondition:h.Z.fromDistanceDisplayCondition(d),offset:void 0};return(0,l.Z)(this._options.offsetAttribute)&&(Z.offset=m.Z.fromCartesian3(x.Z.getValueOrDefault(this._terrainOffsetProperty,t,I,M))),new p.Z({id:o,geometry:new u.Z(this._options),modelMatrix:e?void 0:o.computeModelMatrixForHeightReference(t,o.ellipsoid.heightReference,.5*this._options.radii.z,this._scene.mapProjection.ellipsoid,i),attributes:Z})},U.prototype._computeCenter=function(t,e){return x.Z.getValueOrUndefined(this._entity.position,t,e)},U.prototype._isHidden=function(t,e){return!(0,l.Z)(t.position)||!(0,l.Z)(e.radii)||S.Z.prototype._isHidden.call(this,t,e)},U.prototype._isDynamic=function(t,e){return!(t.position.isConstant&&x.Z.isConstant(t.orientation)&&e.radii.isConstant&&x.Z.isConstant(e.innerRadii)&&x.Z.isConstant(e.stackPartitions)&&x.Z.isConstant(e.slicePartitions)&&x.Z.isConstant(e.outlineWidth)&&x.Z.isConstant(e.minimumClock)&&x.Z.isConstant(e.maximumClock)&&x.Z.isConstant(e.minimumCone)&&x.Z.isConstant(e.maximumCone)&&x.Z.isConstant(e.subdivisions))},U.prototype._setStaticOptions=function(t,e){const i=x.Z.getValueOrDefault(e.heightReference,f.Z.MINIMUM_VALUE,y.Z.NONE),o=this._options;o.vertexFormat=this._materialProperty instanceof O.Z?w.Z.VERTEX_FORMAT:v.Z.MaterialSupport.TEXTURED.vertexFormat,o.radii=e.radii.getValue(f.Z.MINIMUM_VALUE,o.radii),o.innerRadii=x.Z.getValueOrUndefined(e.innerRadii,o.radii),o.minimumClock=x.Z.getValueOrUndefined(e.minimumClock,f.Z.MINIMUM_VALUE),o.maximumClock=x.Z.getValueOrUndefined(e.maximumClock,f.Z.MINIMUM_VALUE),o.minimumCone=x.Z.getValueOrUndefined(e.minimumCone,f.Z.MINIMUM_VALUE),o.maximumCone=x.Z.getValueOrUndefined(e.maximumCone,f.Z.MINIMUM_VALUE),o.stackPartitions=x.Z.getValueOrUndefined(e.stackPartitions,f.Z.MINIMUM_VALUE),o.slicePartitions=x.Z.getValueOrUndefined(e.slicePartitions,f.Z.MINIMUM_VALUE),o.subdivisions=x.Z.getValueOrUndefined(e.subdivisions,f.Z.MINIMUM_VALUE),o.offsetAttribute=i!==y.Z.NONE?Z.Z.ALL:void 0},U.prototype._onEntityPropertyChanged=P.Z,U.DynamicGeometryUpdater=B,(0,l.Z)(Object.create)&&(B.prototype=Object.create(D.Z.prototype),B.prototype.constructor=B),B.prototype.update=function(t){n.Z.defined("time",t);const e=this._entity,i=e.ellipsoid;if(!e.isShowing||!e.isAvailable(t)||!x.Z.getValueOrDefault(i.show,t,!0))return(0,l.Z)(this._primitive)&&(this._primitive.show=!1),void((0,l.Z)(this._outlinePrimitive)&&(this._outlinePrimitive.show=!1));const d=x.Z.getValueOrUndefined(i.radii,t,V);let u=(0,l.Z)(d)?e.computeModelMatrixForHeightReference(t,i.heightReference,.5*d.z,this._scene.mapProjection.ellipsoid,this._modelMatrix):void 0;if(!(0,l.Z)(u)||!(0,l.Z)(d))return(0,l.Z)(this._primitive)&&(this._primitive.show=!1),void((0,l.Z)(this._outlinePrimitive)&&(this._outlinePrimitive.show=!1));const p=x.Z.getValueOrDefault(i.fill,t,!0),f=x.Z.getValueOrDefault(i.outline,t,!1),O=x.Z.getValueOrClonedDefault(i.outlineColor,t,s.Z.BLACK,A),D=E.Z.getValue(t,(0,a.Z)(i.material,R),this._material),S=x.Z.getValueOrUndefined(i.innerRadii,t,T),P=x.Z.getValueOrUndefined(i.minimumClock,t),L=x.Z.getValueOrUndefined(i.maximumClock,t),U=x.Z.getValueOrUndefined(i.minimumCone,t),B=x.Z.getValueOrUndefined(i.maximumCone,t),k=x.Z.getValueOrUndefined(i.stackPartitions,t),H=x.Z.getValueOrUndefined(i.slicePartitions,t),z=x.Z.getValueOrUndefined(i.subdivisions,t),F=x.Z.getValueOrDefault(i.outlineWidth,t,1),W=x.Z.getValueOrDefault(i.heightReference,t,y.Z.NONE),j=W!==y.Z.NONE?Z.Z.ALL:void 0,q=this._scene.mode,G=q===b.Z.SCENE3D&&W===y.Z.NONE,X=this._options,$=this._geometryUpdater.shadowsProperty.getValue(t),J=this._geometryUpdater.distanceDisplayConditionProperty.getValue(t),Y=x.Z.getValueOrDefault(this._geometryUpdater.terrainOffsetProperty,t,I,M);if(!G||this._lastSceneMode!==q||!(0,l.Z)(this._primitive)||X.stackPartitions!==k||X.slicePartitions!==H||(0,l.Z)(S)&&!o.Z.equals(X.innerRadii!==S)||X.minimumClock!==P||X.maximumClock!==L||X.minimumCone!==U||X.maximumCone!==B||X.subdivisions!==z||this._lastOutlineWidth!==F||X.offsetAttribute!==j){const e=this._primitives;if(e.removeAndDestroy(this._primitive),e.removeAndDestroy(this._outlinePrimitive),this._primitive=void 0,this._outlinePrimitive=void 0,this._lastSceneMode=q,this._lastOutlineWidth=F,X.stackPartitions=k,X.slicePartitions=H,X.subdivisions=z,X.offsetAttribute=j,X.radii=o.Z.clone(G?N:d,X.radii),(0,l.Z)(S))if(G){const t=o.Z.magnitude(d);X.innerRadii=o.Z.fromElements(S.x/t,S.y/t,S.z/t,X.innerRadii)}else X.innerRadii=o.Z.clone(S,X.innerRadii);else X.innerRadii=void 0;X.minimumClock=P,X.maximumClock=L,X.minimumCone=U,X.maximumCone=B;const i=new v.Z({material:D,translucent:D.isTranslucent(),closed:!0});X.vertexFormat=i.vertexFormat;const n=this._geometryUpdater.createFillGeometryInstance(t,G,this._modelMatrix);this._primitive=e.add(new C.Z({geometryInstances:n,appearance:i,asynchronous:!1,shadows:$}));const r=this._geometryUpdater.createOutlineGeometryInstance(t,G,this._modelMatrix);this._outlinePrimitive=e.add(new C.Z({geometryInstances:r,appearance:new w.Z({flat:!0,translucent:255!==r.attributes.color.value[3],renderState:{lineWidth:this._geometryUpdater._scene.clampLineWidth(F)}}),asynchronous:!1,shadows:$})),this._lastShow=p,this._lastOutlineShow=f,this._lastOutlineColor=s.Z.clone(O,this._lastOutlineColor),this._lastDistanceDisplayCondition=J,this._lastOffset=o.Z.clone(Y,this._lastOffset)}else if(this._primitive.ready){const t=this._primitive,i=this._outlinePrimitive;t.show=!0,i.show=!0,t.appearance.material=D;let n=this._attributes;(0,l.Z)(n)||(n=t.getGeometryInstanceAttributes(e),this._attributes=n),p!==this._lastShow&&(n.show=g.Z.toValue(p,n.show),this._lastShow=p);let a=this._outlineAttributes;(0,l.Z)(a)||(a=i.getGeometryInstanceAttributes(e),this._outlineAttributes=a),f!==this._lastOutlineShow&&(a.show=g.Z.toValue(f,a.show),this._lastOutlineShow=f),s.Z.equals(O,this._lastOutlineColor)||(a.color=r.Z.toValue(O,a.color),s.Z.clone(O,this._lastOutlineColor)),c.Z.equals(J,this._lastDistanceDisplayCondition)||(n.distanceDisplayCondition=h.Z.toValue(J,n.distanceDisplayCondition),a.distanceDisplayCondition=h.Z.toValue(J,a.distanceDisplayCondition),c.Z.clone(J,this._lastDistanceDisplayCondition)),o.Z.equals(Y,this._lastOffset)||(n.offset=m.Z.toValue(Y,n.offset),a.offset=m.Z.toValue(Y,n.offset),o.Z.clone(Y,this._lastOffset))}G&&(d.x=Math.max(d.x,.001),d.y=Math.max(d.y,.001),d.z=Math.max(d.z,.001),u=_.Z.multiplyByScale(u,d,u),this._primitive.modelMatrix=u,this._outlinePrimitive.modelMatrix=u)};const k=U},67714:(t,e,i)=>{i.d(e,{Z:()=>h});var o=i(88779),n=i(54485),s=i(20176),r=i(92893),a=i(78731),l=i(37105);function c(t){this._definitionChanged=new r.Z,this._show=void 0,this._showSubscription=void 0,this._radii=void 0,this._radiiSubscription=void 0,this._innerRadii=void 0,this._innerRadiiSubscription=void 0,this._minimumClock=void 0,this._minimumClockSubscription=void 0,this._maximumClock=void 0,this._maximumClockSubscription=void 0,this._minimumCone=void 0,this._minimumConeSubscription=void 0,this._maximumCone=void 0,this._maximumConeSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._stackPartitions=void 0,this._stackPartitionsSubscription=void 0,this._slicePartitions=void 0,this._slicePartitionsSubscription=void 0,this._subdivisions=void 0,this._subdivisionsSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this.merge((0,o.Z)(t,o.Z.EMPTY_OBJECT))}Object.defineProperties(c.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:(0,l.Z)("show"),radii:(0,l.Z)("radii"),innerRadii:(0,l.Z)("innerRadii"),minimumClock:(0,l.Z)("minimumClock"),maximumClock:(0,l.Z)("maximumClock"),minimumCone:(0,l.Z)("minimumCone"),maximumCone:(0,l.Z)("maximumCone"),heightReference:(0,l.Z)("heightReference"),fill:(0,l.Z)("fill"),material:(0,a.Z)("material"),outline:(0,l.Z)("outline"),outlineColor:(0,l.Z)("outlineColor"),outlineWidth:(0,l.Z)("outlineWidth"),stackPartitions:(0,l.Z)("stackPartitions"),slicePartitions:(0,l.Z)("slicePartitions"),subdivisions:(0,l.Z)("subdivisions"),shadows:(0,l.Z)("shadows"),distanceDisplayCondition:(0,l.Z)("distanceDisplayCondition")}),c.prototype.clone=function(t){return(0,n.Z)(t)?(t.show=this.show,t.radii=this.radii,t.innerRadii=this.innerRadii,t.minimumClock=this.minimumClock,t.maximumClock=this.maximumClock,t.minimumCone=this.minimumCone,t.maximumCone=this.maximumCone,t.heightReference=this.heightReference,t.fill=this.fill,t.material=this.material,t.outline=this.outline,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.stackPartitions=this.stackPartitions,t.slicePartitions=this.slicePartitions,t.subdivisions=this.subdivisions,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t):new c(this)},c.prototype.merge=function(t){if(!(0,n.Z)(t))throw new s.Z("source is required.");this.show=(0,o.Z)(this.show,t.show),this.radii=(0,o.Z)(this.radii,t.radii),this.innerRadii=(0,o.Z)(this.innerRadii,t.innerRadii),this.minimumClock=(0,o.Z)(this.minimumClock,t.minimumClock),this.maximumClock=(0,o.Z)(this.maximumClock,t.maximumClock),this.minimumCone=(0,o.Z)(this.minimumCone,t.minimumCone),this.maximumCone=(0,o.Z)(this.maximumCone,t.maximumCone),this.heightReference=(0,o.Z)(this.heightReference,t.heightReference),this.fill=(0,o.Z)(this.fill,t.fill),this.material=(0,o.Z)(this.material,t.material),this.outline=(0,o.Z)(this.outline,t.outline),this.outlineColor=(0,o.Z)(this.outlineColor,t.outlineColor),this.outlineWidth=(0,o.Z)(this.outlineWidth,t.outlineWidth),this.stackPartitions=(0,o.Z)(this.stackPartitions,t.stackPartitions),this.slicePartitions=(0,o.Z)(this.slicePartitions,t.slicePartitions),this.subdivisions=(0,o.Z)(this.subdivisions,t.subdivisions),this.shadows=(0,o.Z)(this.shadows,t.shadows),this.distanceDisplayCondition=(0,o.Z)(this.distanceDisplayCondition,t.distanceDisplayCondition)};const h=c},34063:(t,e,i)=>{i.d(e,{Z:()=>J});var o=i(93517),n=i(66866),s=i(17497),r=i(93737),a=i(88779),l=i(54485),c=i(20176),h=i(92893),d=i(22874),u=i(39109),p=i(71118),Z=i(20291),f=i(7004),_=i(94193),m=i(63333),g=i(16272),y=i(53188),v=i(25780),w=i(30032),C=i(79780),b=i(37105),O=i(64896),D=i(59157),S=i(8171),P=i(67714),E=i(13056),x=i(99520),R=i(92251),I=i(83040),M=i(59564),V=i(72054),T=i(56728),A=i(37e3),N=i(5559),L=i(19157),U=i(1561),B=i(25163),k=i(29711);const H=new n.Z;function z(t){return new w.Z(t)}function F(t,e){return(0,b.Z)(t,void 0,(function(t){return t instanceof e?t:new e(t)}))}function W(t){let e=(t=(0,a.Z)(t,a.Z.EMPTY_OBJECT)).id;(0,l.Z)(e)||(e=(0,r.Z)()),this._availability=void 0,this._id=e,this._definitionChanged=new h.Z,this._name=t.name,this._show=(0,a.Z)(t.show,!0),this._parent=void 0,this._propertyNames=["billboard","box","corridor","cylinder","description","ellipse","ellipsoid","label","model","tileset","orientation","path","plane","point","polygon","polyline","polylineVolume","position","properties","rectangle","viewFrom","wall"],this._billboard=void 0,this._billboardSubscription=void 0,this._box=void 0,this._boxSubscription=void 0,this._corridor=void 0,this._corridorSubscription=void 0,this._cylinder=void 0,this._cylinderSubscription=void 0,this._description=void 0,this._descriptionSubscription=void 0,this._ellipse=void 0,this._ellipseSubscription=void 0,this._ellipsoid=void 0,this._ellipsoidSubscription=void 0,this._label=void 0,this._labelSubscription=void 0,this._model=void 0,this._modelSubscription=void 0,this._tileset=void 0,this._tilesetSubscription=void 0,this._orientation=void 0,this._orientationSubscription=void 0,this._path=void 0,this._pathSubscription=void 0,this._plane=void 0,this._planeSubscription=void 0,this._point=void 0,this._pointSubscription=void 0,this._polygon=void 0,this._polygonSubscription=void 0,this._polyline=void 0,this._polylineSubscription=void 0,this._polylineVolume=void 0,this._polylineVolumeSubscription=void 0,this._position=void 0,this._positionSubscription=void 0,this._properties=void 0,this._propertiesSubscription=void 0,this._rectangle=void 0,this._rectangleSubscription=void 0,this._viewFrom=void 0,this._viewFromSubscription=void 0,this._wall=void 0,this._wallSubscription=void 0,this._children=[],this.entityCollection=void 0,this.parent=t.parent,this.merge(t)}function j(t,e,i){const o=e.length;for(let t=0;t<o;t++){const o=e[t],n=o._show;(!i&&n)!==(i&&n)&&j(o,o._children,i)}t._definitionChanged.raiseEvent(t,"isShowing",i,!i)}var q;Object.defineProperties(W.prototype,{availability:(0,O.Z)("availability"),id:{get:function(){return this._id}},definitionChanged:{get:function(){return this._definitionChanged}},name:(0,O.Z)("name"),show:{get:function(){return this._show},set:function(t){if(!(0,l.Z)(t))throw new c.Z("value is required.");if(t===this._show)return;const e=this.isShowing;this._show=t;const i=this.isShowing;e!==i&&j(this,this._children,i),this._definitionChanged.raiseEvent(this,"show",t,!t)}},isShowing:{get:function(){return this._show&&(!(0,l.Z)(this.entityCollection)||this.entityCollection.show)&&(!(0,l.Z)(this._parent)||this._parent.isShowing)}},parent:{get:function(){return this._parent},set:function(t){const e=this._parent;if(e===t)return;const i=this.isShowing;if((0,l.Z)(e)){const t=e._children.indexOf(this);e._children.splice(t,1)}this._parent=t,(0,l.Z)(t)&&t._children.push(this);const o=this.isShowing;i!==o&&j(this,this._children,o),this._definitionChanged.raiseEvent(this,"parent",t,e)}},propertyNames:{get:function(){return this._propertyNames}},billboard:F("billboard",y.Z),box:F("box",v.Z),corridor:F("corridor",C.Z),cylinder:F("cylinder",D.Z),description:(0,b.Z)("description"),ellipse:F("ellipse",S.Z),ellipsoid:F("ellipsoid",P.Z),label:F("label",E.Z),model:F("model",x.Z),tileset:F("tileset",R.Z),orientation:(0,b.Z)("orientation"),path:F("path",I.Z),plane:F("plane",M.Z),point:F("point",V.Z),polygon:F("polygon",T.Z),polyline:F("polyline",A.Z),polylineVolume:F("polylineVolume",N.Z),properties:F("properties",U.Z),position:(q="position",(0,b.Z)(q,void 0,z)),rectangle:F("rectangle",B.Z),viewFrom:(0,b.Z)("viewFrom"),wall:F("wall",k.Z)}),W.prototype.isAvailable=function(t){if(!(0,l.Z)(t))throw new c.Z("time is required.");const e=this._availability;return!(0,l.Z)(e)||e.contains(t)},W.prototype.addProperty=function(t){const e=this._propertyNames;if(!(0,l.Z)(t))throw new c.Z("propertyName is required.");if(-1!==e.indexOf(t))throw new c.Z(`${t} is already a registered property.`);if(t in this)throw new c.Z(`${t} is a reserved property name.`);e.push(t),Object.defineProperty(this,t,(0,O.Z)(t,!0))},W.prototype.removeProperty=function(t){const e=this._propertyNames.indexOf(t);if(!(0,l.Z)(t))throw new c.Z("propertyName is required.");if(-1===e)throw new c.Z(`${t} is not a registered property.`);this._propertyNames.splice(e,1),delete this[t]},W.prototype.merge=function(t){if(!(0,l.Z)(t))throw new c.Z("source is required.");this.name=(0,a.Z)(this.name,t.name),this.availability=(0,a.Z)(this.availability,t.availability);const e=this._propertyNames,i=(0,l.Z)(t._propertyNames)?t._propertyNames:Object.keys(t),o=i.length;for(let n=0;n<o;n++){const o=i[n];if("parent"===o||"name"===o||"availability"===o)continue;const s=this[o],r=t[o];(0,l.Z)(s)||-1!==e.indexOf(o)||this.addProperty(o),(0,l.Z)(r)&&((0,l.Z)(s)?(0,l.Z)(s.merge)&&s.merge(r):(0,l.Z)(r.merge)&&(0,l.Z)(r.clone)?this[o]=r.clone():this[o]=r)}};const G=new u.Z,X=new o.Z,$=new Z.Z;W.prototype.computeModelMatrix=function(t,e){s.Z.typeOf.object("time",t);const i=L.Z.getValueOrUndefined(this._position,t,X);if(!(0,l.Z)(i))return;const o=L.Z.getValueOrUndefined(this._orientation,t,$);return e=(0,l.Z)(o)?p.Z.fromRotationTranslation(u.Z.fromQuaternion(o,G),i,e):f.Z.eastNorthUpToFixedFrame(i,void 0,e)},W.prototype.computeModelMatrixForHeightReference=function(t,e,i,n,r){s.Z.typeOf.object("time",t);const a=L.Z.getValueOrDefault(e,t,g.Z.NONE);let c=L.Z.getValueOrUndefined(this._position,t,X);if(a===g.Z.NONE||!(0,l.Z)(c)||o.Z.equalsEpsilon(c,o.Z.ZERO,d.Z.EPSILON8))return this.computeModelMatrix(t,r);const h=n.cartesianToCartographic(c,H);a===g.Z.CLAMP_TO_GROUND?h.height=i:h.height+=i,c=n.cartographicToCartesian(h,c);const Z=L.Z.getValueOrUndefined(this._orientation,t,$);return r=(0,l.Z)(Z)?p.Z.fromRotationTranslation(u.Z.fromQuaternion(Z,G),c,r):f.Z.eastNorthUpToFixedFrame(c,void 0,r)},W.supportsMaterialsforEntitiesOnTerrain=function(t){return m.Z.supportsMaterials(t)},W.supportsPolylinesOnTerrain=function(t){return _.Z.isSupported(t)};const J=W},61551:(t,e,i)=>{i.d(e,{Z:()=>A});var o=i(23114),n=i(59015),s=i(93517),r=i(88779),a=i(54485),l=i(83674),c=i(92893),h=i(71118),d=i(72720),u=i(64764),p=i(51402),Z=i(77819),f=i(61588),_=i(9068),m=i(18061),g=i(37949);function y(t){t=(0,r.Z)(t,r.Z.EMPTY_OBJECT),this._enabled=(0,r.Z)(t.enabled,!1),this._pixelRange=(0,r.Z)(t.pixelRange,80),this._minimumClusterSize=(0,r.Z)(t.minimumClusterSize,2),this._clusterBillboards=(0,r.Z)(t.clusterBillboards,!0),this._clusterLabels=(0,r.Z)(t.clusterLabels,!0),this._clusterPoints=(0,r.Z)(t.clusterPoints,!0),this._labelCollection=void 0,this._billboardCollection=void 0,this._pointCollection=void 0,this._clusterBillboardCollection=void 0,this._clusterLabelCollection=void 0,this._clusterPointCollection=void 0,this._collectionIndicesByEntity={},this._unusedLabelIndices=[],this._unusedBillboardIndices=[],this._unusedPointIndices=[],this._previousClusters=[],this._previousHeight=void 0,this._enabledDirty=!1,this._clusterDirty=!1,this._cluster=void 0,this._removeEventListener=void 0,this._clusterEvent=new c.Z,this.show=(0,r.Z)(t.show,!0)}function v(t){return t.coord.x}function w(t){return t.coord.y}function C(t,e){t.x-=e,t.y-=e,t.width+=2*e,t.height+=2*e}const b=new o.Z;function O(t,e,i,n,s){if((0,a.Z)(t._labelCollection)&&n._clusterLabels?s=p.Z.getScreenSpaceBoundingBox(t,e,s):(0,a.Z)(t._billboardCollection)&&n._clusterBillboards?s=d.Z.getScreenSpaceBoundingBox(t,e,s):(0,a.Z)(t._pointPrimitiveCollection)&&n._clusterPoints&&(s=f.Z.getScreenSpaceBoundingBox(t,e,s)),C(s,i),n._clusterLabels&&!(0,a.Z)(t._labelCollection)&&(0,a.Z)(t.id)&&P(n,t.id.id)&&(0,a.Z)(t.id._label)){const r=n._collectionIndicesByEntity[t.id.id].labelIndex,a=n._labelCollection.get(r),l=p.Z.getScreenSpaceBoundingBox(a,e,b);C(l,i),s=o.Z.union(s,l,s)}return s}function D(t,e){if(t.clusterShow=!0,!(0,a.Z)(t._labelCollection)&&(0,a.Z)(t.id)&&P(e,t.id.id)&&(0,a.Z)(t.id._label)){const i=e._collectionIndicesByEntity[t.id.id].labelIndex;e._labelCollection.get(i).clusterShow=!0}}function S(t,e,i,o){const n={billboard:o._clusterBillboardCollection.add(),label:o._clusterLabelCollection.add(),point:o._clusterPointCollection.add()};n.billboard.show=!1,n.point.show=!1,n.label.show=!0,n.label.text=e.toLocaleString(),n.label.id=i,n.billboard.position=n.label.position=n.point.position=t,o._clusterEvent.raiseEvent(i,n)}function P(t,e){return(0,a.Z)(t)&&(0,a.Z)(t._collectionIndicesByEntity[e])&&(0,a.Z)(t._collectionIndicesByEntity[e].labelIndex)}function E(t,e,i,o,n){if(!(0,a.Z)(t))return;const s=t.length;for(let r=0;r<s;++r){const s=t.get(r);if(s.clusterShow=!1,!s.show||n._scene.mode===m.Z.SCENE3D&&!o.isPointVisible(s.position))continue;const l=n._clusterLabels&&(0,a.Z)(s._labelCollection),c=n._clusterBillboards&&(0,a.Z)(s.id._billboard),h=n._clusterPoints&&(0,a.Z)(s.id._point);if(l&&(h||c))continue;const d=s.computeScreenSpacePosition(i);(0,a.Z)(d)&&e.push({index:r,collection:t,clustered:!1,coord:d})}}const x=new o.Z,R=new o.Z,I=new o.Z;function M(t,e,i,o){return function(n){let s=this[t];(0,a.Z)(this._collectionIndicesByEntity)||(this._collectionIndicesByEntity={});let r,l,c=this._collectionIndicesByEntity[n.id];if((0,a.Z)(c)||(c=this._collectionIndicesByEntity[n.id]={billboardIndex:void 0,labelIndex:void 0,pointIndex:void 0}),(0,a.Z)(s)&&(0,a.Z)(c[o]))return s.get(c[o]);(0,a.Z)(s)||(s=this[t]=new e({scene:this._scene}));const h=this[i];h.length>0?(r=h.pop(),l=s.get(r)):(l=s.add(),r=s.length-1),c[o]=r;const d=this;return Promise.resolve().then((function(){d._clusterDirty=!0})),l}}function V(t,e){const i=t._collectionIndicesByEntity[e];(0,a.Z)(i.billboardIndex)||(0,a.Z)(i.labelIndex)||(0,a.Z)(i.pointIndex)||delete t._collectionIndicesByEntity[e]}function T(t){if(!(0,a.Z)(t))return;const e=t.length;for(let i=0;i<e;++i)t.get(i).clusterShow=!0}y.prototype._initialize=function(t){this._scene=t;const e=(i=this,function(t){if((0,a.Z)(t)&&t<.05||!i.enabled)return;const e=i._scene,r=i._labelCollection,c=i._billboardCollection,p=i._pointCollection;if(!(0,a.Z)(r)&&!(0,a.Z)(c)&&!(0,a.Z)(p)||!i._clusterBillboards&&!i._clusterLabels&&!i._clusterPoints)return;let f=i._clusterLabelCollection,m=i._clusterBillboardCollection,y=i._clusterPointCollection;(0,a.Z)(f)?f.removeAll():f=i._clusterLabelCollection=new Z.Z({scene:e}),(0,a.Z)(m)?m.removeAll():m=i._clusterBillboardCollection=new u.Z({scene:e}),(0,a.Z)(y)?y.removeAll():y=i._clusterPointCollection=new _.Z;const C=i._pixelRange,b=i._minimumClusterSize,P=i._previousClusters,M=[],V=i._previousHeight,T=e.camera.positionCartographic.height,A=e.mapProjection.ellipsoid,N=e.camera.positionWC,L=new l.Z(A,N),U=[];let B,k,H,z,F,W,j,q,G,X,$,J;i._clusterLabels&&E(r,U,e,L,i),i._clusterBillboards&&E(c,U,e,L,i),i._clusterPoints&&E(p,U,e,L,i);const Y=new g.Z(U,v,w,64,Int32Array);if(T<V)for(H=P.length,B=0;B<H;++B){const t=P[B];if(!L.isPointVisible(t.position))continue;const o=d.Z._computeScreenSpacePosition(h.Z.IDENTITY,t.position,s.Z.ZERO,n.Z.ZERO,e);if(!(0,a.Z)(o))continue;const r=1-T/V;let l=t.width=t.width*r,c=t.height=t.height*r;l=Math.max(l,t.minimumWidth),c=Math.max(c,t.minimumHeight);const u=o.x-.5*l,p=o.y-.5*c,Z=o.x+l,f=o.y+c;for(F=Y.range(u,p,Z,f),W=F.length,X=0,G=[],k=0;k<W;++k)j=F[k],q=U[j],q.clustered||(++X,$=q.collection,J=q.index,G.push($.get(J).id));if(X>=b)for(S(t.position,X,G,i),M.push(t),k=0;k<W;++k)U[F[k]].clustered=!0}for(H=U.length,B=0;B<H;++B){const t=U[B];if(t.clustered)continue;t.clustered=!0,$=t.collection,J=t.index;const e=$.get(J);z=O(e,t.coord,C,i,x);const n=o.Z.clone(z,R);F=Y.range(z.x,z.y,z.x+z.width,z.y+z.height),W=F.length;const r=s.Z.clone(e.position);for(X=1,G=[e.id],k=0;k<W;++k)if(j=F[k],q=U[j],!q.clustered){const t=q.collection.get(q.index),e=O(t,q.coord,C,i,I);s.Z.add(t.position,r,r),o.Z.union(n,e,n),++X,G.push(t.id)}if(X>=b){const t=s.Z.multiplyByScalar(r,1/X,r);for(S(t,X,G,i),M.push({position:t,width:n.width,height:n.height,minimumWidth:z.width,minimumHeight:z.height}),k=0;k<W;++k)U[F[k]].clustered=!0}else D(e,i)}0===f.length&&(f.destroy(),i._clusterLabelCollection=void 0),0===m.length&&(m.destroy(),i._clusterBillboardCollection=void 0),0===y.length&&(y.destroy(),i._clusterPointCollection=void 0),i._previousClusters=M,i._previousHeight=T});var i;this._cluster=e,this._removeEventListener=t.camera.changed.addEventListener(e)},Object.defineProperties(y.prototype,{enabled:{get:function(){return this._enabled},set:function(t){this._enabledDirty=t!==this._enabled,this._enabled=t}},pixelRange:{get:function(){return this._pixelRange},set:function(t){this._clusterDirty=this._clusterDirty||t!==this._pixelRange,this._pixelRange=t}},minimumClusterSize:{get:function(){return this._minimumClusterSize},set:function(t){this._clusterDirty=this._clusterDirty||t!==this._minimumClusterSize,this._minimumClusterSize=t}},clusterEvent:{get:function(){return this._clusterEvent}},clusterBillboards:{get:function(){return this._clusterBillboards},set:function(t){this._clusterDirty=this._clusterDirty||t!==this._clusterBillboards,this._clusterBillboards=t}},clusterLabels:{get:function(){return this._clusterLabels},set:function(t){this._clusterDirty=this._clusterDirty||t!==this._clusterLabels,this._clusterLabels=t}},clusterPoints:{get:function(){return this._clusterPoints},set:function(t){this._clusterDirty=this._clusterDirty||t!==this._clusterPoints,this._clusterPoints=t}}}),y.prototype.getLabel=M("_labelCollection",Z.Z,"_unusedLabelIndices","labelIndex"),y.prototype.removeLabel=function(t){const e=this._collectionIndicesByEntity&&this._collectionIndicesByEntity[t.id];if(!(0,a.Z)(this._labelCollection)||!(0,a.Z)(e)||!(0,a.Z)(e.labelIndex))return;const i=e.labelIndex;e.labelIndex=void 0,V(this,t.id);const o=this._labelCollection.get(i);o.show=!1,o.text="",o.id=void 0,this._unusedLabelIndices.push(i),this._clusterDirty=!0},y.prototype.getBillboard=M("_billboardCollection",u.Z,"_unusedBillboardIndices","billboardIndex"),y.prototype.removeBillboard=function(t){const e=this._collectionIndicesByEntity&&this._collectionIndicesByEntity[t.id];if(!(0,a.Z)(this._billboardCollection)||!(0,a.Z)(e)||!(0,a.Z)(e.billboardIndex))return;const i=e.billboardIndex;e.billboardIndex=void 0,V(this,t.id);const o=this._billboardCollection.get(i);o.id=void 0,o.show=!1,o.image=void 0,this._unusedBillboardIndices.push(i),this._clusterDirty=!0},y.prototype.getPoint=M("_pointCollection",_.Z,"_unusedPointIndices","pointIndex"),y.prototype.removePoint=function(t){const e=this._collectionIndicesByEntity&&this._collectionIndicesByEntity[t.id];if(!(0,a.Z)(this._pointCollection)||!(0,a.Z)(e)||!(0,a.Z)(e.pointIndex))return;const i=e.pointIndex;e.pointIndex=void 0,V(this,t.id);const o=this._pointCollection.get(i);o.show=!1,o.id=void 0,this._unusedPointIndices.push(i),this._clusterDirty=!0},y.prototype.update=function(t){if(!this.show)return;let e;var i;(0,a.Z)(this._labelCollection)&&this._labelCollection.length>0&&0===this._labelCollection.get(0)._glyphs.length&&(e=t.commandList,t.commandList=[],this._labelCollection.update(t),t.commandList=e),(0,a.Z)(this._billboardCollection)&&this._billboardCollection.length>0&&!(0,a.Z)(this._billboardCollection.get(0).width)&&(e=t.commandList,t.commandList=[],this._billboardCollection.update(t),t.commandList=e),this._enabledDirty&&(this._enabledDirty=!1,(i=this).enabled||((0,a.Z)(i._clusterLabelCollection)&&i._clusterLabelCollection.destroy(),(0,a.Z)(i._clusterBillboardCollection)&&i._clusterBillboardCollection.destroy(),(0,a.Z)(i._clusterPointCollection)&&i._clusterPointCollection.destroy(),i._clusterLabelCollection=void 0,i._clusterBillboardCollection=void 0,i._clusterPointCollection=void 0,T(i._labelCollection),T(i._billboardCollection),T(i._pointCollection)),this._clusterDirty=!0),this._clusterDirty&&(this._clusterDirty=!1,this._cluster()),(0,a.Z)(this._clusterLabelCollection)&&this._clusterLabelCollection.update(t),(0,a.Z)(this._clusterBillboardCollection)&&this._clusterBillboardCollection.update(t),(0,a.Z)(this._clusterPointCollection)&&this._clusterPointCollection.update(t),(0,a.Z)(this._labelCollection)&&this._labelCollection.update(t),(0,a.Z)(this._billboardCollection)&&this._billboardCollection.update(t),(0,a.Z)(this._pointCollection)&&this._pointCollection.update(t)},y.prototype.destroy=function(){this._labelCollection=this._labelCollection&&this._labelCollection.destroy(),this._billboardCollection=this._billboardCollection&&this._billboardCollection.destroy(),this._pointCollection=this._pointCollection&&this._pointCollection.destroy(),this._clusterLabelCollection=this._clusterLabelCollection&&this._clusterLabelCollection.destroy(),this._clusterBillboardCollection=this._clusterBillboardCollection&&this._clusterBillboardCollection.destroy(),this._clusterPointCollection=this._clusterPointCollection&&this._clusterPointCollection.destroy(),(0,a.Z)(this._removeEventListener)&&(this._removeEventListener(),this._removeEventListener=void 0),this._labelCollection=void 0,this._billboardCollection=void 0,this._pointCollection=void 0,this._clusterBillboardCollection=void 0,this._clusterLabelCollection=void 0,this._clusterPointCollection=void 0,this._collectionIndicesByEntity=void 0,this._unusedLabelIndices=[],this._unusedBillboardIndices=[],this._unusedPointIndices=[],this._previousClusters=[],this._previousHeight=void 0,this._enabledDirty=!1,this._pixelRangeDirty=!1,this._minimumClusterSizeDirty=!1};const A=y},58585:(t,e,i)=>{i.d(e,{Z:()=>_});var o=i(28474),n=i(93737),s=i(54485),r=i(20176),a=i(92893),l=i(18926),c=i(97262),h=i(21514),d=i(78368),u=i(34063);const p={id:void 0};function Z(t){if(t._firing)t._refire=!0;else if(0===t._suspendCount){const e=t._addedEntities,i=t._removedEntities,o=t._changedEntities;if(0!==o.length||0!==e.length||0!==i.length){t._firing=!0;do{t._refire=!1;const n=e.values.slice(0),s=i.values.slice(0),r=o.values.slice(0);e.removeAll(),i.removeAll(),o.removeAll(),t._collectionChanged.raiseEvent(t,n,s,r)}while(t._refire);t._firing=!1}}}function f(t){this._owner=t,this._entities=new o.Z,this._addedEntities=new o.Z,this._removedEntities=new o.Z,this._changedEntities=new o.Z,this._suspendCount=0,this._collectionChanged=new a.Z,this._id=(0,n.Z)(),this._show=!0,this._firing=!1,this._refire=!1}f.prototype.suspendEvents=function(){this._suspendCount++},f.prototype.resumeEvents=function(){if(0===this._suspendCount)throw new r.Z("resumeEvents can not be called before suspendEvents.");this._suspendCount--,Z(this)},Object.defineProperties(f.prototype,{collectionChanged:{get:function(){return this._collectionChanged}},id:{get:function(){return this._id}},values:{get:function(){return this._entities.values}},show:{get:function(){return this._show},set:function(t){if(!(0,s.Z)(t))throw new r.Z("value is required.");if(t===this._show)return;let e;this.suspendEvents();const i=[],o=this._entities.values,n=o.length;for(e=0;e<n;e++)i.push(o[e].isShowing);for(this._show=t,e=0;e<n;e++){const t=i[e],n=o[e];t!==n.isShowing&&n.definitionChanged.raiseEvent(n,"isShowing",n.isShowing,t)}this.resumeEvents()}},owner:{get:function(){return this._owner}}}),f.prototype.computeAvailability=function(){let t=l.Z.MAXIMUM_VALUE,e=l.Z.MINIMUM_VALUE;const i=this._entities.values;for(let o=0,n=i.length;o<n;o++){const n=i[o].availability;if((0,s.Z)(n)){const i=n.start,o=n.stop;c.Z.lessThan(i,t)&&!i.equals(l.Z.MINIMUM_VALUE)&&(t=i),c.Z.greaterThan(o,e)&&!o.equals(l.Z.MAXIMUM_VALUE)&&(e=o)}}return l.Z.MAXIMUM_VALUE.equals(t)&&(t=l.Z.MINIMUM_VALUE),l.Z.MINIMUM_VALUE.equals(e)&&(e=l.Z.MAXIMUM_VALUE),new d.Z({start:t,stop:e})},f.prototype.add=function(t){if(!(0,s.Z)(t))throw new r.Z("entity is required.");t instanceof u.Z||(t=new u.Z(t));const e=t.id,i=this._entities;if(i.contains(e))throw new h.Z(`An entity with id ${e} already exists in this collection.`);return t.entityCollection=this,i.set(e,t),this._removedEntities.remove(e)||this._addedEntities.set(e,t),t.definitionChanged.addEventListener(f.prototype._onEntityDefinitionChanged,this),Z(this),t},f.prototype.remove=function(t){return!!(0,s.Z)(t)&&this.removeById(t.id)},f.prototype.contains=function(t){if(!(0,s.Z)(t))throw new r.Z("entity is required");return this._entities.get(t.id)===t},f.prototype.removeById=function(t){if(!(0,s.Z)(t))return!1;const e=this._entities.get(t);return!!this._entities.remove(t)&&(this._addedEntities.remove(t)||(this._removedEntities.set(t,e),this._changedEntities.remove(t)),this._entities.remove(t),e.definitionChanged.removeEventListener(f.prototype._onEntityDefinitionChanged,this),Z(this),!0)},f.prototype.removeAll=function(){const t=this._entities,e=t.length,i=t.values,o=this._addedEntities,n=this._removedEntities;for(let t=0;t<e;t++){const e=i[t],r=e.id,a=o.get(r);(0,s.Z)(a)||(e.definitionChanged.removeEventListener(f.prototype._onEntityDefinitionChanged,this),n.set(r,e))}t.removeAll(),o.removeAll(),this._changedEntities.removeAll(),Z(this)},f.prototype.getById=function(t){if(!(0,s.Z)(t))throw new r.Z("id is required.");return this._entities.get(t)},f.prototype.getOrCreateEntity=function(t){if(!(0,s.Z)(t))throw new r.Z("id is required.");let e=this._entities.get(t);return(0,s.Z)(e)||(p.id=t,e=new u.Z(p),this.add(e)),e},f.prototype._onEntityDefinitionChanged=function(t){const e=t.id;this._addedEntities.contains(e)||this._changedEntities.set(e,t),Z(this)};const _=f},39397:(t,e,i)=>{i.d(e,{Z:()=>x});var o=i(93517),n=i(17497),s=i(88779),r=i(54485),a=i(99996),l=i(66246),c=i(97262),h=i(22874),d=i(39109),u=i(71118),p=i(7004),Z=i(18061);const f=new d.Z,_=new d.Z,m=new d.Z,g=new u.Z,y=new o.Z,v=new o.Z,w=new o.Z,C=new o.Z,b=new o.Z,O=new o.Z,D=new c.Z;function S(t,e,i){n.Z.defined("entity",t),n.Z.defined("scene",e),this.entity=t,this.scene=e,this.ellipsoid=(0,s.Z)(i,a.Z.WGS84),this.boundingSphere=void 0,this._lastEntity=void 0,this._mode=void 0,this._lastCartesian=new o.Z,this._defaultOffset3D=void 0,this._offset3D=new o.Z}Object.defineProperties(S,{defaultOffset3D:{get:function(){return this._defaultOffset3D},set:function(t){this._defaultOffset3D=o.Z.clone(t,new o.Z)}}}),S.defaultOffset3D=new o.Z(-14e3,3500,3500);const P=new l.Z,E=new o.Z;S.prototype.update=function(t,e){n.Z.defined("time",t);const i=this.scene,s=this.ellipsoid,a=i.mode;if(a===Z.Z.MORPHING)return;const l=this.entity,u=l.position;if(!(0,r.Z)(u))return;const x=l!==this._lastEntity,R=a!==this._mode,I=i.camera;let M=x||R,V=!0;if(x){const i=l.viewFrom,n=(0,r.Z)(i);if(!n&&(0,r.Z)(e)){P.pitch=-h.Z.PI_OVER_FOUR,P.range=0;const i=u.getValue(t,E);if((0,r.Z)(i)){const t=2-1/Math.max(1,o.Z.magnitude(i)/s.maximumRadius);P.pitch*=t}I.viewBoundingSphere(e,P),this.boundingSphere=e,M=!1,V=!1}else n&&(0,r.Z)(i.getValue(t,this._offset3D))||o.Z.clone(S._defaultOffset3D,this._offset3D)}else R||this._mode===Z.Z.SCENE2D||o.Z.clone(I.position,this._offset3D);this._lastEntity=l,this._mode=a,function(t,e,i,n,s,a,l){const u=t.scene.mode;let S=s.getValue(a,t._lastCartesian);if((0,r.Z)(S)){let i,P,E,x,R,I,M=!1,V=!1;if(u===Z.Z.SCENE3D){c.Z.addSeconds(a,.001,D);let t=s.getValue(D,y);if((0,r.Z)(t)||(c.Z.addSeconds(a,-.001,D),t=s.getValue(D,y),V=!0),(0,r.Z)(t)){let e,n=p.Z.computeFixedToIcrfMatrix(a,f),s=p.Z.computeFixedToIcrfMatrix(D,_);(0,r.Z)(n)&&(0,r.Z)(s)?e=d.Z.transpose(n,m):(e=p.Z.computeTemeToPseudoFixedMatrix(a,m),n=d.Z.transpose(e,f),s=p.Z.computeTemeToPseudoFixedMatrix(D,_),d.Z.transpose(s,s));const c=d.Z.multiplyByVector(n,S,b),u=d.Z.multiplyByVector(s,t,O);o.Z.subtract(c,u,C);const Z=1e3*o.Z.magnitude(C),g=h.Z.GRAVITATIONALPARAMETER,x=-g/(Z*Z-2*g/o.Z.magnitude(c));x<0||x>1.25*l.maximumRadius?(i=v,o.Z.normalize(S,i),o.Z.negate(i,i),E=o.Z.clone(o.Z.UNIT_Z,w),P=o.Z.cross(E,i,y),o.Z.magnitude(P)>h.Z.EPSILON7&&(o.Z.normalize(i,i),o.Z.normalize(P,P),E=o.Z.cross(i,P,w),o.Z.normalize(E,E),M=!0)):o.Z.equalsEpsilon(S,t,h.Z.EPSILON7)||(E=v,o.Z.normalize(c,E),o.Z.normalize(u,u),P=o.Z.cross(E,u,w),V&&(P=o.Z.multiplyByScalar(P,-1,P)),o.Z.equalsEpsilon(P,o.Z.ZERO,h.Z.EPSILON7)||(i=o.Z.cross(P,E,y),d.Z.multiplyByVector(e,i,i),d.Z.multiplyByVector(e,P,P),d.Z.multiplyByVector(e,E,E),o.Z.normalize(i,i),o.Z.normalize(P,P),o.Z.normalize(E,E),M=!0))}}(0,r.Z)(t.boundingSphere)&&(S=t.boundingSphere.center),n&&(x=o.Z.clone(e.position,C),R=o.Z.clone(e.direction,b),I=o.Z.clone(e.up,O));const T=g;M?(T[0]=i.x,T[1]=i.y,T[2]=i.z,T[3]=0,T[4]=P.x,T[5]=P.y,T[6]=P.z,T[7]=0,T[8]=E.x,T[9]=E.y,T[10]=E.z,T[11]=0,T[12]=S.x,T[13]=S.y,T[14]=S.z,T[15]=0):p.Z.eastNorthUpToFixedFrame(S,l,T),e._setTransform(T),n&&(o.Z.clone(x,e.position),o.Z.clone(R,e.direction),o.Z.clone(I,e.up),o.Z.cross(R,I,e.right))}if(i){const i=u===Z.Z.SCENE2D||o.Z.equals(t._offset3D,o.Z.ZERO)?void 0:t._offset3D;e.lookAtTransform(e.transform,i)}}(this,I,M,V,u,t,s)};const x=S},69122:(t,e,i)=>{i.d(e,{Z:()=>ct});var o=i(85162),n=i(93517),s=i(6785),r=i(93737),a=i(78505),l=i(88779),c=i(54485),h=i(20176),d=i(92893),u=i(79246),p=i(90914),Z=i(46807),f=i(67197),_=i(21514),m=i(16272),g=i(49824),y=i(51894),v=i(53188),w=i(9088),C=i(3334),b=i(30032),O=i(9234),D=i(27979),S=i(61551),P=i(58585),E=i(56728),x=i(37e3);function R(t){return n.Z.fromDegrees(t[0],t[1],t[2])}const I={"urn:ogc:def:crs:OGC:1.3:CRS84":R,"EPSG:4326":R,"urn:ogc:def:crs:EPSG::4326":R},M={},V={};let T,A=48,N=s.Z.ROYALBLUE,L=s.Z.YELLOW,U=2,B=s.Z.fromBytes(255,255,0,100),k=!1;const H={small:24,medium:48,large:64},z=["title","description","marker-size","marker-symbol","marker-color","stroke","stroke-opacity","stroke-width","fill","fill-opacity"];function F(t,e){let i="";for(const o in t)if(t.hasOwnProperty(o)){if(o===e||-1!==z.indexOf(o))continue;const n=t[o];(0,c.Z)(n)&&(i+="object"==typeof n?`<tr><th>${o}</th><td>${F(n)}</td></tr>`:`<tr><th>${o}</th><td>${n}</td></tr>`)}return i.length>0&&(i=`<table class="cesium-infoBox-defaultTable"><tbody>${i}</tbody></table>`),i}function W(t,e){return new w.Z(function(t,e,i){let o;return function(n,s){return(0,c.Z)(o)||(o=t(e,i)),o}}(F,t,e),!0)}function j(t,e,i){let o=t.id;if((0,c.Z)(o)&&"Feature"===t.type){let t=2,i=o;for(;(0,c.Z)(e.getById(i));)i=`${o}_${t}`,t++;o=i}else o=(0,r.Z)();const n=e.getOrCreateEntity(o),s=t.properties;if((0,c.Z)(s)){let t;n.properties=s;const e=s.title;if((0,c.Z)(e))n.name=e,t="title";else{let e=Number.MAX_VALUE;for(const i in s)if(s.hasOwnProperty(i)&&s[i]){const o=i.toLowerCase();if(e>1&&"title"===o){e=1,t=i;break}e>2&&"name"===o?(e=2,t=i):e>3&&/title/i.test(i)?(e=3,t=i):e>4&&/name/i.test(i)&&(e=4,t=i)}(0,c.Z)(t)&&(n.name=s[t])}const o=s.description;null!==o&&(n.description=(0,c.Z)(o)?new O.Z(o):i(s,t))}return n}function q(t,e){const i=new Array(t.length);for(let o=0;o<t.length;o++)i[o]=e(t[o]);return i}const G={Feature:$,FeatureCollection:function(t,e,i,o,n){const s=e.features;for(let e=0,i=s.length;e<i;e++)$(t,s[e],void 0,o,n)},GeometryCollection:J,LineString:et,MultiLineString:it,MultiPoint:Q,MultiPolygon:st,Point:K,Polygon:nt,Topology:rt},X={GeometryCollection:J,LineString:et,MultiLineString:it,MultiPoint:Q,MultiPolygon:st,Point:K,Polygon:nt,Topology:rt};function $(t,e,i,o,n){if(null===e.geometry)return void j(e,t._entityCollection,n.describe);if(!(0,c.Z)(e.geometry))throw new _.Z("feature.geometry is required.");const s=e.geometry.type,r=X[s];if(!(0,c.Z)(r))throw new _.Z(`Unknown geometry type: ${s}`);r(t,e,e.geometry,o,n)}function J(t,e,i,o,n){const s=i.geometries;for(let i=0,r=s.length;i<r;i++){const r=s[i],a=r.type,l=X[a];if(!(0,c.Z)(l))throw new _.Z(`Unknown geometry type: ${a}`);l(t,e,r,o,n)}}function Y(t,e,i,o,n){let r=n.markerSymbol,a=n.markerColor,h=n.markerSize;const d=e.properties;if((0,c.Z)(d)){const t=d["marker-color"];(0,c.Z)(t)&&(a=s.Z.fromCssColorString(t)),h=(0,l.Z)(H[d["marker-size"]],h);const e=d["marker-symbol"];(0,c.Z)(e)&&(r=e)}let u;u=(0,c.Z)(r)?1===r.length?t._pinBuilder.fromText(r.toUpperCase(),a,h):t._pinBuilder.fromMakiIconId(r,a,h):t._pinBuilder.fromColor(a,h);const p=new v.Z;p.verticalOrigin=new O.Z(g.Z.BOTTOM),2===o.length&&n.clampToGround&&(p.heightReference=m.Z.CLAMP_TO_GROUND);const Z=j(e,t._entityCollection,n.describe);Z.billboard=p,Z.position=new b.Z(i(o));const f=Promise.resolve(u).then((function(t){p.image=new O.Z(t)})).catch((function(){p.image=new O.Z(t._pinBuilder.fromColor(a,h))}));t._promises.push(f)}function K(t,e,i,o,n){Y(t,e,o,i.coordinates,n)}function Q(t,e,i,o,n){const s=i.coordinates;for(let i=0;i<s.length;i++)Y(t,e,o,s[i],n)}function tt(t,e,i,n,r){let a=r.strokeMaterialProperty,l=r.strokeWidthProperty;const h=e.properties;if((0,c.Z)(h)){const t=h["stroke-width"];let e;(0,c.Z)(t)&&(l=new O.Z(t));const i=h.stroke;(0,c.Z)(i)&&(e=s.Z.fromCssColorString(i));const o=h["stroke-opacity"];(0,c.Z)(o)&&1!==o&&((0,c.Z)(e)||(e=a.color.getValue().clone()),e.alpha=o),(0,c.Z)(e)&&(a=new C.Z(e))}const d=j(e,t._entityCollection,r.describe),u=new x.Z;d.polyline=u,u.clampToGround=r.clampToGround,u.material=a,u.width=l,u.positions=new O.Z(q(n,i)),u.arcType=o.Z.RHUMB}function et(t,e,i,o,n){tt(t,e,o,i.coordinates,n)}function it(t,e,i,o,n){const s=i.coordinates;for(let i=0;i<s.length;i++)tt(t,e,o,s[i],n)}function ot(t,e,i,n,r){if(0===n.length||0===n[0].length)return;let a=r.strokeMaterialProperty.color,l=r.fillMaterialProperty,h=r.strokeWidthProperty;const d=e.properties;if((0,c.Z)(d)){const t=d["stroke-width"];let e;(0,c.Z)(t)&&(h=new O.Z(t));const i=d.stroke;(0,c.Z)(i)&&(e=s.Z.fromCssColorString(i));let o,n=d["stroke-opacity"];(0,c.Z)(n)&&1!==n&&((0,c.Z)(e)||(e=a.getValue().clone()),e.alpha=n),(0,c.Z)(e)&&(a=new O.Z(e));const r=d.fill,u=l.color.getValue();(0,c.Z)(r)&&(o=s.Z.fromCssColorString(r),o.alpha=u.alpha),n=d["fill-opacity"],(0,c.Z)(n)&&n!==u.alpha&&((0,c.Z)(o)||(o=u.clone()),o.alpha=n),(0,c.Z)(o)&&(l=new C.Z(o))}const u=new E.Z;u.outline=new O.Z(!0),u.outlineColor=a,u.outlineWidth=h,u.material=l,u.arcType=o.Z.RHUMB;const p=[];for(let t=1,e=n.length;t<e;t++)p.push(new Z.Z(q(n[t],i)));const f=n[0];u.hierarchy=new O.Z(new Z.Z(q(f,i),p)),f[0].length>2?u.perPositionHeight=new O.Z(!0):r.clampToGround||(u.height=0);j(e,t._entityCollection,r.describe).polygon=u}function nt(t,e,i,o,n){ot(t,e,o,i.coordinates,n)}function st(t,e,i,o,n){const s=i.coordinates;for(let i=0;i<s.length;i++)ot(t,e,o,s[i],n)}function rt(t,e,i,o,n){for(const e in i.objects)if(i.objects.hasOwnProperty(e)){const s=y.Z.feature(i,i.objects[e]);(0,G[s.type])(t,s,s,o,n)}}function at(t){this._name=t,this._changed=new d.Z,this._error=new d.Z,this._isLoading=!1,this._loading=new d.Z,this._entityCollection=new P.Z(this),this._promises=[],this._pinBuilder=new p.Z,this._entityCluster=new S.Z,this._credit=void 0,this._resourceCredits=[]}function lt(t,e,i,o){if(!(0,c.Z)(e))throw new h.Z("data is required.");D.Z.setLoading(t,!0);let n=(i=(0,l.Z)(i,l.Z.EMPTY_OBJECT)).credit;"string"==typeof n&&(n=new a.Z(n)),t._credit=n;let s=e,r=i.sourceUri;if("string"==typeof e||e instanceof f.Z){s=(e=f.Z.createIfNeeded(e)).fetchJson(),r=(0,l.Z)(r,e.getUrlComponent());const i=t._resourceCredits,o=e.credits;if((0,c.Z)(o)){const t=o.length;for(let e=0;e<t;e++)i.push(o[e])}}return i={describe:(0,l.Z)(i.describe,W),markerSize:(0,l.Z)(i.markerSize,A),markerSymbol:(0,l.Z)(i.markerSymbol,T),markerColor:(0,l.Z)(i.markerColor,N),strokeWidthProperty:new O.Z((0,l.Z)(i.strokeWidth,U)),strokeMaterialProperty:new C.Z((0,l.Z)(i.stroke,L)),fillMaterialProperty:new C.Z((0,l.Z)(i.fill,B)),clampToGround:(0,l.Z)(i.clampToGround,k)},Promise.resolve(s).then((function(e){return function(t,e,i,o,n){let s;(0,c.Z)(o)&&(s=(0,u.Z)(o));(0,c.Z)(s)&&t._name!==s&&(t._name=s,t._changed.raiseEvent(t));const r=G[e.type];if(!(0,c.Z)(r))throw new _.Z(`Unsupported GeoJSON object type: ${e.type}`);const a=e.crs;let l=null!==a?R:null;if((0,c.Z)(a)){if(!(0,c.Z)(a.properties))throw new _.Z("crs.properties is undefined.");const t=a.properties;if("name"===a.type){if(l=I[t.name],!(0,c.Z)(l))throw new _.Z(`Unknown crs name: ${t.name}`)}else if("link"===a.type){let e=M[t.href];if((0,c.Z)(e)||(e=V[t.type]),!(0,c.Z)(e))throw new _.Z(`Unable to resolve crs link: ${JSON.stringify(t)}`);l=e(t)}else{if("EPSG"!==a.type)throw new _.Z(`Unknown crs type: ${a.type}`);if(l=I[`EPSG:${t.code}`],!(0,c.Z)(l))throw new _.Z(`Unknown crs EPSG code: ${t.code}`)}}return Promise.resolve(l).then((function(o){return n&&t._entityCollection.removeAll(),null!==o&&r(t,e,e,o,i),Promise.all(t._promises).then((function(){return t._promises.length=0,D.Z.setLoading(t,!1),t}))}))}(t,e,i,r,o)})).catch((function(e){throw D.Z.setLoading(t,!1),t._error.raiseEvent(t,e),e}))}at.load=function(t,e){return(new at).load(t,e)},Object.defineProperties(at,{markerSize:{get:function(){return A},set:function(t){A=t}},markerSymbol:{get:function(){return T},set:function(t){T=t}},markerColor:{get:function(){return N},set:function(t){N=t}},stroke:{get:function(){return L},set:function(t){L=t}},strokeWidth:{get:function(){return U},set:function(t){U=t}},fill:{get:function(){return B},set:function(t){B=t}},clampToGround:{get:function(){return k},set:function(t){k=t}},crsNames:{get:function(){return I}},crsLinkHrefs:{get:function(){return M}},crsLinkTypes:{get:function(){return V}}}),Object.defineProperties(at.prototype,{name:{get:function(){return this._name},set:function(t){this._name!==t&&(this._name=t,this._changed.raiseEvent(this))}},clock:{value:void 0,writable:!1},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(t){this._entityCollection.show=t}},clustering:{get:function(){return this._entityCluster},set:function(t){if(!(0,c.Z)(t))throw new h.Z("value must be defined.");this._entityCluster=t}},credit:{get:function(){return this._credit}}}),at.prototype.load=function(t,e){return lt(this,t,e,!0)},at.prototype.process=function(t,e){return lt(this,t,e,!1)},at.prototype.update=function(t){return!0};const ct=at},31969:(t,e,i)=>{i.d(e,{Z:()=>E});var o=i(17497),n=i(6785),s=i(88779),r=i(54485),a=i(90332),l=i(20176),c=i(51178),h=i(92893),d=i(18926),u=i(53513),p=i(98179),Z=i(49616),f=i(3334),_=i(9234),m=i(34063),g=i(19157);const y=new f.Z(n.Z.WHITE),v=new _.Z(!0),w=new _.Z(!0),C=new _.Z(!1),b=new _.Z(n.Z.BLACK),O=new _.Z(Z.Z.DISABLED),D=new _.Z(new c.Z),S=new _.Z(p.Z.BOTH);function P(t){o.Z.defined("options.entity",t.entity),o.Z.defined("options.scene",t.scene),o.Z.defined("options.geometryOptions",t.geometryOptions),o.Z.defined("options.geometryPropertyName",t.geometryPropertyName),o.Z.defined("options.observedPropertyNames",t.observedPropertyNames);const e=t.entity,i=t.geometryPropertyName;this._entity=e,this._scene=t.scene,this._fillEnabled=!1,this._isClosed=!1,this._onTerrain=!1,this._dynamic=!1,this._outlineEnabled=!1,this._geometryChanged=new h.Z,this._showProperty=void 0,this._materialProperty=void 0,this._showOutlineProperty=void 0,this._outlineColorProperty=void 0,this._outlineWidth=1,this._shadowsProperty=void 0,this._distanceDisplayConditionProperty=void 0,this._classificationTypeProperty=void 0,this._options=t.geometryOptions,this._geometryPropertyName=i,this._id=`${i}-${e.id}`,this._observedPropertyNames=t.observedPropertyNames,this._supportsMaterialsforEntitiesOnTerrain=m.Z.supportsMaterialsforEntitiesOnTerrain(t.scene)}Object.defineProperties(P.prototype,{id:{get:function(){return this._id}},entity:{get:function(){return this._entity}},fillEnabled:{get:function(){return this._fillEnabled}},hasConstantFill:{get:function(){return!this._fillEnabled||!(0,r.Z)(this._entity.availability)&&g.Z.isConstant(this._showProperty)&&g.Z.isConstant(this._fillProperty)}},fillMaterialProperty:{get:function(){return this._materialProperty}},outlineEnabled:{get:function(){return this._outlineEnabled}},hasConstantOutline:{get:function(){return!this._outlineEnabled||!(0,r.Z)(this._entity.availability)&&g.Z.isConstant(this._showProperty)&&g.Z.isConstant(this._showOutlineProperty)}},outlineColorProperty:{get:function(){return this._outlineColorProperty}},outlineWidth:{get:function(){return this._outlineWidth}},shadowsProperty:{get:function(){return this._shadowsProperty}},distanceDisplayConditionProperty:{get:function(){return this._distanceDisplayConditionProperty}},classificationTypeProperty:{get:function(){return this._classificationTypeProperty}},isDynamic:{get:function(){return this._dynamic}},isClosed:{get:function(){return this._isClosed}},onTerrain:{get:function(){return this._onTerrain}},geometryChanged:{get:function(){return this._geometryChanged}}}),P.prototype.isOutlineVisible=function(t){const e=this._entity,i=this._outlineEnabled&&e.isAvailable(t)&&this._showProperty.getValue(t)&&this._showOutlineProperty.getValue(t);return(0,s.Z)(i,!1)},P.prototype.isFilled=function(t){const e=this._entity,i=this._fillEnabled&&e.isAvailable(t)&&this._showProperty.getValue(t)&&this._fillProperty.getValue(t);return(0,s.Z)(i,!1)},P.prototype.createFillGeometryInstance=l.Z.throwInstantiationError,P.prototype.createOutlineGeometryInstance=l.Z.throwInstantiationError,P.prototype.isDestroyed=function(){return!1},P.prototype.destroy=function(){(0,a.Z)(this)},P.prototype._isHidden=function(t,e){const i=e.show;return(0,r.Z)(i)&&i.isConstant&&!i.getValue(d.Z.MINIMUM_VALUE)},P.prototype._isOnTerrain=function(t,e){return!1},P.prototype._getIsClosed=function(t){return!0},P.prototype._isDynamic=l.Z.throwInstantiationError,P.prototype._setStaticOptions=l.Z.throwInstantiationError,P.prototype._onEntityPropertyChanged=function(t,e,i,o){if(-1===this._observedPropertyNames.indexOf(e))return;const n=this._entity[this._geometryPropertyName];if(!(0,r.Z)(n))return void((this._fillEnabled||this._outlineEnabled)&&(this._fillEnabled=!1,this._outlineEnabled=!1,this._geometryChanged.raiseEvent(this)));const a=n.fill,l=!(0,r.Z)(a)||!a.isConstant||a.getValue(d.Z.MINIMUM_VALUE),c=n.outline;let h=(0,r.Z)(c);if(h&&c.isConstant&&(h=c.getValue(d.Z.MINIMUM_VALUE)),!l&&!h)return void((this._fillEnabled||this._outlineEnabled)&&(this._fillEnabled=!1,this._outlineEnabled=!1,this._geometryChanged.raiseEvent(this)));const p=n.show;if(this._isHidden(t,n))return void((this._fillEnabled||this._outlineEnabled)&&(this._fillEnabled=!1,this._outlineEnabled=!1,this._geometryChanged.raiseEvent(this)));this._materialProperty=(0,s.Z)(n.material,y),this._fillProperty=(0,s.Z)(a,w),this._showProperty=(0,s.Z)(p,v),this._showOutlineProperty=(0,s.Z)(n.outline,C),this._outlineColorProperty=h?(0,s.Z)(n.outlineColor,b):void 0,this._shadowsProperty=(0,s.Z)(n.shadows,O),this._distanceDisplayConditionProperty=(0,s.Z)(n.distanceDisplayCondition,D),this._classificationTypeProperty=(0,s.Z)(n.classificationType,S),this._fillEnabled=l;const Z=this._isOnTerrain(t,n)&&(this._supportsMaterialsforEntitiesOnTerrain||this._materialProperty instanceof f.Z);if(h&&Z&&((0,u.Z)(u.Z.geometryOutlines),h=!1),this._onTerrain=Z,this._outlineEnabled=h,this._isDynamic(t,n))this._dynamic||(this._dynamic=!0,this._geometryChanged.raiseEvent(this));else{this._setStaticOptions(t,n),this._isClosed=this._getIsClosed(this._options);const e=n.outlineWidth;this._outlineWidth=(0,r.Z)(e)?e.getValue(d.Z.MINIMUM_VALUE):1,this._dynamic=!1,this._geometryChanged.raiseEvent(this)}},P.prototype.createDynamicUpdater=function(t,e){if(o.Z.defined("primitives",t),o.Z.defined("groundPrimitives",e),!this._dynamic)throw new l.Z("This instance does not represent dynamic geometry.");return new this.constructor.DynamicGeometryUpdater(this,t,e)};const E=P}}]);