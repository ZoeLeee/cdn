"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9669],{93354:(e,t,r)=>{r.d(t,{$:()=>c});var n=r(58095),i=r(72739),o=r(69314),a=r(48154),s=r(15631),u=function(e,t,r,n){this.name=e,this.worldAxisForNormal=t,this.worldAxisForFileX=r,this.worldAxisForFileY=n},c=function(){function e(){}return e.ConvertCubeMapTextureToSphericalPolynomial=function(e){var t,r=this;if(!e.isCube)return null;null===(t=e.getScene())||void 0===t||t.getEngine().flushFramebuffer();var n,i,o=e.getSize().width,a=e.readPixels(0,void 0,void 0,!1),s=e.readPixels(1,void 0,void 0,!1);e.isRenderTarget?(n=e.readPixels(3,void 0,void 0,!1),i=e.readPixels(2,void 0,void 0,!1)):(n=e.readPixels(2,void 0,void 0,!1),i=e.readPixels(3,void 0,void 0,!1));var u=e.readPixels(4,void 0,void 0,!1),c=e.readPixels(5,void 0,void 0,!1),l=e.gammaSpace,h=0;return 1!=e.textureType&&2!=e.textureType||(h=1),new Promise((function(e){Promise.all([s,a,n,i,u,c]).then((function(t){var n=t[0],i=t[1],a=t[2],s=t[3],u=t[4],c=t[5],f={size:o,right:i,left:n,up:a,down:s,front:u,back:c,format:5,type:h,gammaSpace:l};e(r.ConvertCubeMapToSphericalPolynomial(f))}))}))},e._AreaElement=function(e,t){return Math.atan2(e*t,Math.sqrt(e*e+t*t+1))},e.ConvertCubeMapToSphericalPolynomial=function(e){for(var t=new o._,r=0,n=2/e.size,u=n,c=.5*n,l=c-1,h=0;h<6;h++)for(var f=this._FileFaces[h],d=e[f.name],p=l,g=5===e.format?4:3,v=0;v<e.size;v++){for(var m=l,y=0;y<e.size;y++){var _=f.worldAxisForFileX.scale(m).add(f.worldAxisForFileY.scale(p)).add(f.worldAxisForNormal);_.normalize();var b=this._AreaElement(m-c,p-c)-this._AreaElement(m-c,p+c)-this._AreaElement(m+c,p-c)+this._AreaElement(m+c,p+c),A=d[v*e.size*g+y*g+0],w=d[v*e.size*g+y*g+1],C=d[v*e.size*g+y*g+2];isNaN(A)&&(A=0),isNaN(w)&&(w=0),isNaN(C)&&(C=0),0===e.type&&(A/=255,w/=255,C/=255),e.gammaSpace&&(A=Math.pow(i.R.Clamp(A),a.Nn),w=Math.pow(i.R.Clamp(w),a.Nn),C=Math.pow(i.R.Clamp(C),a.Nn));var P=4096;A=i.R.Clamp(A,0,P),w=i.R.Clamp(w,0,P),C=i.R.Clamp(C,0,P);var T=new s.Wo(A,w,C);t.addLight(_,T,b),r+=b,m+=n}p+=u}var x=6*(4*Math.PI)/6/r;return t.scaleInPlace(x),t.convertIncidentRadianceToIrradiance(),t.convertIrradianceToLambertianRadiance(),o.i.FromHarmonics(t)},e._FileFaces=[new u("right",new n.P(1,0,0),new n.P(0,0,-1),new n.P(0,-1,0)),new u("left",new n.P(-1,0,0),new n.P(0,0,1),new n.P(0,-1,0)),new u("up",new n.P(0,1,0),new n.P(1,0,0),new n.P(0,0,1)),new u("down",new n.P(0,-1,0),new n.P(1,0,0),new n.P(0,0,-1)),new u("front",new n.P(0,0,1),new n.P(1,0,0),new n.P(0,-1,0)),new u("back",new n.P(0,0,-1),new n.P(-1,0,0),new n.P(0,-1,0))],e}()},13408:(e,t,r)=>{r.d(t,{s:()=>i});var n=r(19414),i=function(){function e(){}return e._Ldexp=function(e,t){return t>1023?e*Math.pow(2,1023)*Math.pow(2,t-1023):t<-1074?e*Math.pow(2,-1074)*Math.pow(2,t+1074):e*Math.pow(2,t)},e._Rgbe2float=function(e,t,r,n,i,o){i>0?(i=this._Ldexp(1,i-136),e[o+0]=t*i,e[o+1]=r*i,e[o+2]=n*i):(e[o+0]=0,e[o+1]=0,e[o+2]=0)},e._ReadStringLine=function(e,t){for(var r="",n="",i=t;i<e.length-t&&"\n"!=(n=String.fromCharCode(e[i]));i++)r+=n;return r},e.RGBE_ReadHeader=function(e){var t,r,n=this._ReadStringLine(e,0);if("#"!=n[0]||"?"!=n[1])throw"Bad HDR Format.";var i=!1,o=!1,a=0;do{a+=n.length+1,"FORMAT=32-bit_rle_rgbe"==(n=this._ReadStringLine(e,a))?o=!0:0==n.length&&(i=!0)}while(!i);if(!o)throw"HDR Bad header format, unsupported FORMAT";a+=n.length+1,n=this._ReadStringLine(e,a);var s=/^-Y (.*) \+X (.*)$/g.exec(n);if(!s||s.length<3)throw"HDR Bad header format, no size";if(r=parseInt(s[2]),t=parseInt(s[1]),r<8||r>32767)throw"HDR Bad header format, unsupported size";return{height:t,width:r,dataPosition:a+=n.length+1}},e.GetCubeMapTextureData=function(e,t){var r=new Uint8Array(e),i=this.RGBE_ReadHeader(r),o=this.RGBE_ReadPixels(r,i);return n.B.ConvertPanoramaToCubemap(o,i.width,i.height,t)},e.RGBE_ReadPixels=function(e,t){return this._RGBEReadPixelsRLE(e,t)},e._RGBEReadPixelsRLE=function(e,t){for(var r,n,i,o,a,s=t.height,u=t.width,c=t.dataPosition,l=0,h=0,f=0,d=new ArrayBuffer(4*u),p=new Uint8Array(d),g=new ArrayBuffer(t.width*t.height*4*3),v=new Float32Array(g);s>0;){if(r=e[c++],n=e[c++],i=e[c++],o=e[c++],2!=r||2!=n||128&i||t.width<8||t.width>32767)return this._RGBEReadPixelsNOTRLE(e,t);if((i<<8|o)!=u)throw"HDR Bad header format, wrong scan line width";for(l=0,f=0;f<4;f++)for(h=(f+1)*u;l<h;)if(r=e[c++],n=e[c++],r>128){if(0==(a=r-128)||a>h-l)throw"HDR Bad Format, bad scanline data (run)";for(;a-- >0;)p[l++]=n}else{if(0==(a=r)||a>h-l)throw"HDR Bad Format, bad scanline data (non-run)";if(p[l++]=n,--a>0)for(var m=0;m<a;m++)p[l++]=e[c++]}for(f=0;f<u;f++)r=p[f],n=p[f+u],i=p[f+2*u],o=p[f+3*u],this._Rgbe2float(v,r,n,i,o,(t.height-s)*u*3+3*f);s--}return v},e._RGBEReadPixelsNOTRLE=function(e,t){for(var r,n,i,o,a,s=t.height,u=t.width,c=t.dataPosition,l=new ArrayBuffer(t.width*t.height*4*3),h=new Float32Array(l);s>0;){for(a=0;a<t.width;a++)r=e[c++],n=e[c++],i=e[c++],o=e[c++],this._Rgbe2float(h,r,n,i,o,(t.height-s)*u*3+3*a);s--}return h},e}()},19414:(e,t,r)=>{r.d(t,{B:()=>i});var n=r(58095),i=function(){function e(){}return e.ConvertPanoramaToCubemap=function(e,t,r,n){if(!e)throw"ConvertPanoramaToCubemap: input cannot be null";if(e.length!=t*r*3)throw"ConvertPanoramaToCubemap: input size is wrong";return{front:this.CreateCubemapTexture(n,this.FACE_FRONT,e,t,r),back:this.CreateCubemapTexture(n,this.FACE_BACK,e,t,r),left:this.CreateCubemapTexture(n,this.FACE_LEFT,e,t,r),right:this.CreateCubemapTexture(n,this.FACE_RIGHT,e,t,r),up:this.CreateCubemapTexture(n,this.FACE_UP,e,t,r),down:this.CreateCubemapTexture(n,this.FACE_DOWN,e,t,r),size:n,type:1,format:4,gammaSpace:!1}},e.CreateCubemapTexture=function(e,t,r,n,i){for(var o=new ArrayBuffer(e*e*4*3),a=new Float32Array(o),s=t[1].subtract(t[0]).scale(1/e),u=t[3].subtract(t[2]).scale(1/e),c=1/e,l=0,h=0;h<e;h++){for(var f=t[0],d=t[2],p=0;p<e;p++){var g=d.subtract(f).scale(l).add(f);g.normalize();var v=this.CalcProjectionSpherical(g,r,n,i);a[h*e*3+3*p+0]=v.r,a[h*e*3+3*p+1]=v.g,a[h*e*3+3*p+2]=v.b,f=f.add(s),d=d.add(u)}l+=c}return a},e.CalcProjectionSpherical=function(e,t,r,n){for(var i=Math.atan2(e.z,e.x),o=Math.acos(e.y);i<-Math.PI;)i+=2*Math.PI;for(;i>Math.PI;)i-=2*Math.PI;var a=i/Math.PI,s=o/Math.PI;a=.5*a+.5;var u=Math.round(a*r);u<0?u=0:u>=r&&(u=r-1);var c=Math.round(s*n);c<0?c=0:c>=n&&(c=n-1);var l=n-c-1;return{r:t[l*r*3+3*u+0],g:t[l*r*3+3*u+1],b:t[l*r*3+3*u+2]}},e.FACE_LEFT=[new n.P(-1,-1,-1),new n.P(1,-1,-1),new n.P(-1,1,-1),new n.P(1,1,-1)],e.FACE_RIGHT=[new n.P(1,-1,1),new n.P(-1,-1,1),new n.P(1,1,1),new n.P(-1,1,1)],e.FACE_FRONT=[new n.P(1,-1,-1),new n.P(1,-1,1),new n.P(1,1,-1),new n.P(1,1,1)],e.FACE_BACK=[new n.P(-1,-1,1),new n.P(-1,-1,-1),new n.P(-1,1,1),new n.P(-1,1,-1)],e.FACE_DOWN=[new n.P(1,1,-1),new n.P(1,1,1),new n.P(-1,1,-1),new n.P(-1,1,1)],e.FACE_UP=[new n.P(-1,-1,-1),new n.P(-1,-1,1),new n.P(1,-1,-1),new n.P(1,-1,1)],e}()},26769:(e,t,r)=>{r.d(t,{q:()=>n});var n=function(){function e(){}return e.Eval=function(t,r){return"true"===(t=t.match(/\([^()]*\)/g)?t.replace(/\([^()]*\)/g,(function(t){return t=t.slice(1,t.length-1),e._HandleParenthesisContent(t,r)})):e._HandleParenthesisContent(t,r))||"false"!==t&&e.Eval(t,r)},e._HandleParenthesisContent=function(t,r){var n;r=r||function(e){return"true"===e};var i=t.split("||");for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)){var a=e._SimplifyNegation(i[o].trim()),s=a.split("&&");if(s.length>1)for(var u=0;u<s.length;++u){var c=e._SimplifyNegation(s[u].trim());if(!(n="true"!==c&&"false"!==c?"!"===c[0]?!r(c.substring(1)):r(c):"true"===c)){a="false";break}}if(n||"true"===a){n=!0;break}n="true"!==a&&"false"!==a?"!"===a[0]?!r(a.substring(1)):r(a):"true"===a}return n?"true":"false"},e._SimplifyNegation=function(e){return"!true"===(e=(e=e.replace(/^[\s!]+/,(function(e){return(e=e.replace(/[\s]/g,(function(){return""}))).length%2?"!":""}))).trim())?e="false":"!false"===e&&(e="true"),e},e}()},48939:(e,t,r)=>{r.d(t,{B:()=>n});var n=function(){function e(){}return e.BuildArray=function(e,t){for(var r=[],n=0;n<e;++n)r.push(t());return r},e.BuildTuple=function(t,r){return e.BuildArray(t,r)},e}()},21004:(e,t,r)=>{r.d(t,{Mx:()=>v,_B:()=>u,ae:()=>l,i:()=>c,nG:()=>g,rz:()=>p});var n,i=r(13514),o=r(73803),a=r(7949),s=r(72739),u=function(){};!function(e){e[e.cTFETC1=0]="cTFETC1",e[e.cTFBC1=1]="cTFBC1",e[e.cTFBC4=2]="cTFBC4",e[e.cTFPVRTC1_4_OPAQUE_ONLY=3]="cTFPVRTC1_4_OPAQUE_ONLY",e[e.cTFBC7_M6_OPAQUE_ONLY=4]="cTFBC7_M6_OPAQUE_ONLY",e[e.cTFETC2=5]="cTFETC2",e[e.cTFBC3=6]="cTFBC3",e[e.cTFBC5=7]="cTFBC5"}(n||(n={}));var c={JSModuleURL:"https://preview.babylonjs.com/basisTranscoder/basis_transcoder.js",WasmModuleURL:"https://preview.babylonjs.com/basisTranscoder/basis_transcoder.wasm"},l=function(e,t){var r;switch(e){case n.cTFETC1:r=36196;break;case n.cTFBC1:r=33776;break;case n.cTFBC4:r=33779}if(void 0===r)throw"The chosen Basis transcoder format is not currently supported";return r},h=null,f=null,d=0,p=function(e,t){var r=e instanceof ArrayBuffer?new Uint8Array(e):e;return new Promise((function(e,n){(h||(h=new Promise((function(e,t){f?e(f):i.w1.LoadFileAsync(c.WasmModuleURL).then((function(r){var n=URL.createObjectURL(new Blob(["(".concat(m,")()")],{type:"application/javascript"}));f=new Worker(n);var i=function(r){"init"===r.data.action?(f.removeEventListener("message",i),e(f)):"error"===r.data.action&&t(r.data.error||"error initializing worker")};f.addEventListener("message",i),f.postMessage({action:"init",url:c.JSModuleURL,wasmBinary:r})})).catch(t)}))),h).then((function(){var i=d++,o=function(t){"transcode"===t.data.action&&t.data.id===i&&(f.removeEventListener("message",o),t.data.success?e(t.data):n("Transcode is not supported on this device"))};f.addEventListener("message",o);var a=new Uint8Array(r.byteLength);a.set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),f.postMessage({action:"transcode",id:i,imageData:a,config:t,ignoreSupportedFormats:false},[a.buffer])}),(function(e){n(e)}))}))},g=function(e,t){for(var r=e.getEngine(),n=function(n){var u=t.fileInfo.images[n].levels[0];if(e._invertVScale=e.invertY,-1===t.format)if(e.type=10,e.format=4,!r._features.basisNeedsPOT||s.R.Log2(u.width)%1==0&&s.R.Log2(u.height)%1==0)e._invertVScale=!e.invertY,e.width=u.width+3&-4,e.height=u.height+3&-4,r._uploadDataToTextureDirectly(e,u.transcodedPixels,n,0,4,!0);else{var c=new a.l(r,a.S.Temp);e._invertVScale=e.invertY,c.type=10,c.format=4,c.width=u.width+3&-4,c.height=u.height+3&-4,r._bindTextureDirectly(r._gl.TEXTURE_2D,c,!0),r._uploadDataToTextureDirectly(c,u.transcodedPixels,n,0,4,!0),r._rescaleTexture(c,e,r.scenes[0],r._getInternalFormat(4),(function(){r._releaseTexture(c),r._bindTextureDirectly(r._gl.TEXTURE_2D,e,!0)}))}else e.width=u.width,e.height=u.height,e.generateMipMaps=t.fileInfo.images[n].levels.length>1,t.fileInfo.images[n].levels.forEach((function(i,o){r._uploadCompressedDataToTextureDirectly(e,v.GetInternalFormatFromBasisFormat(t.format,r),i.width,i.height,i.transcodedPixels,n,o)})),!r._features.basisNeedsPOT||s.R.Log2(e.width)%1==0&&s.R.Log2(e.height)%1==0||(i.w1.Warn("Loaded .basis texture width and height are not a power of two. Texture wrapping will be set to Texture.CLAMP_ADDRESSMODE as other modes are not supported with non power of two dimensions in webGL 1."),e._cachedWrapU=o.x.CLAMP_ADDRESSMODE,e._cachedWrapV=o.x.CLAMP_ADDRESSMODE)},u=0;u<t.fileInfo.images.length;u++)n(u)},v={JSModuleURL:c.JSModuleURL,WasmModuleURL:c.WasmModuleURL,GetInternalFormatFromBasisFormat:l,TranscodeAsync:p,LoadTextureFromTranscodeResult:g};function m(){var e=0,t=1,r=5,n=6,i=null;function o(e,t,r,n,i){var o=e.getImageTranscodedSizeInBytes(t,r,n),a=new Uint8Array(o);if(!e.transcodeImage(a,t,r,n,1,0))return null;i&&(a=function(e,t,r,n){for(var i=new Uint16Array(4),o=new Uint16Array(r*n),a=r/4,s=n/4,u=0;u<s;u++)for(var c=0;c<a;c++){var l=t+8*(u*a+c);i[0]=e[l]|e[l+1]<<8,i[1]=e[l+2]|e[l+3]<<8,i[2]=(2*(31&i[0])+1*(31&i[1]))/3|(2*(2016&i[0])+1*(2016&i[1]))/3&2016|(2*(63488&i[0])+1*(63488&i[1]))/3&63488,i[3]=(2*(31&i[1])+1*(31&i[0]))/3|(2*(2016&i[1])+1*(2016&i[0]))/3&2016|(2*(63488&i[1])+1*(63488&i[0]))/3&63488;for(var h=0;h<4;h++){var f=e[l+4+h],d=(4*u+h)*r+4*c;o[d++]=i[3&f],o[d++]=i[f>>2&3],o[d++]=i[f>>4&3],o[d++]=i[f>>6&3]}}return o}(a,0,e.getImageWidth(t,r)+3&-4,e.getImageHeight(t,r)+3&-4));return a}onmessage=function(a){if("init"===a.data.action){if(!i){Module={wasmBinary:a.data.wasmBinary};try{importScripts(a.data.url)}catch(e){postMessage({action:"error",error:e})}i=new Promise((function(e){Module.onRuntimeInitialized=function(){Module.initializeBasis(),e()}}))}i.then((function(){postMessage({action:"init"})}))}else if("transcode"===a.data.action){var s=a.data.config,u=a.data.imageData,c=new Module.BasisFile(u),l=function(e){for(var t=e.getHasAlpha(),r=e.getNumImages(),n=[],i=0;i<r;i++){for(var o={levels:[]},a=e.getNumLevels(i),s=0;s<a;s++){var u={width:e.getImageWidth(i,s),height:e.getImageHeight(i,s)};o.levels.push(u)}n.push(o)}return{hasAlpha:t,images:n}}(c),h=a.data.ignoreSupportedFormats?null:function(i,o){var a=null;i.supportedCompressionFormats&&(i.supportedCompressionFormats.etc1?a=e:i.supportedCompressionFormats.s3tc?a=o.hasAlpha?n:t:i.supportedCompressionFormats.pvrtc||i.supportedCompressionFormats.etc2&&(a=r));return a}(a.data.config,l),f=!1;null===h&&(f=!0,h=l.hasAlpha?n:t);var d=!0;c.startTranscoding()||(d=!1);for(var p=[],g=0;g<l.images.length&&d;g++){var v=l.images[g];if(void 0===s.loadSingleImage||s.loadSingleImage===g){var m=v.levels.length;!1===s.loadMipmapLevels&&(m=1);for(var y=0;y<m;y++){var _=v.levels[y],b=o(c,g,y,h,f);if(!b){d=!1;break}_.transcodedPixels=b,p.push(_.transcodedPixels.buffer)}}}c.close(),c.delete(),f&&(h=-1),d?postMessage({action:"transcode",success:d,id:a.data.id,fileInfo:l,format:h},p):postMessage({action:"transcode",success:d,id:a.data.id})}}}Object.defineProperty(v,"JSModuleURL",{get:function(){return c.JSModuleURL},set:function(e){c.JSModuleURL=e}}),Object.defineProperty(v,"WasmModuleURL",{get:function(){return c.WasmModuleURL},set:function(e){c.WasmModuleURL=e}})},73556:(e,t,r)=>{r.d(t,{$:()=>s,D:()=>u});var n=r(73803),i=r(95718),o=r(13514),a=0,s=function(e){if(!e.environmentBRDFTexture){var t=e.useDelayedTextureLoading;e.useDelayedTextureLoading=!1;var r=e._blockEntityCollection;e._blockEntityCollection=!1;var s=n.x.CreateFromBase64String("data:image/png;base64,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","EnvironmentBRDFTexture"+a++,e,!0,!1,n.x.BILINEAR_SAMPLINGMODE);e._blockEntityCollection=r;var u=e.getEngine().getLoadedTexturesCache(),c=u.indexOf(s.getInternalTexture());-1!==c&&u.splice(c,1),s.isRGBD=!0,s.wrapU=n.x.CLAMP_ADDRESSMODE,s.wrapV=n.x.CLAMP_ADDRESSMODE,e.environmentBRDFTexture=s,e.useDelayedTextureLoading=t,i.r.ExpandRGBDTexture(s);var l=e.getEngine().onContextRestoredObservable.add((function(){s.isRGBD=!0;var e=function(){s.isReady()?i.r.ExpandRGBDTexture(s):o.w1.SetImmediate(e)};e()}));e.onDisposeObservable.add((function(){e.getEngine().onContextRestoredObservable.remove(l)}))}return e.environmentBRDFTexture},u={GetEnvironmentBRDFTexture:s}},31259:(e,t,r)=>{function n(e,t,r,n){for(var i=n,o=0,a="";i<r.length;){var s=r.charAt(i);if(a)s===a?'"'===a||"'"===a?"\\"!==r.charAt(i-1)&&(a=""):a="":"*/"===a&&"*"===s&&i+1<r.length&&("/"===r.charAt(i+1)&&(a=""),""===a&&i++);else switch(s){case e:o++;break;case t:o--;break;case'"':case"'":case"`":a=s;break;case"/":if(i+1<r.length){var u=r.charAt(i+1);"/"===u?a="\n":"*"===u&&(a="*/")}}if(i++,0===o)break}return 0===o?i-1:-1}function i(e,t){for(;t<e.length;){var r=e[t];if(" "!==r&&"\n"!==r&&"\r"!==r&&"\t"!==r&&"\n"!==r&&"\xa0"!==r)break;t++}return t}function o(e){var t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122||95==t}function a(e){for(var t=0,r="",n=!1,i=[];t<e.length;){var o=e.charAt(t);if(r)o===r?'"'===r||"'"===r?("\\"!==e.charAt(t-1)&&(r=""),i.push(o)):(r="",n=!1):"*/"===r&&"*"===o&&t+1<e.length?("/"===e.charAt(t+1)&&(r=""),""===r&&(n=!1,t++)):n||i.push(o);else{switch(o){case'"':case"'":case"`":r=o;break;case"/":if(t+1<e.length){var a=e.charAt(t+1);"/"===a?(r="\n",n=!0):"*"===a&&(r="*/",n=!0)}}n||i.push(o)}t++}return i.join("")}function s(e,t,r){for(;t>=0&&e.charAt(t)!==r;)t--;return t}function u(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}r.d(t,{AW:()=>u,Kt:()=>a,Pm:()=>i,uA:()=>o,vt:()=>n,wm:()=>s})},1233:(e,t,r)=>{r.d(t,{D:()=>i});var n=r(80352),i=function(){function e(t,r){e.IsAvailable&&(this._observer=new window.ComputePressureObserver(t,r))}return Object.defineProperty(e,"IsAvailable",{get:function(){return(0,n.CG)()&&"ComputePressureObserver"in window},enumerable:!1,configurable:!0}),e.prototype.observe=function(){var e,t;(null===(e=this._observer)||void 0===e?void 0:e.observe)&&(null===(t=this._observer)||void 0===t||t.observe().catch((function(){})))},e.prototype.unobserve=function(){var e,t;(null===(e=this._observer)||void 0===e?void 0:e.unobserve)&&(null===(t=this._observer)||void 0===t||t.unobserve())},e}()},50679:(e,t,r)=>{r.d(t,{Jj:()=>a,_u:()=>o,r1:()=>s,xj:()=>i});var n=r(31191);function i(e,t,r){void 0===r&&(r=!1);var n=t.width,i=t.height;if(e instanceof Float32Array){for(var o=e.byteLength/e.BYTES_PER_ELEMENT,a=new Uint8Array(o);--o>=0;){var s=e[o];s<0?s=0:s>1&&(s=1),a[o]=255*s}e=a}var u=document.createElement("canvas");u.width=n,u.height=i;var c=u.getContext("2d");if(!c)return null;var l=c.createImageData(n,i);if(l.data.set(e),c.putImageData(l,0,0),r){var h=document.createElement("canvas");h.width=n,h.height=i;var f=h.getContext("2d");return f?(f.translate(0,i),f.scale(1,-1),f.drawImage(u,0,0),h.toDataURL("image/png")):null}return u.toDataURL("image/png")}function o(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0);var n=e.getInternalTexture();if(!n)return null;var o=e._readPixelsSync(t,r);return o?i(o,e.getSize(),n.invertY):null}function a(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=0),(0,n.mG)(this,void 0,void 0,(function(){var o,a;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return(o=e.getInternalTexture())?[4,e.readPixels(t,r)]:[2,null];case 1:return(a=n.sent())?[2,i(a,e.getSize(),o.invertY)]:[2,null]}}))}))}var s={GenerateBase64StringFromPixelData:i,GenerateBase64StringFromTexture:o,GenerateBase64StringFromTextureAsync:a}},24539:(e,t,r)=>{function n(e,t,r){try{var n=e.next();n.done?t(n):n.value?n.value.then((function(){n.value=void 0,t(n)}),r):t(n)}catch(e){r(e)}}function i(e){var t;return void 0===e&&(e=25),function(r,i,o){var a=performance.now();void 0===t||a-t>e?(t=a,setTimeout((function(){n(r,i,o)}),0)):n(r,i,o)}}function o(e,t,r,n,i){var o=function(){var a,s=function(e){e.done?r(e.value):void 0===a?a=!0:o()};do{a=void 0,i&&i.aborted?n(new Error("Aborted")):t(e,s,n),void 0===a&&(a=!1)}while(a)};o()}function a(e,t){var r;return o(e,n,(function(e){return r=e}),(function(e){throw e}),t),r}function s(e,t,r){return new Promise((function(n,i){o(e,t,n,i,r)}))}function u(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return a(e.apply(void 0,r),t)}}function c(e,t,r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return s(e.apply(void 0,n),t,r)}}r.d(t,{KO:()=>i,U3:()=>c,WP:()=>n,d_:()=>o,s3:()=>a,sM:()=>s,vp:()=>u})},21879:(e,t,r)=>{r.d(t,{d:()=>i});var n=r(29972),i=function(){function e(e){this.byteOffset=0,this.buffer=e}return e.prototype.loadAsync=function(e){var t=this;return this.buffer.readAsync(this.byteOffset,e).then((function(e){t._dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),t._dataByteOffset=0}))},e.prototype.readUint32=function(){var e=this._dataView.getUint32(this._dataByteOffset,!0);return this._dataByteOffset+=4,this.byteOffset+=4,e},e.prototype.readUint8Array=function(e){var t=new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+this._dataByteOffset,e);return this._dataByteOffset+=e,this.byteOffset+=e,t},e.prototype.readString=function(e){return(0,n.fJ)(this.readUint8Array(e))},e.prototype.skipBytes=function(e){this._dataByteOffset+=e,this.byteOffset+=e},e}()},88910:(e,t,r)=>{r.d(t,{N:()=>y});var n=r(72739),i=r(69314),o=r(7949),a=r(84318),s=r(93354),u=r(39126),c=r(61159),l=r(80949),h=(r(90052),131072),f=131072;function d(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var p=d("DXT1"),g=d("DXT3"),v=d("DXT5"),m=d("DX10"),y=function(){function e(){}return e.GetDDSInfo=function(e){var t=new Int32Array(e.buffer,e.byteOffset,31),r=new Int32Array(e.buffer,e.byteOffset,35),n=1;t[2]&h&&(n=Math.max(1,t[7]));var i=t[21],o=i===m?r[32]:0,a=0;switch(i){case 113:a=2;break;case 116:a=1;break;case m:if(10===o){a=2;break}if(2===o){a=1;break}}return{width:t[4],height:t[3],mipmapCount:n,isFourCC:4==(4&t[20]),isRGB:64==(64&t[20]),isLuminance:(t[20]&f)===f,isCube:512==(512&t[28]),isCompressed:i===p||i===g||i===v,dxgiFormat:o,textureType:a}},e._GetHalfFloatAsFloatRGBAArrayBuffer=function(t,r,n,i,o,a){for(var s=new Float32Array(i),u=new Uint16Array(o,n),c=0,h=0;h<r;h++)for(var f=0;f<t;f++){var d=4*(f+h*t);s[c]=(0,l.qZ)(u[d]),s[c+1]=(0,l.qZ)(u[d+1]),s[c+2]=(0,l.qZ)(u[d+2]),e.StoreLODInAlphaChannel?s[c+3]=a:s[c+3]=(0,l.qZ)(u[d+3]),c+=4}return s},e._GetHalfFloatRGBAArrayBuffer=function(t,r,n,i,o,a){if(e.StoreLODInAlphaChannel){for(var s=new Uint16Array(i),u=new Uint16Array(o,n),c=0,h=0;h<r;h++)for(var f=0;f<t;f++){var d=4*(f+h*t);s[c]=u[d],s[c+1]=u[d+1],s[c+2]=u[d+2],s[c+3]=(0,l.ay)(a),c+=4}return s}return new Uint16Array(o,n,i)},e._GetFloatRGBAArrayBuffer=function(t,r,n,i,o,a){if(e.StoreLODInAlphaChannel){for(var s=new Float32Array(i),u=new Float32Array(o,n),c=0,l=0;l<r;l++)for(var h=0;h<t;h++){var f=4*(h+l*t);s[c]=u[f],s[c+1]=u[f+1],s[c+2]=u[f+2],s[c+3]=a,c+=4}return s}return new Float32Array(o,n,i)},e._GetFloatAsHalfFloatRGBAArrayBuffer=function(t,r,n,i,o,a){for(var s=new Uint16Array(i),u=new Float32Array(o,n),c=0,h=0;h<r;h++)for(var f=0;f<t;f++)s[c]=(0,l.ay)(u[c]),s[c+1]=(0,l.ay)(u[c+1]),s[c+2]=(0,l.ay)(u[c+2]),e.StoreLODInAlphaChannel?s[c+3]=(0,l.ay)(a):s[c+3]=(0,l.ay)(u[c+3]),c+=4;return s},e._GetFloatAsUIntRGBAArrayBuffer=function(t,r,i,o,a,s){for(var u=new Uint8Array(o),c=new Float32Array(a,i),l=0,h=0;h<r;h++)for(var f=0;f<t;f++){var d=4*(f+h*t);u[l]=255*n.R.Clamp(c[d]),u[l+1]=255*n.R.Clamp(c[d+1]),u[l+2]=255*n.R.Clamp(c[d+2]),e.StoreLODInAlphaChannel?u[l+3]=s:u[l+3]=255*n.R.Clamp(c[d+3]),l+=4}return u},e._GetHalfFloatAsUIntRGBAArrayBuffer=function(t,r,i,o,a,s){for(var u=new Uint8Array(o),c=new Uint16Array(a,i),h=0,f=0;f<r;f++)for(var d=0;d<t;d++){var p=4*(d+f*t);u[h]=255*n.R.Clamp((0,l.qZ)(c[p])),u[h+1]=255*n.R.Clamp((0,l.qZ)(c[p+1])),u[h+2]=255*n.R.Clamp((0,l.qZ)(c[p+2])),e.StoreLODInAlphaChannel?u[h+3]=s:u[h+3]=255*n.R.Clamp((0,l.qZ)(c[p+3])),h+=4}return u},e._GetRGBAArrayBuffer=function(e,t,r,n,i,o,a,s,u){for(var c=new Uint8Array(n),l=new Uint8Array(i,r),h=0,f=0;f<t;f++)for(var d=0;d<e;d++){var p=4*(d+f*e);c[h]=l[p+o],c[h+1]=l[p+a],c[h+2]=l[p+s],c[h+3]=l[p+u],h+=4}return c},e._ExtractLongWordOrder=function(t){return 0===t||255===t||-16777216===t?0:1+e._ExtractLongWordOrder(t>>8)},e._GetRGBArrayBuffer=function(e,t,r,n,i,o,a,s){for(var u=new Uint8Array(n),c=new Uint8Array(i,r),l=0,h=0;h<t;h++)for(var f=0;f<e;f++){var d=3*(f+h*e);u[l]=c[d+o],u[l+1]=c[d+a],u[l+2]=c[d+s],l+=3}return u},e._GetLuminanceArrayBuffer=function(e,t,r,n,i){for(var o=new Uint8Array(n),a=new Uint8Array(i,r),s=0,u=0;u<t;u++)for(var c=0;c<e;c++){var l=c+u*e;o[s]=a[l],s++}return o},e.UploadDDSLevels=function(t,r,n,i,o,u,c,l,f){void 0===c&&(c=-1),void 0===f&&(f=!0);var d=null;i.sphericalPolynomial&&(d=new Array);var y=!!t.getCaps().s3tc;r.generateMipMaps=o;var _,b,A,w,C,P,T=new Int32Array(n.buffer,n.byteOffset,31),x=0,E=0,S=1;if(542327876===T[0])if(i.isFourCC||i.isRGB||i.isLuminance)if(!i.isCompressed||y){var D=T[22];A=T[1]+4;var R=!1;if(i.isFourCC)switch(T[21]){case p:S=8,E=33777;break;case g:S=16,E=33778;break;case v:S=16,E=33779;break;case 113:R=!0,D=64;break;case 116:R=!0,D=128;break;case m:A+=20;var B=!1;switch(i.dxgiFormat){case 10:R=!0,D=64,B=!0;break;case 2:R=!0,D=128,B=!0;break;case 88:i.isRGB=!0,i.isFourCC=!1,D=32,B=!0}if(B)break;default:return}var O=e._ExtractLongWordOrder(T[23]),F=e._ExtractLongWordOrder(T[24]),I=e._ExtractLongWordOrder(T[25]),M=e._ExtractLongWordOrder(T[26]);R&&(E=t._getRGBABufferInternalSizedFormat(i.textureType)),C=1,T[2]&h&&!1!==o&&(C=Math.max(1,T[7]));for(var L=l||0,k=t.getCaps(),U=L;U<u;U++){for(_=T[4],b=T[3],P=0;P<C;++P){if(-1===c||c===P){var j=-1===c?P:0;if(!i.isCompressed&&i.isFourCC){r.format=5,x=_*b*4;var K=null;if(t._badOS||t._badDesktopOS||!k.textureHalfFloat&&!k.textureFloat)128===D?(K=e._GetFloatAsUIntRGBAArrayBuffer(_,b,n.byteOffset+A,x,n.buffer,j),d&&0==j&&d.push(e._GetFloatRGBAArrayBuffer(_,b,n.byteOffset+A,x,n.buffer,j))):64===D&&(K=e._GetHalfFloatAsUIntRGBAArrayBuffer(_,b,n.byteOffset+A,x,n.buffer,j),d&&0==j&&d.push(e._GetHalfFloatAsFloatRGBAArrayBuffer(_,b,n.byteOffset+A,x,n.buffer,j))),r.type=0;else{var z=k.textureFloat&&(f&&k.textureFloatLinearFiltering||!f),N=k.textureHalfFloat&&(f&&k.textureHalfFloatLinearFiltering||!f),G=(128===D||64===D&&!N)&&z?1:(64===D||128===D&&!z)&&N?2:0,Q=void 0,H=null;if(128===D)switch(G){case 1:Q=e._GetFloatRGBAArrayBuffer,H=null;break;case 2:Q=e._GetFloatAsHalfFloatRGBAArrayBuffer,H=e._GetFloatRGBAArrayBuffer;break;case 0:Q=e._GetFloatAsUIntRGBAArrayBuffer,H=e._GetFloatRGBAArrayBuffer}else switch(G){case 1:Q=e._GetHalfFloatAsFloatRGBAArrayBuffer,H=null;break;case 2:Q=e._GetHalfFloatRGBAArrayBuffer,H=e._GetHalfFloatAsFloatRGBAArrayBuffer;break;case 0:Q=e._GetHalfFloatAsUIntRGBAArrayBuffer,H=e._GetHalfFloatAsFloatRGBAArrayBuffer}r.type=G,K=Q(_,b,n.byteOffset+A,x,n.buffer,j),d&&0==j&&d.push(H?H(_,b,n.byteOffset+A,x,n.buffer,j):K)}K&&t._uploadDataToTextureDirectly(r,K,U,j)}else if(i.isRGB)r.type=0,24===D?(r.format=4,x=_*b*3,w=e._GetRGBArrayBuffer(_,b,n.byteOffset+A,x,n.buffer,O,F,I),t._uploadDataToTextureDirectly(r,w,U,j)):(r.format=5,x=_*b*4,w=e._GetRGBAArrayBuffer(_,b,n.byteOffset+A,x,n.buffer,O,F,I,M),t._uploadDataToTextureDirectly(r,w,U,j));else if(i.isLuminance){var V=t._getUnpackAlignement(),Y=_;x=Math.floor((_+V-1)/V)*V*(b-1)+Y,w=e._GetLuminanceArrayBuffer(_,b,n.byteOffset+A,x,n.buffer),r.format=1,r.type=0,t._uploadDataToTextureDirectly(r,w,U,j)}else x=Math.max(4,_)/4*Math.max(4,b)/4*S,w=new Uint8Array(n.buffer,n.byteOffset+A,x),r.type=0,t._uploadCompressedDataToTextureDirectly(r,E,_,b,w,U,j)}A+=D?_*b*(D/8):x,_*=.5,b*=.5,_=Math.max(1,_),b=Math.max(1,b)}if(void 0!==l)break}d&&d.length>0?i.sphericalPolynomial=s.$.ConvertCubeMapToSphericalPolynomial({size:T[4],right:d[0],left:d[1],up:d[2],down:d[3],front:d[4],back:d[5],format:5,type:1,gammaSpace:!1}):i.sphericalPolynomial=void 0}else a.Y.Error("Compressed textures are not supported on this platform.");else a.Y.Error("Unsupported format, must contain a FourCC, RGB or LUMINANCE code");else a.Y.Error("Invalid magic number in DDS header")},e.StoreLODInAlphaChannel=!1,e}();c.B.prototype.createPrefilteredCubeTexture=function(e,t,r,s,c,l,h,f,d){var p=this;void 0===c&&(c=null),void 0===l&&(l=null),void 0===f&&(f=null),void 0===d&&(d=!0);return this.createCubeTexture(e,t,null,!1,(function(e){if(e){var l=e.texture;if(d?e.info.sphericalPolynomial&&(l._sphericalPolynomial=e.info.sphericalPolynomial):l._sphericalPolynomial=new i.i,l._source=o.S.CubePrefiltered,p.getCaps().textureLOD)c&&c(l);else{var h=p._gl,f=e.width;if(f){for(var g=[],v=0;v<3;v++){var m=1-v/2,_=s,b=n.R.Log2(f)*r+s,A=_+(b-_)*m,w=Math.round(Math.min(Math.max(A,0),b)),C=new o.l(p,o.S.Temp);if(C.type=l.type,C.format=l.format,C.width=Math.pow(2,Math.max(n.R.Log2(f)-w,0)),C.height=C.width,C.isCube=!0,C._cachedWrapU=0,C._cachedWrapV=0,p._bindTextureDirectly(h.TEXTURE_CUBE_MAP,C,!0),C.samplingMode=2,h.texParameteri(h.TEXTURE_CUBE_MAP,h.TEXTURE_MAG_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_CUBE_MAP,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_CUBE_MAP,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_CUBE_MAP,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),e.isDDS){var P=e.info,T=e.data;p._unpackFlipY(P.isCompressed),y.UploadDDSLevels(p,C,T,P,!0,6,w)}else a.Y.Warn("DDS is the only prefiltered cube map supported so far.");p._bindTextureDirectly(h.TEXTURE_CUBE_MAP,null);var x=new u.V(t);x.isCube=!0,x._texture=C,C.isReady=!0,g.push(x)}l._lodTextureHigh=g[2],l._lodTextureMid=g[1],l._lodTextureLow=g[0],c&&c(l)}}}else c&&c(null)}),l,h,f,d,r,s)}},96969:(e,t,r)=>{r.d(t,{G6:()=>E,N$:()=>b,QC:()=>m,RR:()=>_,VE:()=>T,XX:()=>A,hd:()=>y,mv:()=>C,n9:()=>g,oQ:()=>P,oU:()=>p,p4:()=>x,qC:()=>d,qQ:()=>v,rX:()=>w,wz:()=>f});var n=r(20163),i=r(58095),o=r(77851),a=r(15631),s={},u={},c=function(e,t,r){var i=e();n.$&&n.$.AddTagsTo(i,t.tags);var o=l(i);for(var a in o){var s=o[a],u=t[a],c=s.type;if(null!=u&&("uniqueId"!==a||x.AllowLoadingUniqueId))switch(c){case 0:case 6:case 11:i[a]=u;break;case 1:i[a]=r||u.isRenderTarget?u:u.clone();break;case 2:case 3:case 4:case 5:case 7:case 10:case 12:i[a]=r?u:u.clone()}}return i};function l(e){var t=e.getClassName();if(u[t])return u[t];u[t]={};for(var r=u[t],n=e,i=t;i;){var o=s[i];for(var a in o)r[a]=o[a];var c=void 0,l=!1;do{if(!(c=Object.getPrototypeOf(n)).getClassName){l=!0;break}if(c.getClassName()!==i)break;n=c}while(c);if(l)break;i=c.getClassName(),n=c}return r}function h(e,t){return function(r,n){var i=function(e){var t=e.getClassName();return s[t]||(s[t]={}),s[t]}(r);i[n]||(i[n]={type:e,sourceName:t})}}function f(e,t){return void 0===t&&(t=null),function(e,t){return void 0===t&&(t=null),function(r,n){var i=t||"_"+n;Object.defineProperty(r,n,{get:function(){return this[i]},set:function(t){"function"==typeof this.equals&&this.equals(t)||this[i]!==t&&(this[i]=t,r[e].apply(this))},enumerable:!0,configurable:!0})}}(e,t)}function d(e){return h(0,e)}function p(e){return h(1,e)}function g(e){return h(2,e)}function v(e){return h(3,e)}function m(e){return h(4,e)}function y(e){return h(5,e)}function _(e){return h(6,e)}function b(e){return h(7,e)}function A(e){return h(8,e)}function w(e){return h(9,e)}function C(e){return h(10,e)}function P(e){return h(12,e)}function T(e){return h(11,e)}var x=function(){function e(){}return e.AppendSerializedAnimations=function(e,t){if(e.animations){t.animations=[];for(var r=0;r<e.animations.length;r++){var n=e.animations[r];t.animations.push(n.serialize())}}},e.Serialize=function(t,r){r||(r={}),n.$&&(r.tags=n.$.GetTags(t));var i=l(t);for(var o in i){var a=i[o],s=a.sourceName||o,u=a.type,c=t[o];if(null!=c&&("uniqueId"!==o||e.AllowLoadingUniqueId))switch(u){case 0:r[s]=c;break;case 1:case 3:case 7:case 9:r[s]=c.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:r[s]=c.asArray();break;case 6:case 11:r[s]=c.id}}return r},e.Parse=function(t,r,o,s){void 0===s&&(s=null);var u=t();s||(s=""),n.$&&n.$.AddTagsTo(u,r.tags);var c=l(u);for(var h in c){var f=c[h],d=r[f.sourceName||h],p=f.type;if(null!=d&&("uniqueId"!==h||e.AllowLoadingUniqueId)){var g=u;switch(p){case 0:g[h]=d;break;case 1:o&&(g[h]=e._TextureParser(d,o,s));break;case 2:g[h]=a.Wo.FromArray(d);break;case 3:g[h]=e._FresnelParametersParser(d);break;case 4:g[h]=i.FM.FromArray(d);break;case 5:g[h]=i.P.FromArray(d);break;case 6:o&&(g[h]=o.getLastMeshById(d));break;case 7:g[h]=e._ColorCurvesParser(d);break;case 8:g[h]=a.HE.FromArray(d);break;case 9:g[h]=e._ImageProcessingConfigurationParser(d);break;case 10:g[h]=i._f.FromArray(d);break;case 11:o&&(g[h]=o.getCameraById(d));break;case 12:g[h]=i.y3.FromArray(d)}}}return u},e.Clone=function(e,t){return c(e,t,!1)},e.Instanciate=function(e,t){return c(e,t,!0)},e.AllowLoadingUniqueId=!1,e._ImageProcessingConfigurationParser=function(e){throw(0,o.S)("ImageProcessingConfiguration")},e._FresnelParametersParser=function(e){throw(0,o.S)("FresnelParameters")},e._ColorCurvesParser=function(e){throw(0,o.S)("ColorCurves")},e._TextureParser=function(e,t,r){throw(0,o.S)("Texture")},e}();function E(e,t,r,n){var i=r.value;r.value=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var a=i;if("undefined"!=typeof _native&&_native[t]){var s=_native[t];a=n?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(void 0,e)?s.apply(void 0,e):i.apply(void 0,e)}:s}return e[t]=a,a.apply(void 0,r)}}E.filter=function(e){return function(t,r,n){return E(t,r,n,e)}}},1101:(e,t,r)=>{r.d(t,{j:()=>o});var n=r(84318),i=function(e,t){return e?e.getClassName&&"Mesh"===e.getClassName()?null:e.getClassName&&"SubMesh"===e.getClassName()?e.clone(t):e.clone?e.clone():null:null};var o=function(){function e(){}return e.DeepCopy=function(e,t,r,o){for(var a=function(e){var t=[];do{Object.getOwnPropertyNames(e).forEach((function(e){-1===t.indexOf(e)&&t.push(e)}))}while(e=Object.getPrototypeOf(e));return t}(e),s=0,u=a;s<u.length;s++){var c=u[s];if(("_"!==c[0]||o&&-1!==o.indexOf(c))&&!(c.endsWith("Observable")||r&&-1!==r.indexOf(c))){var l=e[c],h=typeof l;if("function"!==h)try{if("object"===h)if(l instanceof Array){if(t[c]=[],l.length>0)if("object"==typeof l[0])for(var f=0;f<l.length;f++){var d=i(l[f],t);-1===t[c].indexOf(d)&&t[c].push(d)}else t[c]=l.slice(0)}else t[c]=i(l,t);else t[c]=l}catch(e){n.Y.Warn(e.message)}}}},e}()},94138:(e,t,r)=>{r.d(t,{B:()=>n});var n=function(){function e(){var e=this;this.promise=new Promise((function(t,r){e._resolve=t,e._reject=r}))}return Object.defineProperty(e.prototype,"resolve",{get:function(){return this._resolve},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reject",{get:function(){return this._reject},enumerable:!1,configurable:!0}),e}()},39521:(e,t,r)=>{r.d(t,{j:()=>o});var n=r(31191),i=r(13613),o=function(e){function t(t){return e.call(this,t)||this}return(0,n.ZT)(t,e),Object.defineProperty(t.prototype,"depthRenderer",{get:function(){return this._depthRenderer},enumerable:!1,configurable:!0}),t.prototype.setDepthRenderer=function(t,r,n){void 0===t&&(t=null),void 0===r&&(r=2),void 0===n&&(n=!0);var o=this._camera.getScene();this._depthRenderer&&(delete o._depthRenderer[this._depthRendererId],this._depthRenderer.dispose(),this._depthRenderer=null),null===t&&(o._depthRenderer||(o._depthRenderer={}),(t=this._depthRenderer=new i.g(o,r,this._camera,!1,1)).enabled=!1,this._depthRendererId="minmax"+this._camera.id,o._depthRenderer[this._depthRendererId]=t),e.prototype.setSourceTexture.call(this,t.getDepthMap(),!0,r,n)},t.prototype.setSourceTexture=function(t,r,n,i){void 0===n&&(n=2),void 0===i&&(i=!0),e.prototype.setSourceTexture.call(this,t,r,n,i)},t.prototype.activate=function(){this._depthRenderer&&(this._depthRenderer.enabled=!0),e.prototype.activate.call(this)},t.prototype.deactivate=function(){e.prototype.deactivate.call(this),this._depthRenderer&&(this._depthRenderer.enabled=!1)},t.prototype.dispose=function(t){if(void 0===t&&(t=!0),e.prototype.dispose.call(this,t),this._depthRenderer&&t){var r=this._depthRenderer.getDepthMap().getScene();r&&delete r._depthRenderer[this._depthRendererId],this._depthRenderer.dispose(),this._depthRenderer=null}},t}(r(88114).d)},77851:(e,t,r)=>{function n(e){return"".concat(e," needs to be imported before as it contains a side-effect required by your code.")}r.d(t,{S:()=>n})},80352:(e,t,r)=>{function n(){return"undefined"!=typeof window}function i(){return"undefined"!=typeof navigator}function o(){return"undefined"!=typeof document}function a(e){for(var t="",r=e.firstChild;r;)3===r.nodeType&&(t+=r.textContent),r=r.nextSibling;return t}r.d(t,{CG:()=>n,MZ:()=>s,n5:()=>o,up:()=>i,v:()=>a});var s={IsWindowObjectExist:n,IsNavigatorAvailable:i,IsDocumentAvailable:o,GetDOMTextContent:a}},71892:(e,t,r)=>{r.d(t,{Do:()=>b,Lf:()=>T,QH:()=>m,Ro:()=>A,p6:()=>y,qC:()=>P,qJ:()=>v,qZ:()=>C,qh:()=>x});var n=r(31191),i=r(13514),o=r(58095),a=r(72739),s=r(69314),u=r(7949),c=r(39126),l=r(65273),h=r(16142),f=r(84318),d=r(95718),p=(r(74500),r(5382),r(7023),r(18917),r(87866),"image/png"),g=[134,22,135,150,246,214,150,54];function v(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=0,n=0;n<g.length;n++)if(t.getUint8(r++)!==g[n])return f.Y.Error("Not a babylon environment map"),null;for(var i="",o=0;o=t.getUint8(r++);)i+=String.fromCharCode(o);var a=JSON.parse(i);return(a=m(a)).specular&&(a.specular.specularDataPosition=r,a.specular.lodGenerationScale=a.specular.lodGenerationScale||.8),a}function m(e){if(e.version>2)throw new Error('Unsupported babylon environment map version "'.concat(e.version,'". Latest supported version is "').concat(2,'".'));return 2===e.version?e:e=(0,n.pi)((0,n.pi)({},e),{version:2,imageType:p})}function y(e,t){var r;return void 0===t&&(t={}),(0,n.mG)(this,void 0,void 0,(function(){var o,s,u,c,h,f,v,m,y,b,A,w,C,P,T,x,E,S,D,R,B,O,F,I,M,L,k,U,j,K;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:if(!(o=e.getInternalTexture()))return[2,Promise.reject("The cube texture is invalid.")];if(s=null!==(r=t.imageType)&&void 0!==r?r:p,u=o.getEngine(),2!==e.textureType&&1!==e.textureType&&0!==e.textureType&&0!==e.textureType&&7!==e.textureType&&-1!==e.textureType)return[2,Promise.reject("The cube texture should allow HDR (Full Float or Half Float).")];if(c=1,!u.getCaps().textureFloatRender&&(c=2,!u.getCaps().textureHalfFloatRender))return[2,Promise.reject("Env texture can only be created when the browser supports half float or full float rendering.")];h=o.width,f=new l.x(u),v={},u.flushFramebuffer(),m=a.R.ILog2(o.width),U=0,n.label=1;case 1:if(!(U<=m))return[3,9];y=Math.pow(2,m-U),j=0,n.label=2;case 2:return j<6?[4,e.readPixels(j,U,void 0,!1)]:[3,8];case 3:if((b=n.sent())&&b.byteLength===b.length){for(A=new Float32Array(4*b.byteLength),w=0;w<b.byteLength;w++)A[w]=b[w]/255,A[w]=Math.pow(A[w],2.2);b=A}return C=u.createRawTexture(b,y,y,5,!1,!0,1,null,c),[4,d.r.EncodeTextureToRGBD(C,f,c)];case 4:return n.sent(),[4,u._readTexturePixels(C,y,y)];case 5:return P=n.sent(),[4,i.w1.DumpDataAsync(y,y,P,s,void 0,!1,!0,t.imageQuality)];case 6:T=n.sent(),v[6*U+j]=T,C.dispose(),n.label=7;case 7:return j++,[3,2];case 8:return U++,[3,1];case 9:for(f.dispose(),x={version:2,width:h,imageType:s,irradiance:_(e),specular:{mipmaps:[],lodGenerationScale:e.lodGenerationScale}},E=0,U=0;U<=m;U++)for(j=0;j<6;j++)S=v[6*U+j].byteLength,x.specular.mipmaps.push({length:S,position:E}),E+=S;for(D=JSON.stringify(x),R=new ArrayBuffer(D.length+1),B=new Uint8Array(R),U=0,O=D.length;U<O;U++)B[U]=D.charCodeAt(U);for(B[D.length]=0,F=g.length+E+R.byteLength,I=new ArrayBuffer(F),M=new Uint8Array(I),L=new DataView(I),k=0,U=0;U<g.length;U++)L.setUint8(k++,g[U]);for(M.set(new Uint8Array(R),k),k+=R.byteLength,U=0;U<=m;U++)for(j=0;j<6;j++)K=v[6*U+j],M.set(new Uint8Array(K),k),k+=K.byteLength;return[2,I]}}))}))}function _(e){var t=e.sphericalPolynomial;return null==t?null:{x:[t.x.x,t.x.y,t.x.z],y:[t.y.x,t.y.y,t.y.z],z:[t.z.x,t.z.y,t.z.z],xx:[t.xx.x,t.xx.y,t.xx.z],yy:[t.yy.x,t.yy.y,t.yy.z],zz:[t.zz.x,t.zz.y,t.zz.z],yz:[t.yz.x,t.yz.y,t.yz.z],zx:[t.zx.x,t.zx.y,t.zx.z],xy:[t.xy.x,t.xy.y,t.xy.z]}}function b(e,t){var r=(t=m(t)).specular,n=a.R.Log2(t.width);if(n=Math.round(n)+1,r.mipmaps.length!==6*n)throw new Error('Unsupported specular mipmaps number "'.concat(r.mipmaps.length,'"'));for(var i=new Array(n),o=0;o<n;o++){i[o]=new Array(6);for(var s=0;s<6;s++){var u=r.mipmaps[6*o+s];i[o][s]=new Uint8Array(e.buffer,e.byteOffset+r.specularDataPosition+u.position,u.length)}}return i}function A(e,t,r){var n=(r=m(r)).specular;return n?(e._lodGenerationScale=n.lodGenerationScale,C(e,b(t,r),r.imageType)):Promise.resolve()}function w(e,t,r,n,i,o,a,s,u,c,l){return new Promise((function(h,f){if(r){var d=t.createTexture(null,!0,!0,null,1,null,(function(e){f(e)}),e);n.getEffect().executeWhenCompiled((function(){n.externalTextureSamplerBinding=!0,n.onApply=function(r){r._bindTexture("textureSampler",d),r.setFloat2("scale",1,t._features.needsInvertingBitmap&&e instanceof ImageBitmap?-1:1)},t.scenes.length&&(t.scenes[0].postProcessManager.directRender([n],c,!0,o,a),t.restoreDefaultFramebuffer(),d.dispose(),URL.revokeObjectURL(i),h())}))}else{if(t._uploadImageToTexture(l,e,o,a),s){var p=u[a];p&&t._uploadImageToTexture(p._texture,e,o,0)}h()}}))}function C(e,t,r){if(void 0===r&&(r=p),!i.w1.IsExponentOfTwo(e.width))throw new Error("Texture size must be a power of two");var n=a.R.ILog2(e.width)+1,o=e.getEngine(),s=!1,l=!1,f=null,d=null,g=null,v=o.getCaps();if(e.format=5,e.type=0,e.generateMipMaps=!0,e._cachedAnisotropicFilteringLevel=null,o.updateTextureSamplingMode(3,e),v.textureLOD?o._features.supportRenderAndCopyToLodForFloatTextures?v.textureHalfFloatRender&&v.textureHalfFloatLinearFiltering?(s=!0,e.type=2):v.textureFloatRender&&v.textureFloatLinearFiltering&&(s=!0,e.type=1):s=!1:(s=!1,l=!0,g={}),s)f=new h.D("rgbdDecode","rgbdDecode",null,null,1,null,3,o,!1,void 0,e.type,void 0,null,!1),e._isRGBD=!1,e.invertY=!1,d=o.createRenderTargetCubeTexture(e.width,{generateDepthBuffer:!1,generateMipMaps:!0,generateStencilBuffer:!1,samplingMode:3,type:e.type,format:5});else if(e._isRGBD=!0,e.invertY=!0,l)for(var m=e._lodGenerationScale,y=e._lodGenerationOffset,_=0;_<3;_++){var b=(n-1)*m+y,A=y+(b-y)*(1-_/2),C=Math.round(Math.min(Math.max(A,0),b)),P=new u.l(o,u.S.Temp);P.isCube=!0,P.invertY=!0,P.generateMipMaps=!1,o.updateTextureSamplingMode(2,P);var T=new c.V(null);switch(T.isCube=!0,T._texture=P,g[C]=T,_){case 0:e._lodTextureLow=T;break;case 1:e._lodTextureMid=T;break;case 2:e._lodTextureHigh=T}}var x=[],E=function(n){for(var i=function(i){var a=t[n][i],u=new Blob([a],{type:r}),c=URL.createObjectURL(u),h=void 0;if("undefined"==typeof Image||o._features.forceBitmapOverHTMLImageElement)h=o.createImageBitmap(u,{premultiplyAlpha:"none"}).then((function(t){return w(t,o,s,f,c,i,n,l,g,d,e)}));else{var p=new Image;p.src=c,h=new Promise((function(t,r){p.onload=function(){w(p,o,s,f,c,i,n,l,g,d,e).then((function(){return t()})).catch((function(e){r(e)}))},p.onerror=function(e){r(e)}}))}x.push(h)},a=0;a<6;a++)i(a)};for(_=0;_<t.length;_++)E(_);if(t.length<n){var S=void 0,D=Math.pow(2,n-1-t.length),R=D*D*4;switch(e.type){case 0:S=new Uint8Array(R);break;case 2:S=new Uint16Array(R);break;case 1:S=new Float32Array(R)}for(_=t.length;_<n;_++)for(var B=0;B<6;B++)o._uploadArrayBufferViewToTexture(e,S,B,_)}return Promise.all(x).then((function(){d&&(o._releaseTexture(e),d._swapAndDie(e)),f&&f.dispose(),l&&(e._lodTextureHigh&&e._lodTextureHigh._texture&&(e._lodTextureHigh._texture.isReady=!0),e._lodTextureMid&&e._lodTextureMid._texture&&(e._lodTextureMid._texture.isReady=!0),e._lodTextureLow&&e._lodTextureLow._texture&&(e._lodTextureLow._texture.isReady=!0))}))}function P(e,t){var r=(t=m(t)).irradiance;if(r){var n=new s.i;o.P.FromArrayToRef(r.x,0,n.x),o.P.FromArrayToRef(r.y,0,n.y),o.P.FromArrayToRef(r.z,0,n.z),o.P.FromArrayToRef(r.xx,0,n.xx),o.P.FromArrayToRef(r.yy,0,n.yy),o.P.FromArrayToRef(r.zz,0,n.zz),o.P.FromArrayToRef(r.yz,0,n.yz),o.P.FromArrayToRef(r.zx,0,n.zx),o.P.FromArrayToRef(r.xy,0,n.xy),e._sphericalPolynomial=n}}function T(e,t,r,n,i){var o=C(e.getEngine().createRawCubeTexture(null,e.width,e.format,e.type,e.generateMipMaps,e.invertY,e.samplingMode,e._compression),t).then((function(){return e}));return e.onRebuildCallback=function(e){return{proxy:o,isReady:!0,isAsync:!0}},e._source=u.S.CubeRawRGBD,e._bufferViewArrayArray=t,e._lodGenerationScale=n,e._lodGenerationOffset=i,e._sphericalPolynomial=r,C(e,t).then((function(){return e.isReady=!0,e}))}var x={GetEnvInfo:v,CreateEnvTextureAsync:y,CreateImageDataArrayBufferViews:b,UploadEnvLevelsAsync:A,UploadLevelsAsync:C,UploadEnvSpherical:P}},46223:(e,t,r)=>{r.d(t,{GU:()=>i,LH:()=>a,SM:()=>o});var n=r(31191),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.ZT)(t,e),t._setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t}(Error),o={MeshInvalidPositionsError:0,UnsupportedTextureError:1e3,GLTFLoaderUnexpectedMagicError:2e3,SceneLoaderError:3e3,LoadFileError:4e3,RequestFileError:4001,ReadFileError:4002},a=function(e){function t(r,n,o){var a=e.call(this,r)||this;return a.errorCode=n,a.innerError=o,a.name="RuntimeError",i._setPrototypeOf(a,t.prototype),a}return(0,n.ZT)(t,e),t}(i)},79245:(e,t,r)=>{r.d(t,{$K:()=>D,$M:()=>w,A2:()=>B,FV:()=>x,Ip:()=>P,RC:()=>_,Uh:()=>E,VL:()=>S,W5:()=>O,e0:()=>R,eh:()=>m,kK:()=>y,r6:()=>C,rN:()=>b,vP:()=>T});var n=r(31191),i=r(51912),o=r(80352),a=r(62897),s=r(64436),u=r(42874),c=r(46223),l=r(29972),h=r(91153),f=r(61159),d=r(15210),p=r(84318),g=r(44335),v=new RegExp(/^data:([^,]+\/[^,]+)?;base64,/i),m=function(e){function t(r,n){var o=e.call(this,r,c.SM.LoadFileError)||this;return o.name="LoadFileError",c.GU._setPrototypeOf(o,t.prototype),n instanceof i.g?o.request=n:o.file=n,o}return(0,n.ZT)(t,e),t}(c.LH),y=function(e){function t(r,n){var i=e.call(this,r,c.SM.RequestFileError)||this;return i.request=n,i.name="RequestFileError",c.GU._setPrototypeOf(i,t.prototype),i}return(0,n.ZT)(t,e),t}(c.LH),_=function(e){function t(r,n){var i=e.call(this,r,c.SM.ReadFileError)||this;return i.file=n,i.name="ReadFileError",c.GU._setPrototypeOf(i,t.prototype),i}return(0,n.ZT)(t,e),t}(c.LH),b={DefaultRetryStrategy:u.b.ExponentialBackoff(),BaseUrl:"",CorsBehavior:"anonymous",PreprocessUrl:function(e){return e}},A=function(e){return e=e.replace(/#/gm,"%23")},w=function(e,t){if((!e||0!==e.indexOf("data:"))&&b.CorsBehavior)if("string"==typeof b.CorsBehavior||b.CorsBehavior instanceof String)t.crossOrigin=b.CorsBehavior;else{var r=b.CorsBehavior(e);r&&(t.crossOrigin=r)}},C=function(e,t,r,i,o,a){var u,c;void 0===o&&(o="");var h=!1;e instanceof ArrayBuffer||ArrayBuffer.isView(e)?"undefined"!=typeof Blob?(c=URL.createObjectURL(new Blob([e],{type:o})),h=!0):c="data:".concat(o,";base64,")+(0,l.Gh)(e):e instanceof Blob?(c=URL.createObjectURL(e),h=!0):(c=A(e),c=b.PreprocessUrl(e));var f=d.l.LastCreatedEngine,p=function(t){if(r){var n=c||e.toString();r("Error while trying to load image: ".concat(0===n.indexOf("http")||n.length<=128?n:n.slice(0,128)+"..."),t)}};if("undefined"==typeof Image||null!==(u=null==f?void 0:f._features.forceBitmapOverHTMLImageElement)&&void 0!==u&&u)return T(c,(function(i){f.createImageBitmap(new Blob([i],{type:o}),(0,n.pi)({premultiplyAlpha:"none"},a)).then((function(e){t(e),h&&URL.revokeObjectURL(c)})).catch((function(t){r&&r("Error while trying to load image: "+e,t)}))}),void 0,i||void 0,!0,(function(e,t){p(t)})),null;var g=new Image;w(c,g);var v=function(){g.removeEventListener("load",v),g.removeEventListener("error",m),t(g),h&&g.src&&URL.revokeObjectURL(g.src)},m=function(e){g.removeEventListener("load",v),g.removeEventListener("error",m),p(e),h&&g.src&&URL.revokeObjectURL(g.src)};g.addEventListener("load",v),g.addEventListener("error",m);var y=function(){g.src=c};if("blob:"!==c.substr(0,5)&&"data:"!==c.substr(0,5)&&i&&i.enableTexturesOffline)i.open((function(){i&&i.loadImage(c,g)}),y);else{if(-1!==c.indexOf("file:")){var _=decodeURIComponent(c.substring(5).toLowerCase());if(s.X.FilesToLoad[_]){try{var C=void 0;try{C=URL.createObjectURL(s.X.FilesToLoad[_])}catch(e){C=URL.createObjectURL(s.X.FilesToLoad[_])}g.src=C,h=!0}catch(e){g.src=""}return g}}y()}return g},P=function(e,t,r,n,i){var o=new FileReader,s={onCompleteObservable:new a.y$,abort:function(){return o.abort()}};return o.onloadend=function(){return s.onCompleteObservable.notifyObservers(s)},i&&(o.onerror=function(){i(new _("Unable to read ".concat(e.name),e))}),o.onload=function(e){t(e.target.result)},r&&(o.onprogress=r),n?o.readAsArrayBuffer(e):o.readAsText(e),s},T=function(e,t,r,n,i,o,u){if(e.name)return P(e,t,r,i,o?function(e){o(void 0,e)}:void 0);var c=e;if(-1!==c.indexOf("file:")){var l=decodeURIComponent(c.substring(5).toLowerCase());0===l.indexOf("./")&&(l=l.substring(2));var h=s.X.FilesToLoad[l];if(h)return P(h,t,r,i,o?function(e){return o(void 0,new m(e.message,e.file))}:void 0)}if(S(c)){var f={onCompleteObservable:new a.y$,abort:function(){return function(){}}};try{t(i?D(c):B(c))}catch(e){o?o(void 0,e):p.Y.Error(e.message||"Failed to parse the Data URL")}return g.Q.SetImmediate((function(){f.onCompleteObservable.notifyObservers(f)})),f}return x(c,(function(e,r){t(e,r?r.responseURL:void 0)}),r,n,i,o?function(e){o(e.request,new m(e.message,e.request))}:void 0,u)},x=function(e,t,r,n,s,u,c){e=A(e),e=b.PreprocessUrl(e);var l=b.BaseUrl+e,h=!1,f={onCompleteObservable:new a.y$,abort:function(){return h=!0}},d=function(){var e,n=new i.g,a=null,d=function(){n&&(r&&n.removeEventListener("progress",r),e&&n.removeEventListener("readystatechange",e),n.removeEventListener("loadend",g))},g=function(){d(),f.onCompleteObservable.notifyObservers(f),f.onCompleteObservable.clear(),r=void 0,e=null,g=null,u=void 0,c=void 0,t=void 0};f.abort=function(){h=!0,g&&g(),n&&n.readyState!==(XMLHttpRequest.DONE||4)&&n.abort(),null!==a&&(clearTimeout(a),a=null),n=null};var v=function(e){var t=e.message||"Unknown error";u&&n?u(new y(t,n)):p.Y.Error(t)},m=function(f){if(n){if(n.open("GET",l),c)try{c(n)}catch(e){return void v(e)}s&&(n.responseType="arraybuffer"),r&&n.addEventListener("progress",r),g&&n.addEventListener("loadend",g),e=function(){if(!h&&n&&n.readyState===(XMLHttpRequest.DONE||4)){if(e&&n.removeEventListener("readystatechange",e),n.status>=200&&n.status<300||0===n.status&&(!(0,o.CG)()||E())){try{t&&t(s?n.response:n.responseText,n)}catch(e){v(e)}return}var r=b.DefaultRetryStrategy;if(r){var c=r(l,n,f);if(-1!==c)return d(),n=new i.g,void(a=setTimeout((function(){return m(f+1)}),c))}var p=new y("Error status: "+n.status+" "+n.statusText+" - Unable to load "+l,n);u&&u(p)}},n.addEventListener("readystatechange",e),n.send()}};m(0)};if(n&&n.enableSceneOffline){var g=function(e){e&&e.status>400?u&&u(e):d()};n.open((function(){n&&n.loadFile(b.BaseUrl+e,(function(e){!h&&t&&t(e),f.onCompleteObservable.notifyObservers(f)}),r?function(e){!h&&r&&r(e)}:void 0,g,s)}),g)}else d();return f},E=function(){return"undefined"!=typeof location&&"file:"===location.protocol},S=function(e){return v.test(e)};function D(e){return(0,l.HQ)(e.split(",")[1])}var R,B=function(e){return(0,l.rP)(e.split(",")[1])};f.B._FileToolsLoadImage=C,f.B._FileToolsLoadFile=T,h.L._FileToolsLoadFile=T;var O=function(e,t,r,n,i,o,a,s,u,c){R={DecodeBase64UrlToBinary:e,DecodeBase64UrlToString:t,DefaultRetryStrategy:r.DefaultRetryStrategy,BaseUrl:r.BaseUrl,CorsBehavior:r.CorsBehavior,PreprocessUrl:r.PreprocessUrl,IsBase64DataUrl:n,IsFileURL:i,LoadFile:o,LoadImage:a,ReadFile:s,RequestFile:u,SetCorsBehavior:c},Object.defineProperty(R,"DefaultRetryStrategy",{get:function(){return r.DefaultRetryStrategy},set:function(e){r.DefaultRetryStrategy=e}}),Object.defineProperty(R,"BaseUrl",{get:function(){return r.BaseUrl},set:function(e){r.BaseUrl=e}}),Object.defineProperty(R,"PreprocessUrl",{get:function(){return r.PreprocessUrl},set:function(e){r.PreprocessUrl=e}}),Object.defineProperty(R,"CorsBehavior",{get:function(){return r.CorsBehavior},set:function(e){r.CorsBehavior=e}})};O(D,B,b,S,E,T,C,P,x,w)},64436:(e,t,r)=>{r.d(t,{X:()=>n});var n=function(){function e(){}return e.FilesToLoad={},e}()},4359:(e,t,r)=>{r.d(t,{b3:()=>a,bK:()=>i,cw:()=>o,fR:()=>s});var n=r(15631),i=function(){function e(e,t,r){this.gradient=e,this.color1=t,this.color2=r}return e.prototype.getColorToRef=function(e){this.color2?n.HE.LerpToRef(this.color1,this.color2,Math.random(),e):e.copyFrom(this.color1)},e}(),o=function(e,t){this.gradient=e,this.color=t},a=function(){function e(e,t,r){this.gradient=e,this.factor1=t,this.factor2=r}return e.prototype.getFactor=function(){return void 0===this.factor2||this.factor2===this.factor1?this.factor1:this.factor1+(this.factor2-this.factor1)*Math.random()},e}(),s=function(){function e(){}return e.GetCurrentGradient=function(e,t,r){if(t[0].gradient>e)r(t[0],t[0],1);else{for(var n=0;n<t.length-1;n++){var i=t[n],o=t[n+1];if(e>=i.gradient&&e<=o.gradient)return void r(i,o,(e-i.gradient)/(o.gradient-i.gradient))}var a=t.length-1;r(t[a],t[a],1)}},e}()},54007:(e,t,r)=>{function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}r.d(t,{f:()=>n,x:()=>i});var i={RandomId:n}},79287:(e,t,r)=>{r.d(t,{vpg:()=>g,xbB:()=>rt.xb,qWT:()=>i.q,$03:()=>ue.$0,l4N:()=>n,SpM:()=>x,yHH:()=>v,$g_:()=>s.$g,vF6:()=>fe.v,DJx:()=>De.D,GUI:()=>bt.GU,Mx:()=>E.Mx,iaP:()=>E.i,_Bh:()=>E._B,Ro4:()=>b,cwf:()=>Be.cw,bK8:()=>Be.bK,Dv9:()=>at.D,aVv:()=>m,r1M:()=>nt.r1,p6z:()=>B.p6,Don:()=>B.Do,cWA:()=>ue.cW,qB:()=>_e,MKb:()=>be,Thz:()=>we,mEG:()=>Ce,ng$:()=>Ae,$Ip:()=>L.$,A0s:()=>C,ifk:()=>q,Ndq:()=>S.N,d86:()=>Le.d,JLz:()=>je,fJx:()=>Me.fJ,HQP:()=>Me.HQ,rPK:()=>Me.rP,$K7:()=>Ie.$K,A2h:()=>Ie.A2,jEH:()=>pe.j,BH3:()=>R.B,jPj:()=>Ue.j,MZx:()=>ot.MZ,sKQ:()=>st,GhU:()=>Me.Gh,gix:()=>Me.gi,qh6:()=>B.qh,_Ig:()=>T,SMD:()=>bt.SM,he:()=>u.he,b3K:()=>Be.b3,e0i:()=>Ie.e0,rN$:()=>Ie.rN,PAr:()=>M,XQz:()=>I.X,qZj:()=>ue.qZ,xDR:()=>_t.x,xjM:()=>nt.xj,_uz:()=>nt._u,Jj7:()=>nt.Jj,qwJ:()=>de.q,vaK:()=>ot.v,qJ3:()=>B.qJ,$zc:()=>De.$,aen:()=>E.ae,A6x:()=>ce.A6,fRE:()=>Be.fR,dkD:()=>P,swi:()=>k.s,frz:()=>Q,LD3:()=>A,rmO:()=>xe,VLh:()=>Ie.VL,n5s:()=>ot.n5,UhZ:()=>Ie.Uh,uph:()=>ot.up,CGO:()=>ot.CG,hx_:()=>he.h,kQW:()=>j.k,Zqr:()=>We.Z,a8K:()=>Y,vPj:()=>Ie.vP,ehT:()=>Ie.eh,r6b:()=>Ie.r6,nGc:()=>E.nG,YdH:()=>d.Y,qAV:()=>J,i5D:()=>y,kMd:()=>F,dlF:()=>ke.d,JEt:()=>u.JE,y$z:()=>u.y$,Qjt:()=>u.Qj,zAd:()=>Me.zA,BGP:()=>U.B,ZQh:()=>X,ivH:()=>mt,zRS:()=>Oe.z,Ady:()=>K.A,PjG:()=>dt,mQQ:()=>ge.m,Cak:()=>V,Fn0:()=>ve.F,rNK:()=>Re.r,fkD:()=>_t.f,Ipe:()=>Ie.Ip,RCS:()=>Ie.RC,r0D:()=>it,H7o:()=>de.H,oeA:()=>W,FV1:()=>Ie.FV,kKe:()=>Ie.kK,bMj:()=>Fe.b,ZQf:()=>K.Z,LHW:()=>bt.LH,R58:()=>N,GY9:()=>$,ywH:()=>Z,vwM:()=>Xe,KqC:()=>ie,n4V:()=>Te,p4y:()=>D.p4,$Ml:()=>Ie.$M,soV:()=>H,trA:()=>oe.t,fR9:()=>oe.f,RiJ:()=>Me.Ri,xx:()=>ae.x,MlK:()=>Me.Ml,t6u:()=>ce.t6,$Gu:()=>se.$,Dfg:()=>_,uCW:()=>w,Zqg:()=>G,OiL:()=>ue.Oi,vsp:()=>rt.vs,ayy:()=>ue.ay,w1W:()=>s.w1,D_e:()=>Je,HuU:()=>tt,rz6:()=>E.rz,Ab0:()=>ce.Ab,RoR:()=>B.Ro,qCE:()=>B.qC,qZN:()=>B.qZ,SBV:()=>le,Ngj:()=>he.N,gZ4:()=>Ee.g,hFj:()=>fe.h,Lfi:()=>B.Lf,W5h:()=>Ie.W5,okp:()=>s.ok,KO$:()=>yt.KO,wzF:()=>D.wz,WPm:()=>yt.WP,U3Q:()=>yt.U3,vpB:()=>yt.vp,G6f:()=>D.G6,QH4:()=>B.QH,d_s:()=>yt.d_,sMO:()=>yt.sM,s3v:()=>yt.s3,qCG:()=>D.qC,VEq:()=>D.VE,n9i:()=>D.n9,XX9:()=>D.XX,N$P:()=>D.N$,qQZ:()=>D.qQ,rXf:()=>D.rX,oQ9:()=>D.oQ,RRj:()=>D.RR,mvQ:()=>D.mv,oU6:()=>D.oU,QCU:()=>D.QC,n9s:()=>D.hd,g_C:()=>rt.g_});var n,i=r(26769),o=r(31191),a=r(63407),s=r(13514),u=r(62897),c=r(73803),l=r(44394),h=r(85790),f=r(87432),d=r(84318),p=r(15210);!function(e){e[e.INIT=0]="INIT",e[e.RUNNING=1]="RUNNING",e[e.DONE=2]="DONE",e[e.ERROR=3]="ERROR"}(n||(n={}));var g=function(){function e(e){this.name=e,this._isCompleted=!1,this._taskState=n.INIT}return Object.defineProperty(e.prototype,"isCompleted",{get:function(){return this._isCompleted},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskState",{get:function(){return this._taskState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errorObject",{get:function(){return this._errorObject},enumerable:!1,configurable:!0}),e.prototype._setErrorObject=function(e,t){this._errorObject||(this._errorObject={message:e,exception:t})},e.prototype.run=function(e,t,r){var i=this;this._taskState=n.RUNNING,this.runTask(e,(function(){i._onDoneCallback(t,r)}),(function(e,t){i._onErrorCallback(r,e,t)}))},e.prototype.runTask=function(e,t,r){throw new Error("runTask is not implemented")},e.prototype.reset=function(){this._taskState=n.INIT},e.prototype._onErrorCallback=function(e,t,r){this._taskState=n.ERROR,this._errorObject={message:t,exception:r},this.onError&&this.onError(this,t,r),e()},e.prototype._onDoneCallback=function(e,t){try{this._taskState=n.DONE,this._isCompleted=!0,this.onSuccess&&this.onSuccess(this),e()}catch(e){this._onErrorCallback(t,"Task is done, error executing success callback(s)",e)}},e}(),v=function(e,t,r){this.remainingCount=e,this.totalCount=t,this.task=r},m=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.name=t,o.meshesNames=r,o.rootUrl=n,o.sceneFilename=i,o}return(0,o.ZT)(t,e),t.prototype.runTask=function(e,t,r){var n=this;a.n.LoadAssetContainer(this.rootUrl,this.sceneFilename,e,(function(e){n.loadedContainer=e,n.loadedMeshes=e.meshes,n.loadedParticleSystems=e.particleSystems,n.loadedSkeletons=e.skeletons,n.loadedAnimationGroups=e.animationGroups,t()}),null,(function(e,t,n){r(t,n)}))},t}(g),y=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.name=t,o.meshesNames=r,o.rootUrl=n,o.sceneFilename=i,o}return(0,o.ZT)(t,e),t.prototype.runTask=function(e,t,r){var n=this;a.n.ImportMesh(this.meshesNames,this.rootUrl,this.sceneFilename,e,(function(e,r,i,o){n.loadedMeshes=e,n.loadedParticleSystems=r,n.loadedSkeletons=i,n.loadedAnimationGroups=o,t()}),null,(function(e,t,n){r(t,n)}))},t}(g),_=function(e){function t(t,r){var n=e.call(this,t)||this;return n.name=t,n.url=r,n}return(0,o.ZT)(t,e),t.prototype.runTask=function(e,t,r){var n=this;e._loadFile(this.url,(function(e){n.text=e,t()}),void 0,!1,!1,(function(e,t){e&&r(e.status+" "+e.statusText,t)}))},t}(g),b=function(e){function t(t,r){var n=e.call(this,t)||this;return n.name=t,n.url=r,n}return(0,o.ZT)(t,e),t.prototype.runTask=function(e,t,r){var n=this;e._loadFile(this.url,(function(e){n.data=e,t()}),void 0,!0,!0,(function(e,t){e&&r(e.status+" "+e.statusText,t)}))},t}(g),A=function(e){function t(t,r){var n=e.call(this,t)||this;return n.name=t,n.url=r,n}return(0,o.ZT)(t,e),t.prototype.runTask=function(e,t,r){var n=this,i=new Image;s.w1.SetCorsBehavior(this.url,i),i.onload=function(){n.image=i,t()},i.onerror=function(e){r("Error loading image",e)},i.src=this.url},t}(g),w=function(e){function t(t,r,n,i,o){void 0===i&&(i=!0),void 0===o&&(o=c.x.TRILINEAR_SAMPLINGMODE);var a=e.call(this,t)||this;return a.name=t,a.url=r,a.noMipmap=n,a.invertY=i,a.samplingMode=o,a}return(0,o.ZT)(t,e),t.prototype.runTask=function(e,t,r){this.texture=new c.x(this.url,e,this.noMipmap,this.invertY,this.samplingMode,(function(){t()}),(function(e,t){r(e,t)}))},t}(g),C=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t)||this;return s.name=t,s.url=r,s.extensions=n,s.noMipmap=i,s.files=o,s.prefiltered=a,s}return(0,o.ZT)(t,e),t.prototype.runTask=function(e,t,r){this.texture=new l.B(this.url,e,this.extensions,this.noMipmap,this.files,(function(){t()}),(function(e,t){r(e,t)}),void 0,this.prefiltered)},t}(g),P=function(e){function t(t,r,n,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===s&&(s=!1);var u=e.call(this,t)||this;return u.name=t,u.url=r,u.size=n,u.noMipmap=i,u.generateHarmonics=o,u.gammaSpace=a,u.reserved=s,u}return(0,o.ZT)(t,e),t.prototype.runTask=function(e,t,r){this.texture=new h.e(this.url,e,this.size,this.noMipmap,this.generateHarmonics,this.gammaSpace,this.reserved,(function(){t()}),(function(e,t){r(e,t)}))},t}(g),T=function(e){function t(t,r,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!0);var a=e.call(this,t)||this;return a.name=t,a.url=r,a.size=n,a.noMipmap=i,a.gammaSpace=o,a}return(0,o.ZT)(t,e),t.prototype.runTask=function(e,t,r){this.texture=new f._(this.url,e,this.size,this.noMipmap,this.gammaSpace,(function(){t()}),(function(e,t){r(e,t)}))},t}(g),x=function(){function e(e){this._isLoading=!1,this._tasks=new Array,this._waitingTasksCount=0,this._totalTasksCount=0,this.onTaskSuccessObservable=new u.y$,this.onTaskErrorObservable=new u.y$,this.onTasksDoneObservable=new u.y$,this.onProgressObservable=new u.y$,this.useDefaultLoadingScreen=!0,this.autoHideLoadingUI=!0,this._scene=e||p.l.LastCreatedScene}return e.prototype.addContainerTask=function(e,t,r,n){var i=new m(e,t,r,n);return this._tasks.push(i),i},e.prototype.addMeshTask=function(e,t,r,n){var i=new y(e,t,r,n);return this._tasks.push(i),i},e.prototype.addTextFileTask=function(e,t){var r=new _(e,t);return this._tasks.push(r),r},e.prototype.addBinaryFileTask=function(e,t){var r=new b(e,t);return this._tasks.push(r),r},e.prototype.addImageTask=function(e,t){var r=new A(e,t);return this._tasks.push(r),r},e.prototype.addTextureTask=function(e,t,r,n,i){void 0===i&&(i=c.x.TRILINEAR_SAMPLINGMODE);var o=new w(e,t,r,n,i);return this._tasks.push(o),o},e.prototype.addCubeTextureTask=function(e,t,r,n,i,o){var a=new C(e,t,r,n,i,o);return this._tasks.push(a),a},e.prototype.addHDRCubeTextureTask=function(e,t,r,n,i,o,a){void 0===n&&(n=!1),void 0===i&&(i=!0),void 0===o&&(o=!1),void 0===a&&(a=!1);var s=new P(e,t,r,n,i,o,a);return this._tasks.push(s),s},e.prototype.addEquiRectangularCubeTextureAssetTask=function(e,t,r,n,i){void 0===n&&(n=!1),void 0===i&&(i=!0);var o=new T(e,t,r,n,i);return this._tasks.push(o),o},e.prototype.removeTask=function(e){var t=this._tasks.indexOf(e);t>-1&&this._tasks.splice(t,1)},e.prototype._decreaseWaitingTasksCount=function(e){this._waitingTasksCount--;try{this.onProgress&&this.onProgress(this._waitingTasksCount,this._totalTasksCount,e),this.onProgressObservable.notifyObservers(new v(this._waitingTasksCount,this._totalTasksCount,e))}catch(e){d.Y.Error("Error running progress callbacks.")}if(0===this._waitingTasksCount){try{var t=this._tasks.slice();this.onFinish&&this.onFinish(t);for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.taskState===n.DONE){var a=this._tasks.indexOf(o);a>-1&&this._tasks.splice(a,1)}}this.onTasksDoneObservable.notifyObservers(this._tasks)}catch(e){d.Y.Error("Error running tasks-done callbacks.")}this._isLoading=!1,this.autoHideLoadingUI&&this._scene.getEngine().hideLoadingUI()}},e.prototype._runTask=function(e){var t=this,r=function(r,n){e._setErrorObject(r,n),t.onTaskError?t.onTaskError(e):e.onError||d.Y.Error(t._formatTaskErrorMessage(e)),t.onTaskErrorObservable.notifyObservers(e),t._decreaseWaitingTasksCount(e)};e.run(this._scene,(function(){try{t.onTaskSuccess&&t.onTaskSuccess(e),t.onTaskSuccessObservable.notifyObservers(e),t._decreaseWaitingTasksCount(e)}catch(e){r("Error executing task success callbacks",e)}}),r)},e.prototype._formatTaskErrorMessage=function(e){var t="Unable to complete task "+e.name;return e.errorObject.message&&(t+=": ".concat(e.errorObject.message)),e.errorObject.exception&&(t+=": ".concat(e.errorObject.exception)),t},e.prototype.reset=function(){return this._isLoading=!1,this._tasks=new Array,this},e.prototype.load=function(){if(this._isLoading)return this;if(this._isLoading=!0,this._waitingTasksCount=this._tasks.length,this._totalTasksCount=this._tasks.length,0===this._waitingTasksCount)return this._isLoading=!1,this.onFinish&&this.onFinish(this._tasks),this.onTasksDoneObservable.notifyObservers(this._tasks),this;this.useDefaultLoadingScreen&&this._scene.getEngine().displayLoadingUI();for(var e=0;e<this._tasks.length;e++){var t=this._tasks[e];t.taskState===n.INIT&&this._runTask(t)}return this},e.prototype.loadAsync=function(){var e=this;return new Promise((function(t,r){e._isLoading?t():(e.onTasksDoneObservable.addOnce((function(e){e&&e.length?r(e):t()})),e.load())}))},e}(),E=r(21004),S=r(88910),D=r(96969),R=r(94138),B=r(71892),O=r(58095),F=function(){function e(e,t){this._meshesOrigins=[],this._toCenterVectors=[],this._scaledDirection=O.P.Zero(),this._newPosition=O.P.Zero(),this._centerPosition=O.P.Zero(),this._meshes=e.slice(),t?this._centerMesh=t:this._setCenterMesh();var r=this._meshes.indexOf(this._centerMesh);r>=0&&this._meshes.splice(r,1),this._centerPosition=this._centerMesh.getAbsolutePosition().clone();for(var n=0;n<this._meshes.length;n++)if(this._meshes[n]){var i=this._meshes[n];this._meshesOrigins[n]=i.getAbsolutePosition().clone(),this._toCenterVectors[n]=O.P.Zero(),i.hasBoundingInfo&&this._centerMesh.hasBoundingInfo&&i.getBoundingInfo().boundingBox.centerWorld.subtractToRef(this._centerMesh.getBoundingInfo().boundingBox.centerWorld,this._toCenterVectors[n])}}return e.prototype._setCenterMesh=function(){for(var e=O.P.Zero(),t=O.P.Zero(),r=Number.MAX_VALUE,n=0;n<this._meshes.length;n++){if(this._meshes[n])(o=(i=this._meshes[n]).getBoundingInfo())&&t.addInPlace(o.boundingBox.centerWorld)}e=t.scale(1/this._meshes.length);for(n=0;n<this._meshes.length;n++){var i,o;if(this._meshes[n])if(o=(i=this._meshes[n]).getBoundingInfo()){var a=o.boundingBox.centerWorld.subtract(e).lengthSquared();a<r&&(this._centerMesh=i,r=a)}}},e.prototype.getClassName=function(){return"MeshExploder"},e.prototype.getMeshes=function(){var e=this._meshes.slice();return e.unshift(this._centerMesh),e},e.prototype.explode=function(e){void 0===e&&(e=1);for(var t=0;t<this._meshes.length;t++)this._meshes[t]&&this._meshesOrigins[t]&&this._toCenterVectors[t]&&(this._toCenterVectors[t].scaleToRef(e,this._scaledDirection),this._meshesOrigins[t].addToRef(this._scaledDirection,this._newPosition),this._meshes[t].setAbsolutePosition(this._newPosition));this._centerMesh.setAbsolutePosition(this._centerPosition)},e}(),I=r(64436),M=function(){function e(e,t,r,n,i,o,s,u,c){var l=this;this.onProcessFileCallback=function(){return!0},this.loadAsync=function(e,t){return a.n.LoadAsync("file:",e,l._engine,t)},this._engine=e,this._currentScene=t,this._sceneLoadedCallback=r,this._progressCallback=n,this._additionalRenderLoopLogicCallback=i,this._textureLoadingCallback=o,this._startingProcessingFilesCallback=s,this._onReloadCallback=u,this._errorCallback=c}return Object.defineProperty(e,"FilesToLoad",{get:function(){return I.X.FilesToLoad},enumerable:!1,configurable:!0}),e.prototype.monitorElementForDragNDrop=function(e){var t=this;e&&(this._elementToMonitor=e,this._dragEnterHandler=function(e){t._drag(e)},this._dragOverHandler=function(e){t._drag(e)},this._dropHandler=function(e){t._drop(e)},this._elementToMonitor.addEventListener("dragenter",this._dragEnterHandler,!1),this._elementToMonitor.addEventListener("dragover",this._dragOverHandler,!1),this._elementToMonitor.addEventListener("drop",this._dropHandler,!1))},Object.defineProperty(e.prototype,"filesToLoad",{get:function(){return this._filesToLoad},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._elementToMonitor&&(this._elementToMonitor.removeEventListener("dragenter",this._dragEnterHandler),this._elementToMonitor.removeEventListener("dragover",this._dragOverHandler),this._elementToMonitor.removeEventListener("drop",this._dropHandler))},e.prototype._renderFunction=function(){if(this._additionalRenderLoopLogicCallback&&this._additionalRenderLoopLogicCallback(),this._currentScene){if(this._textureLoadingCallback){var e=this._currentScene.getWaitingItemsCount();e>0&&this._textureLoadingCallback(e)}this._currentScene.render()}},e.prototype._drag=function(e){e.stopPropagation(),e.preventDefault()},e.prototype._drop=function(e){e.stopPropagation(),e.preventDefault(),this.loadFiles(e)},e.prototype._traverseFolder=function(e,t,r,n){var i=this,o=e.createReader(),a=e.fullPath.replace(/^\//,"").replace(/(.+?)\/?$/,"$1/");o.readEntries((function(e){r.count+=e.length;for(var o=0,s=e;o<s.length;o++){var u=s[o];u.isFile?u.file((function(e){e.correctName=a+e.name,t.push(e),0==--r.count&&n()})):u.isDirectory&&i._traverseFolder(u,t,r,n)}0==--r.count&&n()}))},e.prototype._processFiles=function(t){for(var r=this,n=0;n<t.length;n++){var i=t[n].correctName.toLowerCase(),o=i.split(".").pop();this.onProcessFileCallback(t[n],i,o,(function(e){return r._sceneFileToLoad=e}))&&(a.n.IsPluginForExtensionAvailable("."+o)&&(this._sceneFileToLoad=t[n]),e.FilesToLoad[i]=t[n])}},e.prototype.loadFiles=function(e){var t=this;if(e&&e.dataTransfer&&e.dataTransfer.files&&(this._filesToLoad=e.dataTransfer.files),e&&e.target&&e.target.files&&(this._filesToLoad=e.target.files),this._filesToLoad&&0!==this._filesToLoad.length&&(this._startingProcessingFilesCallback&&this._startingProcessingFilesCallback(this._filesToLoad),this._filesToLoad&&this._filesToLoad.length>0)){for(var r=new Array,n=[],i=e.dataTransfer?e.dataTransfer.items:null,o=0;o<this._filesToLoad.length;o++){var a=this._filesToLoad[o],s=a.name.toLowerCase(),u=void 0;if(a.correctName=s,i){var c=i[o];c.getAsEntry?u=c.getAsEntry():c.webkitGetAsEntry&&(u=c.webkitGetAsEntry())}u&&u.isDirectory?n.push(u):r.push(a)}if(0===n.length)this._processFiles(r),this._processReload();else for(var l={count:n.length},h=0,f=n;h<f.length;h++){var d=f[h];this._traverseFolder(d,r,l,(function(){t._processFiles(r),0===l.count&&t._processReload()}))}}},e.prototype._processReload=function(){this._onReloadCallback?this._onReloadCallback(this._sceneFileToLoad):this.reload()},e.prototype.reload=function(){var e=this;this._sceneFileToLoad?(this._currentScene&&(d.Y.errorsCount>0&&d.Y.ClearLogCache(),this._engine.stopRenderLoop()),a.n.ShowLoadingScreen=!1,this._engine.displayLoadingUI(),this.loadAsync(this._sceneFileToLoad,this._progressCallback).then((function(t){e._currentScene&&e._currentScene.dispose(),e._currentScene=t,e._sceneLoadedCallback&&e._sceneLoadedCallback(e._sceneFileToLoad,e._currentScene),e._currentScene.executeWhenReady((function(){e._engine.hideLoadingUI(),e._engine.runRenderLoop((function(){e._renderFunction()}))}))})).catch((function(t){e._engine.hideLoadingUI(),e._errorCallback&&e._errorCallback(e._sceneFileToLoad,e._currentScene,t.message)}))):d.Y.Error("Please provide a valid .babylon file.")},e}(),L=r(93354),k=r(13408),U=r(19414),j=r(88552),K=r(31700),z=r(91243),N=function(){function e(e){void 0===e&&(e=0),this.priority=e}return e.prototype.getDescription=function(){return""},e.prototype.apply=function(e,t){return!0},e}(),G=function(e){function t(t,r,n){void 0===t&&(t=0),void 0===r&&(r=1024),void 0===n&&(n=.5);var i=e.call(this,t)||this;return i.priority=t,i.maximumSize=r,i.step=n,i}return(0,o.ZT)(t,e),t.prototype.getDescription=function(){return"Reducing render target texture size to "+this.maximumSize},t.prototype.apply=function(e,t){for(var r=!0,n=0;n<e.textures.length;n++){var i=e.textures[n];if(i.canRescale&&!i.getContext){var o=i.getSize();Math.max(o.width,o.height)>this.maximumSize&&(i.scale(this.step),r=!1)}}return r},t}(N),Q=function(e){function t(t,r,n){void 0===t&&(t=0),void 0===r&&(r=2),void 0===n&&(n=.25);var i=e.call(this,t)||this;return i.priority=t,i.maximumScale=r,i.step=n,i._currentScale=-1,i._directionOffset=1,i}return(0,o.ZT)(t,e),t.prototype.getDescription=function(){return"Setting hardware scaling level to "+this._currentScale},t.prototype.apply=function(e,t){return-1===this._currentScale&&(this._currentScale=e.getEngine().getHardwareScalingLevel(),this._currentScale>this.maximumScale&&(this._directionOffset=-1)),this._currentScale+=this._directionOffset*this.step,e.getEngine().setHardwareScalingLevel(this._currentScale),1===this._directionOffset?this._currentScale>=this.maximumScale:this._currentScale<=this.maximumScale},t}(N),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t.prototype.getDescription=function(){return"Turning shadows on/off"},t.prototype.apply=function(e,t){return e.shadowsEnabled=t.isInImprovementMode,!0},t}(N),V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t.prototype.getDescription=function(){return"Turning post-processes on/off"},t.prototype.apply=function(e,t){return e.postProcessesEnabled=t.isInImprovementMode,!0},t}(N),Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t.prototype.getDescription=function(){return"Turning lens flares on/off"},t.prototype.apply=function(e,t){return e.lensFlaresEnabled=t.isInImprovementMode,!0},t}(N),q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t.prototype.getDescription=function(){return this.onGetDescription?this.onGetDescription():"Running user defined callback"},t.prototype.apply=function(e,t){return!this.onApply||this.onApply(e,t)},t}(N),X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t.prototype.getDescription=function(){return"Turning particles on/off"},t.prototype.apply=function(e,t){return e.particlesEnabled=t.isInImprovementMode,!0},t}(N),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t.prototype.getDescription=function(){return"Turning render targets off"},t.prototype.apply=function(e,t){return e.renderTargetsEnabled=t.isInImprovementMode,!0},t}(N),J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._canBeMerged=function(e){if(!(e instanceof z.Kj))return!1;var t=e;return!t.isDisposed()&&(!(!t.isVisible||!t.isEnabled())&&(!(t.instances.length>0)&&(!t.skeleton&&!t.hasLODLevels)))},t}return(0,o.ZT)(t,e),Object.defineProperty(t,"UpdateSelectionTree",{get:function(){return t._UpdateSelectionTree},set:function(e){t._UpdateSelectionTree=e},enumerable:!1,configurable:!0}),t.prototype.getDescription=function(){return"Merging similar meshes together"},t.prototype.apply=function(e,r,n){for(var i=e.meshes.slice(0),o=i.length,a=0;a<o;a++){var s=new Array,u=i[a];if(this._canBeMerged(u)){s.push(u);for(var c=a+1;c<o;c++){var l=i[c];this._canBeMerged(l)&&(l.material===u.material&&l.checkCollisions===u.checkCollisions&&(s.push(l),o--,i.splice(c,1),c--))}s.length<2||z.Kj.MergeMeshes(s,void 0,!0)}}var h=e;return h.createOrUpdateSelectionOctree&&(null!=n?n&&h.createOrUpdateSelectionOctree():t.UpdateSelectionTree&&h.createOrUpdateSelectionOctree()),!0},t._UpdateSelectionTree=!1,t}(N),Z=function(){function e(e,t){void 0===e&&(e=60),void 0===t&&(t=2e3),this.targetFrameRate=e,this.trackerDuration=t,this.optimizations=new Array}return e.prototype.addOptimization=function(e){return this.optimizations.push(e),this},e.prototype.addCustomOptimization=function(e,t,r){void 0===r&&(r=0);var n=new q(r);return n.onApply=e,n.onGetDescription=t,this.optimizations.push(n),this},e.LowDegradationAllowed=function(t){var r=new e(t),n=0;return r.addOptimization(new J(n)),r.addOptimization(new H(n)),r.addOptimization(new Y(n)),n++,r.addOptimization(new V(n)),r.addOptimization(new X(n)),n++,r.addOptimization(new G(n,1024)),r},e.ModerateDegradationAllowed=function(t){var r=new e(t),n=0;return r.addOptimization(new J(n)),r.addOptimization(new H(n)),r.addOptimization(new Y(n)),n++,r.addOptimization(new V(n)),r.addOptimization(new X(n)),n++,r.addOptimization(new G(n,512)),n++,r.addOptimization(new W(n)),n++,r.addOptimization(new Q(n,2)),r},e.HighDegradationAllowed=function(t){var r=new e(t),n=0;return r.addOptimization(new J(n)),r.addOptimization(new H(n)),r.addOptimization(new Y(n)),n++,r.addOptimization(new V(n)),r.addOptimization(new X(n)),n++,r.addOptimization(new G(n,256)),n++,r.addOptimization(new W(n)),n++,r.addOptimization(new Q(n,4)),r},e}(),$=function(){function e(e,t,r,n){void 0===r&&(r=!0),void 0===n&&(n=!1);var i=this;if(this._isRunning=!1,this._currentPriorityLevel=0,this._targetFrameRate=60,this._trackerDuration=2e3,this._currentFrameRate=0,this._improvementMode=!1,this.onSuccessObservable=new u.y$,this.onNewOptimizationAppliedObservable=new u.y$,this.onFailureObservable=new u.y$,this._options=t||new Z,this._options.targetFrameRate&&(this._targetFrameRate=this._options.targetFrameRate),this._options.trackerDuration&&(this._trackerDuration=this._options.trackerDuration),r)for(var o=0,a=0,s=this._options.optimizations;a<s.length;a++){s[a].priority=o++}this._improvementMode=n,this._scene=e||p.l.LastCreatedScene,this._sceneDisposeObserver=this._scene.onDisposeObservable.add((function(){i._sceneDisposeObserver=null,i.dispose()}))}return Object.defineProperty(e.prototype,"isInImprovementMode",{get:function(){return this._improvementMode},set:function(e){this._improvementMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentPriorityLevel",{get:function(){return this._currentPriorityLevel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrameRate",{get:function(){return this._currentFrameRate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetFrameRate",{get:function(){return this._targetFrameRate},set:function(e){this._targetFrameRate=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackerDuration",{get:function(){return this._trackerDuration},set:function(e){this._trackerDuration=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optimizations",{get:function(){return this._options.optimizations},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this._isRunning=!1},e.prototype.reset=function(){this._currentPriorityLevel=0},e.prototype.start=function(){var e=this;this._isRunning||(this._isRunning=!0,this._scene.executeWhenReady((function(){setTimeout((function(){e._checkCurrentState()}),e._trackerDuration)})))},e.prototype._checkCurrentState=function(){var e=this;if(this._isRunning){var t=this._scene,r=this._options;if(this._currentFrameRate=Math.round(t.getEngine().getFps()),this._improvementMode&&this._currentFrameRate<=this._targetFrameRate||!this._improvementMode&&this._currentFrameRate>=this._targetFrameRate)return this._isRunning=!1,void this.onSuccessObservable.notifyObservers(this);for(var n=!0,i=!0,o=0;o<r.optimizations.length;o++){var a=r.optimizations[o];a.priority===this._currentPriorityLevel&&(i=!1,n=n&&a.apply(t,this),this.onNewOptimizationAppliedObservable.notifyObservers(a))}if(i)return this._isRunning=!1,void this.onFailureObservable.notifyObservers(this);n&&this._currentPriorityLevel++,t.executeWhenReady((function(){setTimeout((function(){e._checkCurrentState()}),e._trackerDuration)}))}},e.prototype.dispose=function(){this.stop(),this.onSuccessObservable.clear(),this.onFailureObservable.clear(),this.onNewOptimizationAppliedObservable.clear(),this._sceneDisposeObserver&&this._scene.onDisposeObservable.remove(this._sceneDisposeObserver)},e.OptimizeAsync=function(t,r,n,i){var o=new e(t,r||Z.ModerateDegradationAllowed(),!1);return n&&o.onSuccessObservable.add((function(){n()})),i&&o.onFailureObservable.add((function(){i()})),o.start(),o},e}(),ee=r(91855),te=[],re=function(e,t){e.doNotSerialize||(t.vertexData.push(e.serializeVerticeData()),te[e.id]=!0)},ne=function(e,t){var r={},n=e._geometry;return n&&(e.getScene().getGeometryById(n.id)||re(n,t.geometries)),e.serialize&&e.serialize(r),r},ie=function(){function e(){}return e.ClearCache=function(){te=[]},e.Serialize=function(t){return e._Serialize(t)},e._Serialize=function(t,r){void 0===r&&(r=!0);var n,i,o,a={};if(r&&!t.getEngine()._features.supportSyncTextureRead&&c.x.ForceSerializeBuffers,e.ClearCache(),a.useDelayedTextureLoading=t.useDelayedTextureLoading,a.autoClear=t.autoClear,a.clearColor=t.clearColor.asArray(),a.ambientColor=t.ambientColor.asArray(),a.gravity=t.gravity.asArray(),a.collisionsEnabled=t.collisionsEnabled,a.useRightHandedSystem=t.useRightHandedSystem,t.fogMode&&0!==t.fogMode&&(a.fogMode=t.fogMode,a.fogColor=t.fogColor.asArray(),a.fogStart=t.fogStart,a.fogEnd=t.fogEnd,a.fogDensity=t.fogDensity),t.isPhysicsEnabled()){var s=t.getPhysicsEngine();s&&(a.physicsEnabled=!0,a.physicsGravity=s.gravity.asArray(),a.physicsEngine=s.getPhysicsPluginName())}t.metadata&&(a.metadata=t.metadata),a.morphTargetManagers=[];for(var u=0,l=t.meshes;u<l.length;u++){var h=(b=l[u]).morphTargetManager;h&&a.morphTargetManagers.push(h.serialize())}for(a.lights=[],n=0;n<t.lights.length;n++)(i=t.lights[n]).doNotSerialize||a.lights.push(i.serialize());for(a.cameras=[],n=0;n<t.cameras.length;n++){var f=t.cameras[n];f.doNotSerialize||a.cameras.push(f.serialize())}if(t.activeCamera&&(a.activeCameraID=t.activeCamera.id),D.p4.AppendSerializedAnimations(t,a),t.animationGroups&&t.animationGroups.length>0){a.animationGroups=[];for(var d=0;d<t.animationGroups.length;d++){var p=t.animationGroups[d];a.animationGroups.push(p.serialize())}}if(t.reflectionProbes&&t.reflectionProbes.length>0)for(a.reflectionProbes=[],n=0;n<t.reflectionProbes.length;n++){var g=t.reflectionProbes[n];a.reflectionProbes.push(g.serialize())}for(a.materials=[],a.multiMaterials=[],n=0;n<t.materials.length;n++)(o=t.materials[n]).doNotSerialize||a.materials.push(o.serialize());for(a.multiMaterials=[],n=0;n<t.multiMaterials.length;n++){var v=t.multiMaterials[n];a.multiMaterials.push(v.serialize())}for(t.environmentTexture&&(t.environmentTexture._files?a.environmentTexture=t.environmentTexture.serialize():(a.environmentTexture=t.environmentTexture.name,a.environmentTextureRotationY=t.environmentTexture.rotationY)),a.environmentIntensity=t.environmentIntensity,a.skeletons=[],n=0;n<t.skeletons.length;n++){var m=t.skeletons[n];m.doNotSerialize||a.skeletons.push(m.serialize())}for(a.transformNodes=[],n=0;n<t.transformNodes.length;n++)t.transformNodes[n].doNotSerialize||a.transformNodes.push(t.transformNodes[n].serialize());a.geometries={},a.geometries.boxes=[],a.geometries.spheres=[],a.geometries.cylinders=[],a.geometries.toruses=[],a.geometries.grounds=[],a.geometries.planes=[],a.geometries.torusKnots=[],a.geometries.vertexData=[],te=[];var y=t.getGeometries();for(n=0;n<y.length;n++){var _=y[n];_.isReady()&&re(_,a.geometries)}for(a.meshes=[],n=0;n<t.meshes.length;n++){var b;if((b=t.meshes[n])instanceof z.Kj){var A=b;A.doNotSerialize||1!==A.delayLoadState&&0!==A.delayLoadState||a.meshes.push(ne(A,a))}}for(a.particleSystems=[],n=0;n<t.particleSystems.length;n++)a.particleSystems.push(t.particleSystems[n].serialize(!1));for(a.postProcesses=[],n=0;n<t.postProcesses.length;n++)a.postProcesses.push(t.postProcesses[n].serialize());t.actionManager&&(a.actions=t.actionManager.serialize("scene"));for(var w=0,C=t._serializableComponents;w<C.length;w++){C[w].serialize(a)}return a},e.SerializeAsync=function(t){var r=e._Serialize(t,!1),n=[];return this._CollectPromises(r,n),Promise.all(n).then((function(){return r}))},e._CollectPromises=function(e,t){if(Array.isArray(e))for(var r=function(r){var i=e[r];i instanceof Promise?t.push(i.then((function(t){return e[r]=t}))):(i instanceof Object||Array.isArray(i))&&n._CollectPromises(i,t)},n=this,i=0;i<e.length;++i)r(i);else if(e instanceof Object){var o=function(r){if(Object.prototype.hasOwnProperty.call(e,r)){var n=e[r];n instanceof Promise?t.push(n.then((function(t){return e[r]=t}))):(n instanceof Object||Array.isArray(n))&&a._CollectPromises(n,t)}},a=this;for(var s in e)o(s)}},e.SerializeMesh=function(t,r,n){void 0===r&&(r=!1),void 0===n&&(n=!1);var i={};if(e.ClearCache(),t=t instanceof Array?t:[t],r||n)for(var o=0;o<t.length;++o)n&&t[o].getDescendants().forEach((function(e){e instanceof z.Kj&&t.indexOf(e)<0&&!e.doNotSerialize&&t.push(e)})),r&&t[o].parent&&t.indexOf(t[o].parent)<0&&!t[o].parent.doNotSerialize&&t.push(t[o].parent);return t.forEach((function(e){!function(e,t){if(1===e.delayLoadState||0===e.delayLoadState){var r=function(r){t.materials=t.materials||[],t.materials.some((function(t){return t.id===e.material.id}))||t.materials.push(r.serialize())};if(e.material&&!e.material.doNotSerialize)if(e.material instanceof ee.G){if(t.multiMaterials=t.multiMaterials||[],!t.multiMaterials.some((function(t){return t.id===e.material.id}))){t.multiMaterials.push(e.material.serialize());for(var n=0,i=e.material.subMaterials;n<i.length;n++){var o=i[n];o&&r(o)}}}else r(e.material);else e.material||r(e.getScene().defaultMaterial);var a=e._geometry;a&&(t.geometries||(t.geometries={},t.geometries.boxes=[],t.geometries.spheres=[],t.geometries.cylinders=[],t.geometries.toruses=[],t.geometries.grounds=[],t.geometries.planes=[],t.geometries.torusKnots=[],t.geometries.vertexData=[]),re(a,t.geometries)),e.skeleton&&!e.skeleton.doNotSerialize&&(t.skeletons=t.skeletons||[],t.skeletons.push(e.skeleton.serialize())),t.meshes=t.meshes||[],t.meshes.push(ne(e,t))}}(e,i)})),i},e}(),oe=r(7788),ae=r(45008),se=r(20163),ue=r(80949),ce=r(76755),le=function(){function e(t,r){if(void 0===r&&(r={}),!e.IsSupported(t))throw"Your browser does not support recording so far.";var n=t.getRenderingCanvas();if(!n)throw"The babylon engine must have a canvas to be recorded";this._canvas=n,this._canvas.isRecording=!1,this._options=(0,o.pi)((0,o.pi)({},e._DefaultOptions),r);var i=this._canvas.captureStream(this._options.fps);if(this._options.audioTracks)for(var a=0,s=this._options.audioTracks;a<s.length;a++){var u=s[a];i.addTrack(u)}this._mediaRecorder=new MediaRecorder(i,{mimeType:this._options.mimeType}),this._mediaRecorder.ondataavailable=this._handleDataAvailable.bind(this),this._mediaRecorder.onerror=this._handleError.bind(this),this._mediaRecorder.onstop=this._handleStop.bind(this)}return e.IsSupported=function(e){var t=e.getRenderingCanvas();return!!t&&"function"==typeof t.captureStream},Object.defineProperty(e.prototype,"isRecording",{get:function(){return!!this._canvas&&this._canvas.isRecording},enumerable:!1,configurable:!0}),e.prototype.stopRecording=function(){this._canvas&&this._mediaRecorder&&this.isRecording&&(this._canvas.isRecording=!1,this._mediaRecorder.stop())},e.prototype.startRecording=function(e,t){var r=this;if(void 0===e&&(e="babylonjs.webm"),void 0===t&&(t=7),!this._canvas||!this._mediaRecorder)throw"Recorder has already been disposed";if(this.isRecording)throw"Recording already in progress";return t>0&&setTimeout((function(){r.stopRecording()}),1e3*t),this._fileName=e,this._recordedChunks=[],this._resolve=null,this._reject=null,this._canvas.isRecording=!0,this._mediaRecorder.start(this._options.recordChunckSize),new Promise((function(e,t){r._resolve=e,r._reject=t}))},e.prototype.dispose=function(){this._canvas=null,this._mediaRecorder=null,this._recordedChunks=[],this._fileName=null,this._resolve=null,this._reject=null},e.prototype._handleDataAvailable=function(e){e.data.size>0&&this._recordedChunks.push(e.data)},e.prototype._handleError=function(e){if(this.stopRecording(),!this._reject)throw new e.error;this._reject(e.error)},e.prototype._handleStop=function(){this.stopRecording();var e=new Blob(this._recordedChunks);this._resolve&&this._resolve(e),window.URL.createObjectURL(e),this._fileName&&s.w1.Download(e,this._fileName)},e._DefaultOptions={mimeType:"video/webm",fps:25,recordChunckSize:3e3},e}(),he=r(59711),fe=r(11758),de=r(48620),pe=r(1101),ge=r(11337),ve=r(29945),me=r(63784),ye=r(30374);function _e(e,t,r,n,i,o){void 0===i&&(i="image/png"),void 0===o&&(o=!1);var a=Pe(e,t,r),u=a.height,c=a.width;if(u&&c){s.w1._ScreenshotCanvas||(s.w1._ScreenshotCanvas=document.createElement("canvas")),s.w1._ScreenshotCanvas.width=c,s.w1._ScreenshotCanvas.height=u;var l=s.w1._ScreenshotCanvas.getContext("2d"),h=e.getRenderWidth()/e.getRenderHeight(),f=c,p=f/h;p>u&&(f=(p=u)*h);var g=Math.max(0,c-f)/2,v=Math.max(0,u-p)/2;e.onEndFrameObservable.addOnce((function(){var t=e.getRenderingCanvas();l&&t&&l.drawImage(t,g,v,f,p),o?(s.w1.EncodeScreenshotCanvasData(void 0,i),n&&n("")):s.w1.EncodeScreenshotCanvasData(n,i)}))}else d.Y.Error("Invalid 'size' parameter !")}function be(e,t,r,n){return void 0===n&&(n="image/png"),new Promise((function(i,o){_e(e,t,r,(function(e){void 0!==e?i(e):o(new Error("Data is undefined"))}),n)}))}function Ae(e,t,r,n,i){return void 0===i&&(i="image/png"),new Promise((function(o){_e(e,t,{width:r,height:n},(function(){o()}),i,!0)}))}function we(e,t,r,n,i,o,a,u,l,h){void 0===i&&(i="image/png"),void 0===o&&(o=1),void 0===a&&(a=!1),void 0===l&&(l=!1),void 0===h&&(h=!1);var f=Pe(e,t,r),p=f.height,g=f.width,v={width:g,height:p};if(p&&g){var m=t.getScene(),y=null,_=m.activeCameras;m.activeCameras=null,m.activeCamera!==t&&(y=m.activeCamera,m.activeCamera=t),m.render();var b=new me._("screenShot",v,m,!1,!1,0,!1,c.x.NEAREST_SAMPLINGMODE,void 0,h,void 0,void 0,void 0,o);b.renderList=null,b.samples=o,b.renderSprites=l;var A=function(){e.onEndFrameObservable.addOnce((function(){b.readPixels(void 0,void 0,void 0,!1).then((function(e){s.w1.DumpData(g,p,e,n,i,u,!0),b.dispose()}))})),m.incrementRenderId(),m.resetCachedMaterial(),b.render(!0),m.incrementRenderId(),m.resetCachedMaterial(),y&&(m.activeCamera=y),m.activeCameras=_,t.getProjectionMatrix(!0),m.render()};if(a){var w=new ye.P("antialiasing",1,m.activeCamera);b.addPostProcess(w),w.getEffect().isReady()?A():w.getEffect().onCompiled=function(){A()}}else A()}else d.Y.Error("Invalid 'size' parameter !")}function Ce(e,t,r,n,i,o,a,s){return void 0===n&&(n="image/png"),void 0===i&&(i=1),void 0===o&&(o=!1),void 0===s&&(s=!1),new Promise((function(u,c){we(e,t,r,(function(e){void 0!==e?u(e):c(new Error("Data is undefined"))}),n,i,o,a,s)}))}function Pe(e,t,r){var n=0,i=0;if("object"==typeof r){var o=r.precision?Math.abs(r.precision):1;r.width&&r.height?(n=r.height*o,i=r.width*o):r.width&&!r.height?(i=r.width*o,n=Math.round(i/e.getAspectRatio(t))):r.height&&!r.width?(n=r.height*o,i=Math.round(n*e.getAspectRatio(t))):(i=Math.round(e.getRenderWidth()*o),n=Math.round(i/e.getAspectRatio(t)))}else isNaN(r)||(n=r,i=r);return i&&(i=Math.floor(i)),n&&(n=Math.floor(n)),{height:0|n,width:0|i}}var Te={CreateScreenshot:_e,CreateScreenshotAsync:be,CreateScreenshotWithResizeAsync:Ae,CreateScreenshotUsingRenderTarget:we,CreateScreenshotUsingRenderTargetAsync:Ce};s.w1.CreateScreenshot=_e,s.w1.CreateScreenshotAsync=be,s.w1.CreateScreenshotUsingRenderTarget=we,s.w1.CreateScreenshotUsingRenderTargetAsync=Ce;var xe,Ee=r(51912);!function(e){e[e.Checkbox=0]="Checkbox",e[e.Slider=1]="Slider",e[e.Vector3=2]="Vector3",e[e.Quaternion=3]="Quaternion",e[e.Color3=4]="Color3",e[e.String=5]="String",e[e.Button=6]="Button",e[e.Options=7]="Options",e[e.Tab=8]="Tab"}(xe||(xe={}));var Se,De=r(73556),Re=r(95718),Be=r(4359),Oe=r(82577),Fe=r(42874),Ie=r(79245),Me=r(29972),Le=r(21879),ke=r(88114),Ue=r(39521),je=function(){function e(){}return e._GetStorage=function(){try{return localStorage.setItem("test",""),localStorage.removeItem("test"),localStorage}catch(t){var e={};return{getItem:function(t){var r=e[t];return void 0===r?null:r},setItem:function(t,r){e[t]=r}}}},e.ReadString=function(e,t){var r=this._Storage.getItem(e);return null!==r?r:t},e.WriteString=function(e,t){this._Storage.setItem(e,t)},e.ReadBoolean=function(e,t){var r=this._Storage.getItem(e);return null!==r?"true"===r:t},e.WriteBoolean=function(e,t){this._Storage.setItem(e,t?"true":"false")},e.ReadNumber=function(e,t){var r=this._Storage.getItem(e);return null!==r?parseFloat(r):t},e.WriteNumber=function(e,t){this._Storage.setItem(e,t.toString())},e._Storage=e._GetStorage(),e}(),Ke=r(43812),ze=r(2055),Ne=r(52106),Ge=r(98163),Qe=r(30700),He=r(22672),Ve=r(27398),Ye=r(89982),qe=r(16142),Xe=function(){function e(){this._trackedScene=null}return e.prototype.track=function(e){this._trackedScene=e,D.p4.AllowLoadingUniqueId=!0,this._savedJSON=ie.Serialize(e),D.p4.AllowLoadingUniqueId=!1},e.prototype.getDelta=function(){if(!this._trackedScene)return null;var e=c.x.ForceSerializeBuffers;c.x.ForceSerializeBuffers=!1,D.p4.AllowLoadingUniqueId=!0;var t=ie.Serialize(this._trackedScene);D.p4.AllowLoadingUniqueId=!1;var r={};for(var n in t)this._compareCollections(n,this._savedJSON[n],t[n],r);return c.x.ForceSerializeBuffers=e,r},e.prototype._compareArray=function(e,t,r,n){if(0===t.length&&0===r.length)return!0;if(t.length&&!isNaN(t[0])||r.length&&!isNaN(r[0])){if(t.length!==r.length)return!1;if(0===t.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==r[i])return n[e]=r,!1;return!0}var o=[],a=function(i){var a=t[i],u=a.uniqueId;o.push(u);var c=r.filter((function(e){return e.uniqueId===u}));if(c.length){var l=c[0],h={};s._compareObjects(a,l,h)||(n[e]||(n[e]=[]),h.__state={id:l.id||l.name},n[e].push(h))}else{h={__state:{deleteId:a.id||a.name}};n[e].push(h)}},s=this;for(i=0;i<t.length;i++)a(i);for(i=0;i<r.length;i++){var u=r[i],c=u.uniqueId;-1===o.indexOf(c)&&(n[e]||(n[e]=[]),n[e].push(u))}return!0},e.prototype._compareObjects=function(e,t,r){var n=!1;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=e[i],a=t[i],s=!1;if(Array.isArray(o))s=JSON.stringify(o)!==JSON.stringify(a);else if(isNaN(o)&&"[object String]"!=Object.prototype.toString.call(o)){if("object"==typeof o&&"object"==typeof a){var u={};this._compareObjects(o,a,u)||(r[i]=u,n=!0)}}else s=o!==a;s&&(n=!0,r[i]=a)}return!n},e.prototype._compareCollections=function(e,t,r,n){if(t!==r&&t&&r)if(Array.isArray(t)&&Array.isArray(r)){if(this._compareArray(e,t,r,n))return}else if("object"==typeof t&&"object"==typeof r){var i={};return void(this._compareObjects(t,r,i)||(n[e]=i))}},e.GetShadowGeneratorById=function(e,t){for(var r=0,n=e.lights.map((function(e){return e.getShadowGenerator()}));r<n.length;r++){var i=n[r];if(i&&i.id===t)return i}return null},e.ApplyDelta=function(e,t){var r=this;"string"==typeof e&&(e=JSON.parse(e));var n=t;for(var i in e){var o=e[i],a=n[i];if(Array.isArray(a)||"shadowGenerators"===i)switch(i){case"cameras":this._ApplyDeltaForEntity(o,t,t.getCameraById.bind(t),(function(e){return ze.V.Parse(e,t)}));break;case"lights":this._ApplyDeltaForEntity(o,t,t.getLightById.bind(t),(function(e){return Ke._.Parse(e,t)}));break;case"shadowGenerators":this._ApplyDeltaForEntity(o,t,(function(e){return r.GetShadowGeneratorById(t,e)}),(function(e){return Ye.u.Parse(e,t)}));break;case"meshes":this._ApplyDeltaForEntity(o,t,t.getMeshById.bind(t),(function(e){return z.Kj.Parse(e,t,"")}));break;case"skeletons":this._ApplyDeltaForEntity(o,t,t.getSkeletonById.bind(t),(function(e){return Ne.O.Parse(e,t)}));break;case"materials":this._ApplyDeltaForEntity(o,t,t.getMaterialById.bind(t),(function(e){return Ge.F.Parse(e,t,"")}));break;case"multiMaterials":this._ApplyDeltaForEntity(o,t,t.getMaterialById.bind(t),(function(e){return ee.G.Parse(e,t,"")}));break;case"transformNodes":this._ApplyDeltaForEntity(o,t,t.getTransformNodeById.bind(t),(function(e){return Qe.Y.Parse(e,t,"")}));break;case"particleSystems":this._ApplyDeltaForEntity(o,t,t.getParticleSystemById.bind(t),(function(e){return He.p.Parse(e,t,"")}));break;case"morphTargetManagers":this._ApplyDeltaForEntity(o,t,t.getMorphTargetById.bind(t),(function(e){return Ve.O.Parse(e,t)}));break;case"postProcesses":this._ApplyDeltaForEntity(o,t,t.getPostProcessByName.bind(t),(function(e){return qe.D.Parse(e,t,"")}))}else isNaN(a)?a.fromArray&&a.fromArray(o):n[i]=o}},e._ApplyPropertiesToEntity=function(e,t){for(var r in e){var n=e[r],i=t[r];void 0!==i&&(!isNaN(i)||Array.isArray(i)?t[r]=n:i.fromArray?i.fromArray(n):"object"==typeof i&&null!==i&&this._ApplyPropertiesToEntity(n,i))}},e._ApplyDeltaForEntity=function(e,t,r,n){for(var i=0,o=e;i<o.length;i++){var a=o[i];if(a.__state&&void 0!==a.__state.id){var s=r(a.__state.id);s&&this._ApplyPropertiesToEntity(a,s)}else if(a.__state&&void 0!==a.__state.deleteId){var u=r(a.__state.deleteId);null==u||u.dispose()}else n(a)}},e}(),We=r(53669);!function(e){var t=function(){function e(e,t,r,n){var i;void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=null),t=null!=t?t:function(){return 1},r=null!=r?r:function(){return 1},n=null!=n?n:function(e,t){return e===t?0:1},this._characterToIdx=new Map,this._insertionCosts=new Array(e.length),this._deletionCosts=new Array(e.length),this._substitutionCosts=new Array(e.length);for(var o=0;o<e.length;++o){i=e[o],this._characterToIdx.set(i,o),this._insertionCosts[o]=t(i),this._deletionCosts[o]=r(i),this._substitutionCosts[o]=new Array(e.length);for(var a=o;a<e.length;++a)this._substitutionCosts[o][a]=n(i,e[a])}}return e.prototype.serialize=function(){var e={},t=new Array(this._characterToIdx.size);return this._characterToIdx.forEach((function(e,r){t[e]=r})),e.characters=t,e.insertionCosts=this._insertionCosts,e.deletionCosts=this._deletionCosts,e.substitutionCosts=this._substitutionCosts,JSON.stringify(e)},e.Deserialize=function(t){var r=JSON.parse(t),n=new e(r.characters);return n._insertionCosts=r.insertionCosts,n._deletionCosts=r.deletionCosts,n._substitutionCosts=r.substitutionCosts,n},e.prototype.getCharacterIdx=function(e){return this._characterToIdx.get(e)},e.prototype.getInsertionCost=function(e){return this._insertionCosts[e]},e.prototype.getDeletionCost=function(e){return this._deletionCosts[e]},e.prototype.getSubstitutionCost=function(e,t){var r=Math.min(e,t),n=Math.max(e,t);return this._substitutionCosts[r][n]},e}();e.Alphabet=t;var r=function(){function e(t,r){var n=this;if(t.length>e._MAX_SEQUENCE_LENGTH)throw new Error("Sequences longer than "+e._MAX_SEQUENCE_LENGTH+" not supported.");this._alphabet=r,this._characters=t.map((function(e){return n._alphabet.getCharacterIdx(e)}))}return e.prototype.serialize=function(){return JSON.stringify(this._characters)},e.Deserialize=function(t,r){var n=new e([],r);return n._characters=JSON.parse(t),n},e.prototype.distance=function(t){return e._Distance(this,t)},e._Distance=function(t,r){var n=t._alphabet;if(n!==r._alphabet)throw new Error("Cannot Levenshtein compare Sequences built from different alphabets.");var i=t._characters,o=r._characters,a=i.length,s=o.length,u=e._CostMatrix;u[0][0]=0;for(var c=0;c<a;++c)u[c+1][0]=u[c][0]+n.getInsertionCost(i[c]);for(c=0;c<s;++c)u[0][c+1]=u[0][c]+n.getInsertionCost(o[c]);for(var l=0;l<a;++l)for(var h=0;h<s;++h)e._InsertionCost=u[l+1][h]+n.getInsertionCost(o[h]),e._DeletionCost=u[l][h+1]+n.getDeletionCost(i[l]),e._SubstitutionCost=u[l][h]+n.getSubstitutionCost(i[l],o[h]),u[l+1][h+1]=Math.min(e._InsertionCost,e._DeletionCost,e._SubstitutionCost);return u[a][s]},e._MAX_SEQUENCE_LENGTH=256,e._CostMatrix=(0,o.ev)([],Array(e._MAX_SEQUENCE_LENGTH+1),!0).map((function(){return new Array(e._MAX_SEQUENCE_LENGTH+1)})),e}();e.Sequence=r}(Se||(Se={}));var Je=function(){function e(e){void 0===e&&(e=.01),this._points=[],this._segmentLength=e}return e.prototype.serialize=function(){return JSON.stringify(this)},e.Deserialize=function(t){var r=JSON.parse(t),n=new e(r._segmentLength);return n._points=r._points.map((function(e){return new O.P(e._x,e._y,e._z)})),n},e.prototype.getLength=function(){return this._points.length*this._segmentLength},e.prototype.add=function(e){var t=this,r=this._points.length;if(0===r)this._points.push(e.clone());else for(var n=function(){return t._segmentLength/O.P.Distance(t._points[r-1],e)},i=n();i<=1;i=n()){var o=this._points[r-1].scale(1-i);e.scaleAndAddToRef(i,o),this._points.push(o),++r}},e.prototype.resampleAtTargetResolution=function(t){var r=new e(this.getLength()/t);return this._points.forEach((function(e){r.add(e)})),r},e.prototype.tokenize=function(t){for(var r=[],n=new O.P,i=2;i<this._points.length;++i)e._TransformSegmentDirToRef(this._points[i-2],this._points[i-1],this._points[i],n)&&r.push(e._TokenizeSegment(n,t));return r},e._TransformSegmentDirToRef=function(t,r,n,i){return r.subtractToRef(t,e._ForwardDir),e._ForwardDir.normalize(),r.scaleToRef(-1,e._InverseFromVec),e._InverseFromVec.normalize(),!(Math.abs(O.P.Dot(e._ForwardDir,e._InverseFromVec))>.98)&&(O.P.CrossToRef(e._ForwardDir,e._InverseFromVec,e._UpDir),e._UpDir.normalize(),O.y3.LookAtLHToRef(t,r,e._UpDir,e._LookMatrix),n.subtractToRef(r,e._FromToVec),e._FromToVec.normalize(),O.P.TransformNormalToRef(e._FromToVec,e._LookMatrix,i),!0)},e._TokenizeSegment=function(t,r){e._BestMatch=0,e._Score=O.P.Dot(t,r[0]),e._BestScore=e._Score;for(var n=1;n<r.length;++n)e._Score=O.P.Dot(t,r[n]),e._Score>e._BestScore&&(e._BestMatch=n,e._BestScore=e._Score);return e._BestMatch},e._ForwardDir=new O.P,e._InverseFromVec=new O.P,e._UpDir=new O.P,e._FromToVec=new O.P,e._LookMatrix=new O.y3,e}(),Ze=function(){function e(e){this.chars=new Array(e)}return e.Generate=function(t,r,n,i,o){void 0===t&&(t=64),void 0===r&&(r=256),void 0===n&&(n=.1),void 0===i&&(i=.001),void 0===o&&(o=[]);for(var a,s,u=new e(t),c=0;c<t;++c)u.chars[c]=new O.P(Math.random()-.5,Math.random()-.5,Math.random()-.5),u.chars[c].normalize();for(c=0;c<o.length;++c)u.chars[c].copyFrom(o[c]);for(var l,h=new O.P,f=new O.P,d=0;d<r;++d){a=(1-(l=d/(r-1)))*n+l*i;var p=function(e){h.copyFromFloats(0,0,0),u.chars.forEach((function(t){u.chars[e].subtractToRef(t,f),(s=f.lengthSquared())>1e-6&&f.scaleAndAddToRef(1/(f.lengthSquared()*s),h)})),h.scaleInPlace(a),u.chars[e].addInPlace(h),u.chars[e].normalize()};for(c=o.length;c<u.chars.length;++c)p(c)}return u},e.prototype.serialize=function(){return JSON.stringify(this.chars)},e.Deserialize=function(t){for(var r=JSON.parse(t),n=new e(r.length),i=0;i<r.length;++i)n.chars[i]=new O.P(r[i]._x,r[i]._y,r[i]._z);return n},e}(),$e=function(){function e(){this._sequences=[]}return e.prototype.serialize=function(){return JSON.stringify(this._sequences.map((function(e){return e.serialize()})))},e.Deserialize=function(t,r){var n=new e;return n._sequences=JSON.parse(t).map((function(e){return Se.Sequence.Deserialize(e,r)})),n},e.CreateFromTrajectory=function(t,r,n){return e.CreateFromTokenizationPyramid(e._GetTokenizationPyramid(t,r),n)},e.CreateFromTokenizationPyramid=function(t,r){var n=new e;return n._sequences=t.map((function(e){return new Se.Sequence(e,r)})),n},e._GetTokenizationPyramid=function(t,r,n){void 0===n&&(n=e._FINEST_DESCRIPTOR_RESOLUTION);for(var i=[],o=n;o>4;o=Math.floor(o/2))i.push(t.resampleAtTargetResolution(o).tokenize(r.chars));return i},e.prototype.distance=function(e){for(var t=0,r=0;r<this._sequences.length;++r)t+=Math.pow(2,r)*this._sequences[r].distance(e._sequences[r]);return t},e._FINEST_DESCRIPTOR_RESOLUTION=32,e}(),et=function(){function e(e){void 0===e&&(e=[]),this._descriptors=e,this._centroidIdx=-1,this._averageDistance=0,this._refreshDescription()}return e.prototype.serialize=function(){var e={};return e.descriptors=this._descriptors.map((function(e){return e.serialize()})),e.centroidIdx=this._centroidIdx,e.averageDistance=this._averageDistance,JSON.stringify(e)},e.Deserialize=function(t,r){var n=JSON.parse(t),i=new e;return i._descriptors=n.descriptors.map((function(e){return $e.Deserialize(e,r)})),i._centroidIdx=n.centroidIdx,i._averageDistance=n.averageDistance,i},e.prototype.add=function(e){this._descriptors.push(e),this._refreshDescription()},e.prototype.getMatchCost=function(e){return e.distance(this._descriptors[this._centroidIdx])/this._averageDistance},e.prototype.getMatchMinimumDistance=function(e){return Math.min.apply(Math,this._descriptors.map((function(t){return t.distance(e)})))},e.prototype._refreshDescription=function(){var t,r=this;this._centroidIdx=-1;for(var n=this._descriptors.map((function(e){return t=0,r._descriptors.forEach((function(r){t+=e.distance(r)})),t})),i=0;i<n.length;++i)(this._centroidIdx<0||n[i]<n[this._centroidIdx])&&(this._centroidIdx=i);this._averageDistance=0,this._descriptors.forEach((function(e){r._averageDistance+=e.distance(r._descriptors[r._centroidIdx])})),this._descriptors.length>0&&(this._averageDistance=Math.max(this._averageDistance/this._descriptors.length,e._MIN_AVERAGE_DISTANCE))},e._MIN_AVERAGE_DISTANCE=1,e}(),tt=function(){function e(){this._maximumAllowableMatchCost=4,this._nameToDescribedTrajectory=new Map}return e.prototype.serialize=function(){var e={};return e.maximumAllowableMatchCost=this._maximumAllowableMatchCost,e.vector3Alphabet=this._vector3Alphabet.serialize(),e.levenshteinAlphabet=this._levenshteinAlphabet.serialize(),e.nameToDescribedTrajectory=[],this._nameToDescribedTrajectory.forEach((function(t,r){e.nameToDescribedTrajectory.push(r),e.nameToDescribedTrajectory.push(t.serialize())})),JSON.stringify(e)},e.Deserialize=function(t){var r=JSON.parse(t),n=new e;n._maximumAllowableMatchCost=r.maximumAllowableMatchCost,n._vector3Alphabet=Ze.Deserialize(r.vector3Alphabet),n._levenshteinAlphabet=Se.Alphabet.Deserialize(r.levenshteinAlphabet);for(var i=0;i<r.nameToDescribedTrajectory.length;i+=2)n._nameToDescribedTrajectory.set(r.nameToDescribedTrajectory[i],et.Deserialize(r.nameToDescribedTrajectory[i+1],n._levenshteinAlphabet));return n},e.Generate=function(){for(var t=Ze.Generate(64,256,.1,.001,[O.P.Forward()]),r=new Array(t.chars.length),n=0;n<r.length;++n)r[n]=n;var i=new Se.Alphabet(r,(function(e){return 0===e?0:1}),(function(e){return 0===e?0:1}),(function(e,r){return Math.min(1-O.P.Dot(t.chars[e],t.chars[r]),1)})),o=new e;return o._vector3Alphabet=t,o._levenshteinAlphabet=i,o},e.prototype.addTrajectoryToClassification=function(e,t){this._nameToDescribedTrajectory.has(t)||this._nameToDescribedTrajectory.set(t,new et),this._nameToDescribedTrajectory.get(t).add($e.CreateFromTrajectory(e,this._vector3Alphabet,this._levenshteinAlphabet))},e.prototype.deleteClassification=function(e){return this._nameToDescribedTrajectory.delete(e)},e.prototype.classifyTrajectory=function(e){var t=this,r=$e.CreateFromTrajectory(e,this._vector3Alphabet,this._levenshteinAlphabet),n=[];if(this._nameToDescribedTrajectory.forEach((function(e,i){e.getMatchCost(r)<t._maximumAllowableMatchCost&&n.push(i)})),0===n.length)return null;for(var i,o=0,a=this._nameToDescribedTrajectory.get(n[o]).getMatchMinimumDistance(r),s=0;s<n.length;++s)(i=this._nameToDescribedTrajectory.get(n[s]).getMatchMinimumDistance(r))<a&&(a=i,o=s);return n[o]},e}(),rt=r(16433),nt=r(50679),it=function(){function e(t,r,n){var i=this;this._scene=t,d.Y.Log("[Reflector] Connecting to ws://".concat(r,":").concat(n)),this._webSocket=new WebSocket("ws://".concat(r,":").concat(n)),this._webSocket.onmessage=function(t){var r=t.data;if(r.startsWith(e._SERVER_PREFIX)){var n=r.substr(e._SERVER_PREFIX.length);return d.Y.Log("[Reflector] Received server message: ".concat(n.substr(0,64))),void i._handleServerMessage(n)}d.Y.Log("[Reflector] Received client message: ".concat(r.substr(0,64))),i._handleClientMessage()},this._webSocket.onclose=function(e){d.Y.Log("[Reflector] Disconnected ".concat(e.code," ").concat(e.reason))}}return e.prototype.close=function(){this._webSocket.close()},e.prototype._handleServerMessage=function(e){var t=this;if("connected"===e)ie.SerializeAsync(this._scene).then((function(e){t._webSocket.send("load|".concat(JSON.stringify(e)))}))},e.prototype._handleClientMessage=function(){},e._SERVER_PREFIX="$$",e}(),ot=r(80352),at=r(1233),st=function(){function e(e){this._view=new Float32Array(e),this._itemLength=0}return Object.defineProperty(e.prototype,"itemLength",{get:function(){return this._itemLength},enumerable:!1,configurable:!0}),e.prototype.at=function(e){return e<0||e>=this._itemLength?NaN:this._view[e]},e.prototype.subarray=function(e,t){return e>=t||e<0?new Float32Array(0):(t>this._itemLength&&(t=this._itemLength),this._view.subarray(e,t))},e.prototype.push=function(e){this._view[this._itemLength]=e,this._itemLength++,this._itemLength>=this._view.length&&this._growArray()},e.prototype._growArray=function(){var e=Math.floor(1.5*this._view.length),t=new Float32Array(e);t.set(this._view),this._view=t},e}(),ut=1800,ct="timestamp",lt="numPoints",ht=/\r/g,ft="@",dt=function(){function e(t,r){var n=this;this._scene=t,this._collectDataAtFrame=function(){var t=ve.F.Now-n._startingTimestamp,r=n.datasets.ids.length,i=n.datasets.startingIndices.itemLength,o=0;if(i>0){var a=n.datasets.startingIndices.at(i-1);o=a+n.datasets.data.at(a+e.NumberOfPointsOffset)+e.SliceDataOffset}if(n.datasets.startingIndices.push(o),n.datasets.data.push(t),n.datasets.data.push(r),n.datasets.ids.forEach((function(e){var t=n._strategies.get(e);t&&n.datasets.data.push(t.getData())})),n.datasetObservable.hasObservers()){for(var s=[t,r],u=0;u<r;u++)s.push(n.datasets.data.at(o+e.SliceDataOffset+u));n.datasetObservable.notifyObservers(s)}},this.datasets={ids:[],data:new st(ut),startingIndices:new st(ut)},this._strategies=new Map,this._datasetMeta=new Map,this._eventRestoreSet=new Set,this._customEventObservable=new u.y$,this.datasetObservable=new u.y$,this.metadataObservable=new u.y$((function(e){return e.callback(n._datasetMeta,new u.he(0))})),r&&this.addCollectionStrategies.apply(this,r)}return Object.defineProperty(e,"SliceDataOffset",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NumberOfPointsOffset",{get:function(){return 1},enumerable:!1,configurable:!0}),e.prototype.registerEvent=function(e,t,r){var n,i=this;if(!this._strategies.has(e)||t){this._strategies.has(e)&&t&&(null===(n=this._strategies.get(e))||void 0===n||n.dispose(),this._strategies.delete(e));var o={name:e};return this._eventRestoreSet.add(e),this.addCollectionStrategies({strategyCallback:function(t){var r=0,n=0,o=t.onAfterRenderObservable.add((function(){n=r,r=0})),a=i._customEventObservable.add((function(t){e===t.name&&(void 0!==t.value?r=t.value:r++)}));return{id:e,getData:function(){return n},dispose:function(){t.onAfterRenderObservable.remove(o),i._customEventObservable.remove(a)}}},category:r}),o}},e.prototype.sendEvent=function(e){this._customEventObservable.notifyObservers(e)},e.prototype._restoreStringEvents=function(){var e=this;this._eventRestoreSet.size!==this._customEventObservable.observers.length&&this._eventRestoreSet.forEach((function(t){e.registerEvent(t,!0)}))},e.prototype.addCollectionStrategies=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e;r<n.length;r++){var i=n[r],o=i.strategyCallback,a=i.category,s=i.hidden,u=o(this._scene);this._strategies.has(u.id)?u.dispose():(this.datasets.ids.push(u.id),a&&(a=a.replace(new RegExp(ft,"g"),"")),this._datasetMeta.set(u.id,{color:this._getHexColorFromId(u.id),category:a,hidden:s}),this._strategies.set(u.id,u))}this.metadataObservable.notifyObservers(this._datasetMeta)},e.prototype._getHexColorFromId=function(e){for(var t=0,r=0;r<e.length;r++)t=e.charCodeAt(r)+((t<<5)-t);var n="#";for(r=0;r<24;r+=8){n+=("0"+(t>>r&255).toString(16)).substr(-2)}return n},e.prototype.getCurrentSlice=function(){var e=this,t=[ve.F.Now-this._startingTimestamp,this.datasets.ids.length];this.datasets.ids.forEach((function(r){var n=e._strategies.get(r);n&&e.datasetObservable.hasObservers()&&t.push(n.getData())})),this.datasetObservable.hasObservers()&&this.datasetObservable.notifyObservers(t)},e.prototype.updateMetadata=function(e,t,r){var n=this._datasetMeta.get(e);n&&(n[t]=r,this.metadataObservable.notifyObservers(this._datasetMeta))},e.prototype.clear=function(e){this.datasets.data=new st(ut),this.datasets.ids.length=0,this.datasets.startingIndices=new st(ut),this._datasetMeta.clear(),this._strategies.forEach((function(e){return e.dispose()})),this._strategies.clear(),e||this._eventRestoreSet.clear(),this._hasLoadedData=!1},Object.defineProperty(e.prototype,"hasLoadedData",{get:function(){return this._hasLoadedData},enumerable:!1,configurable:!0}),e.prototype.loadFromFileData=function(t,r){var n=t.replace(ht,"").split("\n").map((function(e){return e.split(",").filter((function(e){return e.length>0}))})).filter((function(e){return e.length>0})),i=e.NumberOfPointsOffset;if(n.length<2)return!1;var o={ids:[],data:new st(ut),startingIndices:new st(ut)},a=n[0],s=n.slice(1);if(a.length<2||a[0]!==ct||a[i]!==lt)return!1;for(var u=new Map,c=e.SliceDataOffset;c<a.length;c++){var l=a[c].split(ft),h=l[0],f=l[1];o.ids.push(h),u.set(h,f)}for(var d=0,p=0,g=s;p<g.length;p++){var v=g[p];if(v.length<2)return!1;var m=parseFloat(v[0]),y=parseInt(v[i]);if(isNaN(y)||isNaN(m))return!1;if(o.data.push(m),o.data.push(y),y+e.SliceDataOffset!==v.length)return!1;for(c=e.SliceDataOffset;c<v.length;c++){var _=parseFloat(v[c]);if(isNaN(_))return!1;o.data.push(_)}o.startingIndices.push(d),d+=v.length}if(this.datasets.ids=o.ids,this.datasets.data=o.data,this.datasets.startingIndices=o.startingIndices,r||this._datasetMeta.clear(),this._strategies.forEach((function(e){return e.dispose()})),this._strategies.clear(),!r)for(var b=0,A=this.datasets.ids;b<A.length;b++){h=A[b],f=u.get(h);this._datasetMeta.set(h,{category:f,color:this._getHexColorFromId(h)})}return this.metadataObservable.notifyObservers(this._datasetMeta),this._hasLoadedData=!0,!0},e.prototype.exportDataToCsv=function(){var t="";t+="".concat(ct,",").concat(lt);for(var r=0;r<this.datasets.ids.length;r++)if(t+=",".concat(this.datasets.ids[r]),this._datasetMeta){var n=this._datasetMeta.get(this.datasets.ids[r]);(null==n?void 0:n.category)&&(t+="".concat(ft).concat(n.category))}t+="\n";for(r=0;r<this.datasets.startingIndices.itemLength;r++){var i=this.datasets.startingIndices.at(r),o=this.datasets.data.at(i),a=this.datasets.data.at(i+e.NumberOfPointsOffset);t+="".concat(o,",").concat(a);for(var u=0;u<a;u++)t+=",".concat(this.datasets.data.at(i+e.SliceDataOffset+u));for(var c=0;c<this.datasets.ids.length-a;c++)t+=",";t+="\n"}var l="".concat((new Date).toISOString(),"-perfdata.csv");s.w1.Download(new Blob([t],{type:"text/csv"}),l)},e.prototype.start=function(e){e?void 0===this._startingTimestamp&&(this._startingTimestamp=ve.F.Now):(this.datasets.data=new st(ut),this.datasets.startingIndices=new st(ut),this._startingTimestamp=ve.F.Now),this._scene.onAfterRenderObservable.add(this._collectDataAtFrame),this._restoreStringEvents(),this._isStarted=!0},e.prototype.stop=function(){this._scene.onAfterRenderObservable.removeCallback(this._collectDataAtFrame),this._isStarted=!1},Object.defineProperty(e.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._scene.onAfterRenderObservable.removeCallback(this._collectDataAtFrame),this._datasetMeta.clear(),this._strategies.forEach((function(e){e.dispose()})),this.datasetObservable.clear(),this.metadataObservable.clear(),this._isStarted=!1,this.datasets=null},e}(),pt=r(97164),gt=r(93525),vt=function(){},mt=function(){function e(){}return e.FpsStrategy=function(){return function(e){var t=e.getEngine();return{id:"FPS",getData:function(){return t.getFps()},dispose:vt}}},e.CpuStrategy=function(){return function(e){var t=0,r=e.onComputePressureChanged.add((function(e){t=e.cpuUtilization}));return{id:"CPU utilization",getData:function(){return t},dispose:function(){return e.onComputePressureChanged.remove(r)}}}},e.TotalMeshesStrategy=function(){return function(e){return{id:"Total meshes",getData:function(){return e.meshes.length},dispose:vt}}},e.ActiveMeshesStrategy=function(){return function(e){return{id:"Active meshes",getData:function(){return e.getActiveMeshes().length},dispose:vt}}},e.ActiveIndicesStrategy=function(){return function(e){return{id:"Active indices",getData:function(){return e.getActiveIndices()},dispose:vt}}},e.ActiveFacesStrategy=function(){return function(e){return{id:"Active faces",getData:function(){return e.getActiveIndices()/3},dispose:vt}}},e.ActiveBonesStrategy=function(){return function(e){return{id:"Active bones",getData:function(){return e.getActiveBones()},dispose:vt}}},e.ActiveParticlesStrategy=function(){return function(e){return{id:"Active particles",getData:function(){return e.getActiveParticles()},dispose:vt}}},e.DrawCallsStrategy=function(){return function(e){var t=0,r=e.onBeforeAnimationsObservable.add((function(){e.getEngine()._drawCalls.fetchNewFrame()})),n=e.onAfterRenderObservable.add((function(){t=e.getEngine()._drawCalls.current}));return{id:"Draw calls",getData:function(){return t},dispose:function(){e.onBeforeAnimationsObservable.remove(r),e.onAfterRenderObservable.remove(n)}}}},e.TotalLightsStrategy=function(){return function(e){return{id:"Total lights",getData:function(){return e.lights.length},dispose:vt}}},e.TotalVerticesStrategy=function(){return function(e){return{id:"Total vertices",getData:function(){return e.getTotalVertices()},dispose:vt}}},e.TotalMaterialsStrategy=function(){return function(e){return{id:"Total materials",getData:function(){return e.materials.length},dispose:vt}}},e.TotalTexturesStrategy=function(){return function(e){return{id:"Total textures",getData:function(){return e.textures.length},dispose:vt}}},e.AbsoluteFpsStrategy=function(){return function(e){var t=new gt.C(e);return t.captureFrameTime=!0,{id:"Absolute FPS",getData:function(){return 1e3/t.frameTimeCounter.lastSecAverage},dispose:vt}}},e.MeshesSelectionStrategy=function(){return function(e){var t=ve.F.Now,r=0,n=e.onBeforeActiveMeshesEvaluationObservable.add((function(){t=ve.F.Now})),i=e.onAfterActiveMeshesEvaluationObservable.add((function(){r=ve.F.Now-t}));return{id:"Meshes Selection",getData:function(){return r},dispose:function(){e.onBeforeActiveMeshesEvaluationObservable.remove(n),e.onAfterActiveMeshesEvaluationObservable.remove(i)}}}},e.RenderTargetsStrategy=function(){return function(e){var t=ve.F.Now,r=0,n=e.onBeforeRenderTargetsRenderObservable.add((function(){t=ve.F.Now})),i=e.onAfterRenderTargetsRenderObservable.add((function(){r=ve.F.Now-t}));return{id:"Render Targets",getData:function(){return r},dispose:function(){e.onBeforeRenderTargetsRenderObservable.remove(n),e.onAfterRenderTargetsRenderObservable.remove(i)}}}},e.ParticlesStrategy=function(){return function(e){var t=ve.F.Now,r=0,n=e.onBeforeParticlesRenderingObservable.add((function(){t=ve.F.Now})),i=e.onAfterParticlesRenderingObservable.add((function(){r=ve.F.Now-t}));return{id:"Particles",getData:function(){return r},dispose:function(){e.onBeforeParticlesRenderingObservable.remove(n),e.onAfterParticlesRenderingObservable.remove(i)}}}},e.SpritesStrategy=function(){return function(e){var t,r,n=ve.F.Now,i=0,o=null===(t=e.onBeforeSpritesRenderingObservable)||void 0===t?void 0:t.add((function(){n=ve.F.Now})),a=null===(r=e.onAfterSpritesRenderingObservable)||void 0===r?void 0:r.add((function(){i=ve.F.Now-n}));return{id:"Sprites",getData:function(){return i},dispose:function(){var t,r;null===(t=e.onBeforeSpritesRenderingObservable)||void 0===t||t.remove(o),null===(r=e.onAfterSpritesRenderingObservable)||void 0===r||r.remove(a)}}}},e.AnimationsStrategy=function(){return function(e){var t=ve.F.Now,r=0,n=e.onBeforeAnimationsObservable.add((function(){t=ve.F.Now})),i=e.onAfterAnimationsObservable.add((function(){r=ve.F.Now-t}));return{id:"Animations",getData:function(){return r},dispose:function(){e.onBeforeAnimationsObservable.remove(n),e.onAfterAnimationsObservable.remove(i)}}}},e.PhysicsStrategy=function(){return function(e){var t,r,n=ve.F.Now,i=0,o=null===(t=e.onBeforePhysicsObservable)||void 0===t?void 0:t.add((function(){n=ve.F.Now})),a=null===(r=e.onAfterPhysicsObservable)||void 0===r?void 0:r.add((function(){i=ve.F.Now-n}));return{id:"Physics",getData:function(){return i},dispose:function(){var t,r;null===(t=e.onBeforePhysicsObservable)||void 0===t||t.remove(o),null===(r=e.onAfterPhysicsObservable)||void 0===r||r.remove(a)}}}},e.RenderStrategy=function(){return function(e){var t=ve.F.Now,r=0,n=e.onBeforeDrawPhaseObservable.add((function(){t=ve.F.Now})),i=e.onAfterDrawPhaseObservable.add((function(){r=ve.F.Now-t}));return{id:"Render",getData:function(){return r},dispose:function(){e.onBeforeDrawPhaseObservable.remove(n),e.onAfterDrawPhaseObservable.remove(i)}}}},e.FrameTotalStrategy=function(){return function(e){var t=ve.F.Now,r=0,n=e.onBeforeAnimationsObservable.add((function(){t=ve.F.Now})),i=e.onAfterRenderObservable.add((function(){r=ve.F.Now-t}));return{id:"Frame Total",getData:function(){return r},dispose:function(){e.onBeforeAnimationsObservable.remove(n),e.onAfterRenderObservable.remove(i)}}}},e.InterFrameStrategy=function(){return function(e){var t=ve.F.Now,r=0,n=e.onBeforeAnimationsObservable.add((function(){r=ve.F.Now-t})),i=e.onAfterRenderObservable.add((function(){t=ve.F.Now}));return{id:"Inter-frame",getData:function(){return r},dispose:function(){e.onBeforeAnimationsObservable.remove(n),e.onAfterRenderObservable.remove(i)}}}},e.GpuFrameTimeStrategy=function(){return function(e){var t=new pt.P(e.getEngine());return t.captureGPUFrameTime=!0,{id:"GPU frame time",getData:function(){return Math.max(1e-6*t.gpuFrameTimeCounter.current,0)},dispose:function(){t.dispose()}}}},e}();r(65273).x.prototype.getPerfCollector=function(){return this._perfCollector||(this._perfCollector=new dt(this)),this._perfCollector};var yt=r(24539),_t=r(54007),bt=r(46223);u.y$.prototype.runCoroutineAsync=function(e){if(!this._coroutineScheduler){var t=function(e){var t=new Array,r=new Array,n=new Array,i=e.add((function(){for(var e=t.length,i=0;i<e;i++)(0,yt.WP)(t.shift(),r.shift(),n.shift())}));return{scheduler:function(e,i,o){t.push(e),r.push(i),n.push(o)},dispose:function(){e.remove(i)}}}(this);this._coroutineScheduler=t.scheduler,this._coroutineSchedulerDispose=t.dispose}return(0,yt.sM)(e,this._coroutineScheduler)},u.y$.prototype.cancelAllCoroutines=function(){this._coroutineSchedulerDispose&&this._coroutineSchedulerDispose(),this._coroutineScheduler=void 0,this._coroutineSchedulerDispose=void 0}},35890:(e,t,r)=>{r.d(t,{K:()=>o});var n=r(84318),i=r(48620),o=function(){function e(){}return e.Instantiate=function(e){if(this.RegisteredExternalClasses&&this.RegisteredExternalClasses[e])return this.RegisteredExternalClasses[e];var t=(0,i.q)(e);if(t)return t;n.Y.Warn(e+" not found, you may have missed an import.");for(var r=e.split("."),o=window||this,a=0,s=r.length;a<s;a++)o=o[r[a]];return"function"!=typeof o?null:o},e.RegisteredExternalClasses={},e}()},88552:(e,t,r)=>{r.d(t,{k:()=>i});var n=r(84318),i=function(){function e(t,r){if(this.data=t,this.isInvalid=!1,!e.IsValid(t))return this.isInvalid=!0,void n.Y.Error("texture missing KTX identifier");var i=Uint32Array.BYTES_PER_ELEMENT,o=new DataView(this.data.buffer,this.data.byteOffset+12,13*i),a=67305985===o.getUint32(0,!0);this.glType=o.getUint32(1*i,a),this.glTypeSize=o.getUint32(2*i,a),this.glFormat=o.getUint32(3*i,a),this.glInternalFormat=o.getUint32(4*i,a),this.glBaseInternalFormat=o.getUint32(5*i,a),this.pixelWidth=o.getUint32(6*i,a),this.pixelHeight=o.getUint32(7*i,a),this.pixelDepth=o.getUint32(8*i,a),this.numberOfArrayElements=o.getUint32(9*i,a),this.numberOfFaces=o.getUint32(10*i,a),this.numberOfMipmapLevels=o.getUint32(11*i,a),this.bytesOfKeyValueData=o.getUint32(12*i,a),0===this.glType?(this.numberOfMipmapLevels=Math.max(1,this.numberOfMipmapLevels),0!==this.pixelHeight&&0===this.pixelDepth?0===this.numberOfArrayElements?this.numberOfFaces===r?this.loadType=e.COMPRESSED_2D:n.Y.Error("number of faces expected"+r+", but found "+this.numberOfFaces):n.Y.Error("texture arrays not currently supported"):n.Y.Error("only 2D textures currently supported")):n.Y.Error("only compressed formats currently supported")}return e.prototype.uploadLevels=function(t,r){switch(this.loadType){case e.COMPRESSED_2D:this._upload2DCompressedLevels(t,r);case e.TEX_2D:case e.COMPRESSED_3D:case e.TEX_3D:}},e.prototype._upload2DCompressedLevels=function(t,r){for(var n=e.HEADER_LEN+this.bytesOfKeyValueData,i=this.pixelWidth,o=this.pixelHeight,a=r?this.numberOfMipmapLevels:1,s=0;s<a;s++){var u=new Int32Array(this.data.buffer,this.data.byteOffset+n,1)[0];n+=4;for(var c=0;c<this.numberOfFaces;c++){var l=new Uint8Array(this.data.buffer,this.data.byteOffset+n,u);t.getEngine()._uploadCompressedDataToTextureDirectly(t,t.format,i,o,l,c,s),n+=u,n+=3-(u+3)%4}i=Math.max(1,.5*i),o=Math.max(1,.5*o)}},e.IsValid=function(e){if(e.byteLength>=12){var t=new Uint8Array(e.buffer,e.byteOffset,12);if(171===t[0]&&75===t[1]&&84===t[2]&&88===t[3]&&32===t[4]&&49===t[5]&&49===t[6]&&187===t[7]&&13===t[8]&&10===t[9]&&26===t[10]&&10===t[11])return!0}return!1},e.HEADER_LEN=64,e.COMPRESSED_2D=0,e.COMPRESSED_3D=1,e.TEX_2D=2,e.TEX_3D=3,e}()},53669:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(11758),i=r(13514),o=function(){function e(t,r){void 0===r&&(r=e.DefaultNumWorkers),this._engine=t,e._Initialize(r)}return e.GetDefaultNumWorkers=function(){return"object"==typeof navigator&&navigator.hardwareConcurrency?Math.min(Math.floor(.5*navigator.hardwareConcurrency),4):1},e._Initialize=function(t){e._WorkerPoolPromise||e._DecoderModulePromise||(t&&"function"==typeof Worker?e._WorkerPoolPromise=new Promise((function(r){var i="(".concat(a,")()"),o=URL.createObjectURL(new Blob([i],{type:"application/javascript"}));r(new n.v(t,(function(){return new Promise((function(t,r){var n=new Worker(o),i=function(e){n.removeEventListener("error",i),n.removeEventListener("message",a),r(e)},a=function(e){"init"===e.data.action&&(n.removeEventListener("error",i),n.removeEventListener("message",a),t(n))};n.addEventListener("error",i),n.addEventListener("message",a),n.postMessage({action:"init",urls:e.URLConfig})}))})))})):"undefined"==typeof KTX2DECODER?e._DecoderModulePromise=i.w1.LoadScriptAsync(e.URLConfig.jsDecoderModule).then((function(){KTX2DECODER.MSCTranscoder.UseFromWorkerThread=!1,KTX2DECODER.WASMMemoryManager.LoadBinariesFromCurrentThread=!0;var t=e.URLConfig;return null!==t.wasmUASTCToASTC&&(KTX2DECODER.LiteTranscoder_UASTC_ASTC.WasmModuleURL=t.wasmUASTCToASTC),null!==t.wasmUASTCToBC7&&(KTX2DECODER.LiteTranscoder_UASTC_BC7.WasmModuleURL=t.wasmUASTCToBC7),null!==t.wasmUASTCToRGBA_UNORM&&(KTX2DECODER.LiteTranscoder_UASTC_RGBA_UNORM.WasmModuleURL=t.wasmUASTCToRGBA_UNORM),null!==t.wasmUASTCToRGBA_SRGB&&(KTX2DECODER.LiteTranscoder_UASTC_RGBA_SRGB.WasmModuleURL=t.wasmUASTCToRGBA_SRGB),null!==t.jsMSCTranscoder&&(KTX2DECODER.MSCTranscoder.JSModuleURL=t.jsMSCTranscoder),null!==t.wasmMSCTranscoder&&(KTX2DECODER.MSCTranscoder.WasmModuleURL=t.wasmMSCTranscoder),null!==t.wasmZSTDDecoder&&(KTX2DECODER.ZSTDDecoder.WasmModuleURL=t.wasmZSTDDecoder),new KTX2DECODER.KTX2Decoder})):(KTX2DECODER.MSCTranscoder.UseFromWorkerThread=!1,KTX2DECODER.WASMMemoryManager.LoadBinariesFromCurrentThread=!0,e._DecoderModulePromise=Promise.resolve(new KTX2DECODER.KTX2Decoder)))},e.prototype.uploadAsync=function(t,r,n){var i=this,o=this._engine.getCaps(),a={astc:!!o.astc,bptc:!!o.bptc,s3tc:!!o.s3tc,pvrtc:!!o.pvrtc,etc2:!!o.etc2,etc1:!!o.etc1};if(e._WorkerPoolPromise)return e._WorkerPoolPromise.then((function(e){return new Promise((function(o,s){e.push((function(e,u){var c=function(t){e.removeEventListener("error",c),e.removeEventListener("message",l),s(t),u()},l=function(t){if("decoded"===t.data.action){if(e.removeEventListener("error",c),e.removeEventListener("message",l),t.data.success)try{i._createTexture(t.data.decodedData,r,n),o()}catch(e){s({message:e})}else s({message:t.data.msg});u()}};e.addEventListener("error",c),e.addEventListener("message",l);var h=new Uint8Array(t.byteLength);h.set(new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),e.postMessage({action:"decode",data:h,caps:a,options:n},[h.buffer])}))}))}));if(e._DecoderModulePromise)return e._DecoderModulePromise.then((function(e){return new Promise((function(n,a){e.decode(t,o).then((function(e){i._createTexture(e,r),n()})).catch((function(e){a({message:e})}))}))}));throw new Error("KTX2 decoder module is not available")},e.prototype._createTexture=function(e,t,r){if(this._engine._bindTextureDirectly(3553,t),r&&(r.transcodedFormat=e.transcodedFormat,r.isInGammaSpace=e.isInGammaSpace,r.hasAlpha=e.hasAlpha,r.transcoderName=e.transcoderName),32856===e.transcodedFormat?(t.type=0,t.format=5):t.format=e.transcodedFormat,t._gammaSpace=e.isInGammaSpace,t.generateMipMaps=e.mipmaps.length>1,e.errors)throw new Error("KTX2 container - could not transcode the data. "+e.errors);for(var n=0;n<e.mipmaps.length;++n){var i=e.mipmaps[n];if(!i||!i.data)throw new Error("KTX2 container - could not transcode one of the image");32856===e.transcodedFormat?(t.width=i.width,t.height=i.height,this._engine._uploadDataToTextureDirectly(t,i.data,0,n,void 0,!0)):this._engine._uploadCompressedDataToTextureDirectly(t,e.transcodedFormat,i.width,i.height,i.data,0,n)}t._extension=".ktx2",t.width=e.mipmaps[0].width,t.height=e.mipmaps[0].height,t.isReady=!0,this._engine._bindTextureDirectly(3553,null)},e.IsValid=function(e){if(e.byteLength>=12){var t=new Uint8Array(e.buffer,e.byteOffset,12);if(171===t[0]&&75===t[1]&&84===t[2]&&88===t[3]&&32===t[4]&&50===t[5]&&48===t[6]&&187===t[7]&&13===t[8]&&10===t[9]&&26===t[10]&&10===t[11])return!0}return!1},e.URLConfig={jsDecoderModule:"https://preview.babylonjs.com/babylon.ktx2Decoder.js",wasmUASTCToASTC:null,wasmUASTCToBC7:null,wasmUASTCToRGBA_UNORM:null,wasmUASTCToRGBA_SRGB:null,jsMSCTranscoder:null,wasmMSCTranscoder:null,wasmZSTDDecoder:null},e.DefaultNumWorkers=e.GetDefaultNumWorkers(),e}();function a(){var e;onmessage=function(t){if(t.data)switch(t.data.action){case"init":var r=t.data.urls;importScripts(r.jsDecoderModule),null!==r.wasmUASTCToASTC&&(KTX2DECODER.LiteTranscoder_UASTC_ASTC.WasmModuleURL=r.wasmUASTCToASTC),null!==r.wasmUASTCToBC7&&(KTX2DECODER.LiteTranscoder_UASTC_BC7.WasmModuleURL=r.wasmUASTCToBC7),null!==r.wasmUASTCToRGBA_UNORM&&(KTX2DECODER.LiteTranscoder_UASTC_RGBA_UNORM.WasmModuleURL=r.wasmUASTCToRGBA_UNORM),null!==r.wasmUASTCToRGBA_SRGB&&(KTX2DECODER.LiteTranscoder_UASTC_RGBA_SRGB.WasmModuleURL=r.wasmUASTCToRGBA_SRGB),null!==r.jsMSCTranscoder&&(KTX2DECODER.MSCTranscoder.JSModuleURL=r.jsMSCTranscoder),null!==r.wasmMSCTranscoder&&(KTX2DECODER.MSCTranscoder.WasmModuleURL=r.wasmMSCTranscoder),null!==r.wasmZSTDDecoder&&(KTX2DECODER.ZSTDDecoder.WasmModuleURL=r.wasmZSTDDecoder),e=new KTX2DECODER.KTX2Decoder,postMessage({action:"init"});break;case"decode":e.decode(t.data.data,t.data.caps,t.data.options).then((function(e){for(var t=[],r=0;r<e.mipmaps.length;++r){var n=e.mipmaps[r];n&&n.data&&t.push(n.data.buffer)}postMessage({action:"decoded",success:!0,decodedData:e},t)})).catch((function(e){postMessage({action:"decoded",success:!1,msg:e})}))}}}},84318:(e,t,r)=>{r.d(t,{Y:()=>n});var n=function(){function e(){}return e._CheckLimit=function(t,r){var n=e._LogLimitOutputs[t];return n?n.current++:(n={limit:r,current:1},e._LogLimitOutputs[t]=n),n.current<=n.limit},e._GenerateLimitMessage=function(t,r){var n=e._LogLimitOutputs[t];if(n&&e.MessageLimitReached&&n.current===n.limit)switch(r){case 0:e.Log(e.MessageLimitReached.replace(/%LIMIT%/g,""+n.limit).replace(/%TYPE%/g,"log"));break;case 1:e.Warn(e.MessageLimitReached.replace(/%LIMIT%/g,""+n.limit).replace(/%TYPE%/g,"warning"));break;case 2:e.Error(e.MessageLimitReached.replace(/%LIMIT%/g,""+n.limit).replace(/%TYPE%/g,"error"))}},e._AddLogEntry=function(t){e._LogCache=t+e._LogCache,e.OnNewCacheEntry&&e.OnNewCacheEntry(t)},e._FormatMessage=function(e){var t=function(e){return e<10?"0"+e:""+e},r=new Date;return"["+t(r.getHours())+":"+t(r.getMinutes())+":"+t(r.getSeconds())+"]: "+e},e._LogDisabled=function(e,t){},e._LogEnabled=function(t,r){if(void 0===r||e._CheckLimit(t,r)){var n="<div style='color:white'>"+e._FormatMessage(t)+"</div><br>";e._AddLogEntry(n),e._GenerateLimitMessage(t,0)}},e._WarnDisabled=function(e,t){},e._WarnEnabled=function(t,r){if(void 0===r||e._CheckLimit(t,r)){e._FormatMessage(t);var n="<div style='color:orange'>"+t+"</div><br>";e._AddLogEntry(n),e._GenerateLimitMessage(t,1)}},e._ErrorDisabled=function(e,t){},e._ErrorEnabled=function(t,r){if(void 0===r||e._CheckLimit(t,r)){var n=e._FormatMessage(t);e.errorsCount++;var i="<div style='color:red'>"+n+"</div><br>";e._AddLogEntry(i),e._GenerateLimitMessage(t,2)}},Object.defineProperty(e,"LogCache",{get:function(){return e._LogCache},enumerable:!1,configurable:!0}),e.ClearLogCache=function(){e._LogCache="",e._LogLimitOutputs={},e.errorsCount=0},Object.defineProperty(e,"LogLevels",{set:function(t){(t&e.MessageLogLevel)===e.MessageLogLevel?e.Log=e._LogEnabled:e.Log=e._LogDisabled,(t&e.WarningLogLevel)===e.WarningLogLevel?e.Warn=e._WarnEnabled:e.Warn=e._WarnDisabled,(t&e.ErrorLogLevel)===e.ErrorLogLevel?e.Error=e._ErrorEnabled:e.Error=e._ErrorDisabled},enumerable:!1,configurable:!0}),e.NoneLogLevel=0,e.MessageLogLevel=1,e.WarningLogLevel=2,e.ErrorLogLevel=4,e.AllLogLevel=7,e.MessageLimitReached="Too many %TYPE%s (%LIMIT%), no more %TYPE%s will be reported for this message.",e._LogCache="",e._LogLimitOutputs={},e.errorsCount=0,e.Log=e._LogEnabled,e.Warn=e._WarnEnabled,e.Error=e._ErrorEnabled,e}()},88114:(e,t,r)=>{r.d(t,{d:()=>a});var n=r(62897),i=r(16142),o=r(1421),a=(r(41247),function(){function e(e){var t=this;this.onAfterReductionPerformed=new n.y$,this._forceFullscreenViewport=!0,this._activated=!1,this._camera=e,this._postProcessManager=new o.O(e.getScene()),this._onContextRestoredObserver=e.getEngine().onContextRestoredObservable.add((function(){t._postProcessManager._rebuild()}))}return Object.defineProperty(e.prototype,"sourceTexture",{get:function(){return this._sourceTexture},enumerable:!1,configurable:!0}),e.prototype.setSourceTexture=function(e,t,r,n){var o=this;if(void 0===r&&(r=2),void 0===n&&(n=!0),e!==this._sourceTexture){this.dispose(!1),this._sourceTexture=e,this._reductionSteps=[],this._forceFullscreenViewport=n;var a=this._camera.getScene(),s=new i.D("Initial reduction phase","minmaxRedux",["texSize"],["sourceTexture"],1,null,1,a.getEngine(),!1,"#define INITIAL"+(t?"\n#define DEPTH_REDUX":""),r,void 0,void 0,void 0,7);s.autoClear=!1,s.forceFullscreenViewport=n;var u=this._sourceTexture.getRenderWidth(),c=this._sourceTexture.getRenderHeight();s.onApply=function(e,t){return function(r){r.setTexture("sourceTexture",o._sourceTexture),r.setFloat2("texSize",e,t)}}(u,c),this._reductionSteps.push(s);for(var l=1;u>1||c>1;){u=Math.max(Math.round(u/2),1),c=Math.max(Math.round(c/2),1);var h=new i.D("Reduction phase "+l,"minmaxRedux",["texSize"],null,{width:u,height:c},null,1,a.getEngine(),!1,"#define "+(1==u&&1==c?"LAST":1==u||1==c?"ONEBEFORELAST":"MAIN"),r,void 0,void 0,void 0,7);if(h.autoClear=!1,h.forceFullscreenViewport=n,h.onApply=function(e,t){return function(r){1==e||1==t?r.setInt2("texSize",e,t):r.setFloat2("texSize",e,t)}}(u,c),this._reductionSteps.push(h),l++,1==u&&1==c){h.onAfterRenderObservable.add(function(e,t,r){var n=new Float32Array(4*e*t),i={min:0,max:0};return function(){a.getEngine()._readTexturePixels(r.inputTexture.texture,e,t,-1,0,n,!1),i.min=n[0],i.max=n[1],o.onAfterReductionPerformed.notifyObservers(i)}}(u,c,h))}}}},Object.defineProperty(e.prototype,"refreshRate",{get:function(){return this._sourceTexture?this._sourceTexture.refreshRate:-1},set:function(e){this._sourceTexture&&(this._sourceTexture.refreshRate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activated",{get:function(){return this._activated},enumerable:!1,configurable:!0}),e.prototype.activate=function(){var e=this;!this._onAfterUnbindObserver&&this._sourceTexture&&(this._onAfterUnbindObserver=this._sourceTexture.onAfterUnbindObservable.add((function(){var t,r,n=e._camera.getScene().getEngine();null===(t=n._debugPushGroup)||void 0===t||t.call(n,"min max reduction",1),e._reductionSteps[0].activate(e._camera),e._postProcessManager.directRender(e._reductionSteps,e._reductionSteps[0].inputTexture,e._forceFullscreenViewport),n.unBindFramebuffer(e._reductionSteps[0].inputTexture,!1),null===(r=n._debugPopGroup)||void 0===r||r.call(n,1)})),this._activated=!0)},e.prototype.deactivate=function(){this._onAfterUnbindObserver&&this._sourceTexture&&(this._sourceTexture.onAfterUnbindObservable.remove(this._onAfterUnbindObserver),this._onAfterUnbindObserver=null,this._activated=!1)},e.prototype.dispose=function(e){if(void 0===e&&(e=!0),e&&(this.onAfterReductionPerformed.clear(),this._onContextRestoredObserver&&(this._camera.getEngine().onContextRestoredObservable.remove(this._onContextRestoredObserver),this._onContextRestoredObserver=null)),this.deactivate(),this._reductionSteps){for(var t=0;t<this._reductionSteps.length;++t)this._reductionSteps[t].dispose();this._reductionSteps=null}this._postProcessManager&&e&&this._postProcessManager.dispose(),this._sourceTexture=null},e}())},62897:(e,t,r)=>{r.d(t,{JE:()=>o,Qj:()=>i,he:()=>n,y$:()=>a});var n=function(){function e(e,t,r,n){void 0===t&&(t=!1),this.initialize(e,t,r,n)}return e.prototype.initialize=function(e,t,r,n){return void 0===t&&(t=!1),this.mask=e,this.skipNextObservers=t,this.target=r,this.currentTarget=n,this},e}(),i=function(e,t,r){void 0===r&&(r=null),this.callback=e,this.mask=t,this.scope=r,this._willBeUnregistered=!1,this.unregisterOnNextCall=!1},o=function(){function e(){}return e.prototype.dispose=function(){if(this._observers&&this._observables)for(var e=0;e<this._observers.length;e++)this._observables[e].remove(this._observers[e]);this._observers=null,this._observables=null},e.Watch=function(t,r,n,i){void 0===n&&(n=-1),void 0===i&&(i=null);var o=new e;o._observers=new Array,o._observables=t;for(var a=0,s=t;a<s.length;a++){var u=s[a].add(r,n,!1,i);u&&o._observers.push(u)}return o},e}(),a=function(){function e(e){this._observers=new Array,this._eventState=new n(0),e&&(this._onObserverAdded=e)}return e.FromPromise=function(t,r){var n=new e;return t.then((function(e){n.notifyObservers(e)})).catch((function(e){if(!r)throw e;r.notifyObservers(e)})),n},Object.defineProperty(e.prototype,"observers",{get:function(){return this._observers},enumerable:!1,configurable:!0}),e.prototype.add=function(e,t,r,n,o){if(void 0===t&&(t=-1),void 0===r&&(r=!1),void 0===n&&(n=null),void 0===o&&(o=!1),!e)return null;var a=new i(e,t,n);return a.unregisterOnNextCall=o,r?this._observers.unshift(a):this._observers.push(a),this._onObserverAdded&&this._onObserverAdded(a),a},e.prototype.addOnce=function(e){return this.add(e,void 0,void 0,void 0,!0)},e.prototype.remove=function(e){return!!e&&(-1!==this._observers.indexOf(e)&&(this._deferUnregister(e),!0))},e.prototype.removeCallback=function(e,t){for(var r=0;r<this._observers.length;r++){var n=this._observers[r];if(!n._willBeUnregistered&&(n.callback===e&&(!t||t===n.scope)))return this._deferUnregister(n),!0}return!1},e.prototype._deferUnregister=function(e){var t=this;e.unregisterOnNextCall=!1,e._willBeUnregistered=!0,setTimeout((function(){t._remove(e)}),0)},e.prototype._remove=function(e){if(!e)return!1;var t=this._observers.indexOf(e);return-1!==t&&(this._observers.splice(t,1),!0)},e.prototype.makeObserverTopPriority=function(e){this._remove(e),this._observers.unshift(e)},e.prototype.makeObserverBottomPriority=function(e){this._remove(e),this._observers.push(e)},e.prototype.notifyObservers=function(e,t,r,n,i){if(void 0===t&&(t=-1),!this._observers.length)return!0;var o=this._eventState;o.mask=t,o.target=r,o.currentTarget=n,o.skipNextObservers=!1,o.lastReturnValue=e,o.userInfo=i;for(var a=0,s=this._observers;a<s.length;a++){var u=s[a];if(!u._willBeUnregistered&&(u.mask&t&&(u.scope?o.lastReturnValue=u.callback.apply(u.scope,[e,o]):o.lastReturnValue=u.callback(e,o),u.unregisterOnNextCall&&this._deferUnregister(u)),o.skipNextObservers))return!1}return!0},e.prototype.notifyObserversWithPromise=function(e,t,r,n,i){var o=this;void 0===t&&(t=-1);var a=Promise.resolve(e);if(!this._observers.length)return a;var s=this._eventState;return s.mask=t,s.target=r,s.currentTarget=n,s.skipNextObservers=!1,s.userInfo=i,this._observers.forEach((function(r){s.skipNextObservers||r._willBeUnregistered||r.mask&t&&(a=r.scope?a.then((function(t){return s.lastReturnValue=t,r.callback.apply(r.scope,[e,s])})):a.then((function(t){return s.lastReturnValue=t,r.callback(e,s)})),r.unregisterOnNextCall&&o._deferUnregister(r))})),a.then((function(){return e}))},e.prototype.notifyObserver=function(e,t,r){if(void 0===r&&(r=-1),!e._willBeUnregistered){var n=this._eventState;n.mask=r,n.skipNextObservers=!1,e.callback(t,n),e.unregisterOnNextCall&&this._deferUnregister(e)}},e.prototype.hasObservers=function(){return this._observers.length>0},e.prototype.clear=function(){this._observers=new Array,this._onObserverAdded=null},e.prototype.clone=function(){var t=new e;return t._observers=this._observers.slice(0),t},e.prototype.hasSpecificMask=function(e){void 0===e&&(e=-1);for(var t=0,r=this._observers;t<r.length;t++){var n=r[t];if(n.mask&e||n.mask===e)return!0}return!1},e}()},82577:(e,t,r)=>{r.d(t,{z:()=>i});var n=r(29945),i=function(){function e(){this._startMonitoringTime=0,this._min=0,this._max=0,this._average=0,this._lastSecAverage=0,this._current=0,this._totalValueCount=0,this._totalAccumulated=0,this._lastSecAccumulated=0,this._lastSecTime=0,this._lastSecValueCount=0}return Object.defineProperty(e.prototype,"min",{get:function(){return this._min},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"average",{get:function(){return this._average},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastSecAverage",{get:function(){return this._lastSecAverage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"total",{get:function(){return this._totalAccumulated},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._totalValueCount},enumerable:!1,configurable:!0}),e.prototype.fetchNewFrame=function(){this._totalValueCount++,this._current=0,this._lastSecValueCount++},e.prototype.addCount=function(t,r){e.Enabled&&(this._current+=t,r&&this._fetchResult())},e.prototype.beginMonitoring=function(){e.Enabled&&(this._startMonitoringTime=n.F.Now)},e.prototype.endMonitoring=function(t){if(void 0===t&&(t=!0),e.Enabled){t&&this.fetchNewFrame();var r=n.F.Now;this._current=r-this._startMonitoringTime,t&&this._fetchResult()}},e.prototype._fetchResult=function(){this._totalAccumulated+=this._current,this._lastSecAccumulated+=this._current,this._min=Math.min(this._min,this._current),this._max=Math.max(this._max,this._current),this._average=this._totalAccumulated/this._totalValueCount;var e=n.F.Now;e-this._lastSecTime>1e3&&(this._lastSecAverage=this._lastSecAccumulated/this._lastSecValueCount,this._lastSecTime=e,this._lastSecAccumulated=0,this._lastSecValueCount=0)},e.Enabled=!0,e}()},31700:(e,t,r)=>{r.d(t,{A:()=>i,Z:()=>o});var n=r(29945),i=function(){function e(e){void 0===e&&(e=30),this._enabled=!0,this._rollingFrameTime=new o(e)}return e.prototype.sampleFrame=function(e){if(void 0===e&&(e=n.F.Now),this._enabled){if(null!=this._lastFrameTimeMs){var t=e-this._lastFrameTimeMs;this._rollingFrameTime.add(t)}this._lastFrameTimeMs=e}},Object.defineProperty(e.prototype,"averageFrameTime",{get:function(){return this._rollingFrameTime.average},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageFrameTimeVariance",{get:function(){return this._rollingFrameTime.variance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instantaneousFrameTime",{get:function(){return this._rollingFrameTime.history(0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageFPS",{get:function(){return 1e3/this._rollingFrameTime.average},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instantaneousFPS",{get:function(){var e=this._rollingFrameTime.history(0);return 0===e?0:1e3/e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSaturated",{get:function(){return this._rollingFrameTime.isSaturated()},enumerable:!1,configurable:!0}),e.prototype.enable=function(){this._enabled=!0},e.prototype.disable=function(){this._enabled=!1,this._lastFrameTimeMs=null},Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._lastFrameTimeMs=null,this._rollingFrameTime.reset()},e}(),o=function(){function e(e){this._samples=new Array(e),this.reset()}return e.prototype.add=function(e){var t;if(this.isSaturated()){var r=this._samples[this._pos];t=r-this.average,this.average-=t/(this._sampleCount-1),this._m2-=t*(r-this.average)}else this._sampleCount++;t=e-this.average,this.average+=t/this._sampleCount,this._m2+=t*(e-this.average),this.variance=this._m2/(this._sampleCount-1),this._samples[this._pos]=e,this._pos++,this._pos%=this._samples.length},e.prototype.history=function(e){if(e>=this._sampleCount||e>=this._samples.length)return 0;var t=this._wrapPosition(this._pos-1);return this._samples[this._wrapPosition(t-e)]},e.prototype.isSaturated=function(){return this._sampleCount>=this._samples.length},e.prototype.reset=function(){this.average=0,this.variance=0,this._sampleCount=0,this._pos=0,this._m2=0},e.prototype._wrapPosition=function(e){var t=this._samples.length;return(e%t+t)%t},e}()},11337:(e,t,r)=>{r.d(t,{m:()=>i});var n=r(58095),i=function(){function e(){}return e._RemoveAndStorePivotPoint=function(t){t&&0===e._PivotCached&&(t.getPivotPointToRef(e._OldPivotPoint),e._PivotPostMultiplyPivotMatrix=t._postMultiplyPivotMatrix,e._OldPivotPoint.equalsToFloats(0,0,0)||(t.setPivotMatrix(n.y3.IdentityReadOnly),e._OldPivotPoint.subtractToRef(t.getPivotPoint(),e._PivotTranslation),e._PivotTmpVector.copyFromFloats(1,1,1),e._PivotTmpVector.subtractInPlace(t.scaling),e._PivotTmpVector.multiplyInPlace(e._PivotTranslation),t.position.addInPlace(e._PivotTmpVector))),e._PivotCached++},e._RestorePivotPoint=function(t){t&&!e._OldPivotPoint.equalsToFloats(0,0,0)&&1===e._PivotCached&&(t.setPivotPoint(e._OldPivotPoint),t._postMultiplyPivotMatrix=e._PivotPostMultiplyPivotMatrix,e._PivotTmpVector.copyFromFloats(1,1,1),e._PivotTmpVector.subtractInPlace(t.scaling),e._PivotTmpVector.multiplyInPlace(e._PivotTranslation),t.position.subtractInPlace(e._PivotTmpVector)),this._PivotCached--},e._PivotCached=0,e._OldPivotPoint=new n.P,e._PivotTranslation=new n.P,e._PivotTmpVector=new n.P,e._PivotPostMultiplyPivotMatrix=!1,e}()},29945:(e,t,r)=>{r.d(t,{F:()=>i});var n=r(80352),i=function(){function e(){}return Object.defineProperty(e,"Now",{get:function(){return n.MZ.IsWindowObjectExist()&&window.performance&&window.performance.now?window.performance.now():Date.now()},enumerable:!1,configurable:!0}),e}()},42874:(e,t,r)=>{r.d(t,{b:()=>n});var n=function(){function e(){}return e.ExponentialBackoff=function(e,t){return void 0===e&&(e=3),void 0===t&&(t=500),function(r,n,i){return 0!==n.status||i>=e||-1!==r.indexOf("file:")?-1:Math.pow(2,i)*t}},e}()},95718:(e,t,r)=>{r.d(t,{r:()=>o});var n=r(16142),i=(r(87866),r(13534),r(80949)),o=function(){function e(){}return e.ExpandRGBDTexture=function(e){var t=e._texture;if(t&&e.isRGBD){var r=t.getEngine(),i=r.getCaps(),o=t.isReady,a=!1;i.textureHalfFloatRender&&i.textureHalfFloatLinearFiltering?(a=!0,t.type=2):i.textureFloatRender&&i.textureFloatLinearFiltering&&(a=!0,t.type=1),a&&(t.isReady=!1,t._isRGBD=!1,t.invertY=!1);var s=function(){if(a){var i=new n.D("rgbdDecode","rgbdDecode",null,null,1,null,3,r,!1,void 0,t.type,void 0,null,!1);i.externalTextureSamplerBinding=!0;var o=r.createRenderTargetTexture(t.width,{generateDepthBuffer:!1,generateMipMaps:!1,generateStencilBuffer:!1,samplingMode:t.samplingMode,type:t.type,format:5});i.getEffect().executeWhenCompiled((function(){i.onApply=function(e){e._bindTexture("textureSampler",t),e.setFloat2("scale",1,1)},e.getScene().postProcessManager.directRender([i],o,!0),r.restoreDefaultFramebuffer(),r._releaseTexture(t),i&&i.dispose(),o._swapAndDie(t),t.isReady=!0}))}};o?s():e.onLoadObservable.addOnce(s)}},e.EncodeTextureToRGBD=function(e,t,r){return void 0===r&&(r=0),(0,i.$0)("rgbdEncode",e,t,r,1,5)},e}()},7788:(e,t,r)=>{r.d(t,{f:()=>o,t:()=>i});var n=r(31191),i=function(){function e(t){this.length=0,this.data=new Array(t),this._id=e._GlobalId++}return e.prototype.push=function(e){this.data[this.length++]=e,this.length>this.data.length&&(this.data.length*=2)},e.prototype.forEach=function(e){for(var t=0;t<this.length;t++)e(this.data[t])},e.prototype.sort=function(e){this.data.sort(e)},e.prototype.reset=function(){this.length=0},e.prototype.dispose=function(){this.reset(),this.data&&(this.data.length=0,this.data=[])},e.prototype.concat=function(e){if(0!==e.length){this.length+e.length>this.data.length&&(this.data.length=2*(this.length+e.length));for(var t=0;t<e.length;t++)this.data[this.length++]=(e.data||e)[t]}},e.prototype.indexOf=function(e){var t=this.data.indexOf(e);return t>=this.length?-1:t},e.prototype.contains=function(e){return-1!==this.indexOf(e)},e._GlobalId=0,e}(),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._duplicateId=0,t}return(0,n.ZT)(t,e),t.prototype.push=function(t){e.prototype.push.call(this,t),t.__smartArrayFlags||(t.__smartArrayFlags={}),t.__smartArrayFlags[this._id]=this._duplicateId},t.prototype.pushNoDuplicate=function(e){return(!e.__smartArrayFlags||e.__smartArrayFlags[this._id]!==this._duplicateId)&&(this.push(e),!0)},t.prototype.reset=function(){e.prototype.reset.call(this),this._duplicateId++},t.prototype.concatWithNoDuplicate=function(e){if(0!==e.length){this.length+e.length>this.data.length&&(this.data.length=2*(this.length+e.length));for(var t=0;t<e.length;t++){var r=(e.data||e)[t];this.pushNoDuplicate(r)}}},t}(i)},45008:(e,t,r)=>{r.d(t,{x:()=>n});var n=function(){function e(){this._count=0,this._data={}}return e.prototype.copyFrom=function(e){var t=this;this.clear(),e.forEach((function(e,r){return t.add(e,r)}))},e.prototype.get=function(e){var t=this._data[e];if(void 0!==t)return t},e.prototype.getOrAddWithFactory=function(e,t){var r=this.get(e);return void 0!==r||(r=t(e))&&this.add(e,r),r},e.prototype.getOrAdd=function(e,t){var r=this.get(e);return void 0!==r?r:(this.add(e,t),t)},e.prototype.contains=function(e){return void 0!==this._data[e]},e.prototype.add=function(e,t){return void 0===this._data[e]&&(this._data[e]=t,++this._count,!0)},e.prototype.set=function(e,t){return void 0!==this._data[e]&&(this._data[e]=t,!0)},e.prototype.getAndRemove=function(e){var t=this.get(e);return void 0!==t?(delete this._data[e],--this._count,t):null},e.prototype.remove=function(e){return!!this.contains(e)&&(delete this._data[e],--this._count,!0)},e.prototype.clear=function(){this._data={},this._count=0},Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){for(var t in this._data){e(t,this._data[t])}},e.prototype.first=function(e){for(var t in this._data){var r=e(t,this._data[t]);if(r)return r}return null},e}()},29972:(e,t,r)=>{r.d(t,{Gh:()=>a,HQ:()=>u,Ml:()=>l,Ri:()=>i,fJ:()=>o,gi:()=>n,rP:()=>s,zA:()=>c});var n=function(e,t){return e.endsWith(t)},i=function(e,t){return!!e&&e.startsWith(t)},o=function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",r=0;r<e.byteLength;r++)t+=String.fromCharCode(e[r]);return t},a=function(e){for(var t,r,n,i,o,a,s,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",l=0,h=ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e);l<h.length;)i=(t=h[l++])>>2,o=(3&t)<<4|(r=l<h.length?h[l++]:Number.NaN)>>4,a=(15&r)<<2|(n=l<h.length?h[l++]:Number.NaN)>>6,s=63&n,isNaN(r)?a=s=64:isNaN(n)&&(s=64),c+=u.charAt(i)+u.charAt(o)+u.charAt(a)+u.charAt(s);return c},s=function(e){return atob(e)},u=function(e){for(var t=s(e),r=t.length,n=new Uint8Array(new ArrayBuffer(r)),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n.buffer},c=function(e,t){for(var r=String(e);r.length<t;)r="0"+r;return r},l={EndsWith:n,StartsWith:i,Decode:o,EncodeArrayBufferToBase64:a,DecodeBase64ToString:s,DecodeBase64ToBinary:u,PadNumber:c}},20163:(e,t,r)=>{r.d(t,{$:()=>i});var n=r(26769),i=function(){function e(){}return e.EnableFor=function(t){t._tags=t._tags||{},t.hasTags=function(){return e.HasTags(t)},t.addTags=function(r){return e.AddTagsTo(t,r)},t.removeTags=function(r){return e.RemoveTagsFrom(t,r)},t.matchesTagsQuery=function(r){return e.MatchesQuery(t,r)}},e.DisableFor=function(e){delete e._tags,delete e.hasTags,delete e.addTags,delete e.removeTags,delete e.matchesTagsQuery},e.HasTags=function(e){if(!e._tags)return!1;var t=e._tags;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))return!0;return!1},e.GetTags=function(e,t){if(void 0===t&&(t=!0),!e._tags)return null;if(t){var r=[];for(var n in e._tags)Object.prototype.hasOwnProperty.call(e._tags,n)&&!0===e._tags[n]&&r.push(n);return r.join(" ")}return e._tags},e.AddTagsTo=function(t,r){r&&("string"==typeof r&&r.split(" ").forEach((function(r){e._AddTagTo(t,r)})))},e._AddTagTo=function(t,r){""!==(r=r.trim())&&"true"!==r&&"false"!==r&&(r.match(/[\s]/)||r.match(/^([!]|([|]|[&]){2})/)||(e.EnableFor(t),t._tags[r]=!0))},e.RemoveTagsFrom=function(t,r){if(e.HasTags(t)){var n=r.split(" ");for(var i in n)e._RemoveTagFrom(t,n[i])}},e._RemoveTagFrom=function(e,t){delete e._tags[t]},e.MatchesQuery=function(t,r){return void 0===r||(""===r?e.HasTags(t):n.q.Eval(r,(function(r){return e.HasTags(t)&&t._tags[r]})))},e}()},80949:(e,t,r)=>{r.d(t,{$0:()=>l,Oi:()=>d,ay:()=>h,cW:()=>c,qZ:()=>f});var n,i,o=r(73803),a=r(63784),s=r(89815),u=r(16142);function c(e,t,r,n){void 0===n&&(n=!0);var i=e.getScene(),u=i.getEngine(),c=new a._("resized"+e.name,{width:t,height:r},i,!e.noMipmap,!0,e._texture.type,!1,e.samplingMode,!1);c.wrapU=e.wrapU,c.wrapV=e.wrapV,c.uOffset=e.uOffset,c.vOffset=e.vOffset,c.uScale=e.uScale,c.vScale=e.vScale,c.uAng=e.uAng,c.vAng=e.vAng,c.wAng=e.wAng,c.coordinatesIndex=e.coordinatesIndex,c.level=e.level,c.anisotropicFilteringLevel=e.anisotropicFilteringLevel,c._texture.isReady=!1,e.wrapU=o.x.CLAMP_ADDRESSMODE,e.wrapV=o.x.CLAMP_ADDRESSMODE;var l=new s.Q("pass",1,null,n?o.x.BILINEAR_SAMPLINGMODE:o.x.NEAREST_SAMPLINGMODE,u,!1,0);return l.externalTextureSamplerBinding=!0,l.getEffect().executeWhenCompiled((function(){l.onApply=function(t){t.setTexture("textureSampler",e)};var t=c.renderTarget;t&&(i.postProcessManager.directRender([l],t),u.unBindFramebuffer(t),c.disposeFramebufferObjects(),l.dispose(),c.getInternalTexture().isReady=!0)})),c}function l(e,t,r,n,i,o){var a=t.getEngine();return t.isReady=!1,i=null!=i?i:t.samplingMode,n=null!=n?n:t.type,o=null!=o?o:t.format,-1===n&&(n=0),new Promise((function(s){var c=new u.D("postprocess",e,null,null,1,null,i,a,!1,void 0,n,void 0,null,!1,o);c.externalTextureSamplerBinding=!0;var l=a.createRenderTargetTexture({width:t.width,height:t.height},{generateDepthBuffer:!1,generateMipMaps:!1,generateStencilBuffer:!1,samplingMode:i,type:n,format:o});c.getEffect().executeWhenCompiled((function(){c.onApply=function(e){e._bindTexture("textureSampler",t),e.setFloat2("scale",1,1)},r.postProcessManager.directRender([c],l,!0),a.restoreDefaultFramebuffer(),a._releaseTexture(t),c&&c.dispose(),l._swapAndDie(t),t.type=n,t.format=5,t.isReady=!0,s(t)}))}))}function h(e){n||(n=new Float32Array(1),i=new Int32Array(n.buffer)),n[0]=e;var t=i[0],r=t>>16&32768,o=t>>12&2047,a=t>>23&255;return a<103?r:a>142?(r|=31744,r|=(255==a?0:1)&&8388607&t):a<113?r|=((o|=2048)>>114-a)+(o>>113-a&1):(r|=a-112<<10|o>>1,r+=1&o)}function f(e){var t=(32768&e)>>15,r=(31744&e)>>10,n=1023&e;return 0===r?(t?-1:1)*Math.pow(2,-14)*(n/Math.pow(2,10)):31==r?n?NaN:1/0*(t?-1:1):(t?-1:1)*Math.pow(2,r-15)*(1+n/Math.pow(2,10))}var d={CreateResizedCopy:c,ApplyPostProcess:l,ToHalfFloat:h,FromHalfFloat:f}},76755:(e,t,r)=>{r.d(t,{A6:()=>i,Ab:()=>o,t6:()=>a});var n=r(84318);function i(e){var t=0;return{id_length:e[t++],colormap_type:e[t++],image_type:e[t++],colormap_index:e[t++]|e[t++]<<8,colormap_length:e[t++]|e[t++]<<8,colormap_size:e[t++],origin:[e[t++]|e[t++]<<8,e[t++]|e[t++]<<8],width:e[t++]|e[t++]<<8,height:e[t++]|e[t++]<<8,pixel_size:e[t++],flags:e[t++]}}function o(e,t){if(t.length<19)n.Y.Error("Unable to load TGA file - Not enough data to contain header");else{var r=18,o=i(t);if(o.id_length+r>t.length)n.Y.Error("Unable to load TGA file - Not enough data");else{r+=o.id_length;var s,u=!1,c=!1,l=!1;switch(o.image_type){case 9:u=!0;case 1:c=!0;break;case 10:u=!0;case 2:break;case 11:u=!0;case 3:l=!0}var h,f,d,p,g,v,m,y=o.pixel_size>>3,_=o.width*o.height*y;if(c&&(h=t.subarray(r,r+=o.colormap_length*(o.colormap_size>>3))),u){s=new Uint8Array(_);for(var b=void 0,A=void 0,w=void 0,C=0,P=new Uint8Array(y);r<_&&C<_;)if(A=1+(127&(b=t[r++])),128&b){for(w=0;w<y;++w)P[w]=t[r++];for(w=0;w<A;++w)s.set(P,C+w*y);C+=y*A}else{for(A*=y,w=0;w<A;++w)s[C+w]=t[r++];C+=A}}else s=t.subarray(r,r+=c?o.width*o.height:_);switch((48&o.flags)>>4){default:case 2:f=0,p=1,m=o.width,d=0,g=1,v=o.height;break;case 0:f=0,p=1,m=o.width,d=o.height-1,g=-1,v=-1;break;case 3:f=o.width-1,p=-1,m=-1,d=0,g=1,v=o.height;break;case 1:f=o.width-1,p=-1,m=-1,d=o.height-1,g=-1,v=-1}var T="_getImageData"+(l?"Grey":"")+o.pixel_size+"bits",x=a[T](o,h,s,d,g,v,f,p,m);e.getEngine()._uploadDataToTextureDirectly(e,x)}}}var a={GetTGAHeader:i,UploadContent:o,_getImageData8bits:function(e,t,r,n,i,o,a,s,u){var c,l,h,f=r,d=t,p=e.width,g=e.height,v=0,m=new Uint8Array(p*g*4);for(h=n;h!==o;h+=i)for(l=a;l!==u;l+=s,v++)c=f[v],m[4*(l+p*h)+3]=255,m[4*(l+p*h)+2]=d[3*c+0],m[4*(l+p*h)+1]=d[3*c+1],m[4*(l+p*h)+0]=d[3*c+2];return m},_getImageData16bits:function(e,t,r,n,i,o,a,s,u){var c,l,h,f=r,d=e.width,p=e.height,g=0,v=new Uint8Array(d*p*4);for(h=n;h!==o;h+=i)for(l=a;l!==u;l+=s,g+=2){var m=255*((31744&(c=f[g+0]+(f[g+1]<<8)))>>10)/31|0,y=255*((992&c)>>5)/31|0,_=255*(31&c)/31|0;v[4*(l+d*h)+0]=m,v[4*(l+d*h)+1]=y,v[4*(l+d*h)+2]=_,v[4*(l+d*h)+3]=32768&c?0:255}return v},_getImageData24bits:function(e,t,r,n,i,o,a,s,u){var c,l,h=r,f=e.width,d=e.height,p=0,g=new Uint8Array(f*d*4);for(l=n;l!==o;l+=i)for(c=a;c!==u;c+=s,p+=3)g[4*(c+f*l)+3]=255,g[4*(c+f*l)+2]=h[p+0],g[4*(c+f*l)+1]=h[p+1],g[4*(c+f*l)+0]=h[p+2];return g},_getImageData32bits:function(e,t,r,n,i,o,a,s,u){var c,l,h=r,f=e.width,d=e.height,p=0,g=new Uint8Array(f*d*4);for(l=n;l!==o;l+=i)for(c=a;c!==u;c+=s,p+=4)g[4*(c+f*l)+2]=h[p+0],g[4*(c+f*l)+1]=h[p+1],g[4*(c+f*l)+0]=h[p+2],g[4*(c+f*l)+3]=h[p+3];return g},_getImageDataGrey8bits:function(e,t,r,n,i,o,a,s,u){var c,l,h,f=r,d=e.width,p=e.height,g=0,v=new Uint8Array(d*p*4);for(h=n;h!==o;h+=i)for(l=a;l!==u;l+=s,g++)c=f[g],v[4*(l+d*h)+0]=c,v[4*(l+d*h)+1]=c,v[4*(l+d*h)+2]=c,v[4*(l+d*h)+3]=255;return v},_getImageDataGrey16bits:function(e,t,r,n,i,o,a,s,u){var c,l,h=r,f=e.width,d=e.height,p=0,g=new Uint8Array(f*d*4);for(l=n;l!==o;l+=i)for(c=a;c!==u;c+=s,p+=2)g[4*(c+f*l)+0]=h[p+0],g[4*(c+f*l)+1]=h[p+0],g[4*(c+f*l)+2]=h[p+0],g[4*(c+f*l)+3]=h[p+1];return g}}},16433:(e,t,r)=>{r.d(t,{g_:()=>o,vs:()=>n,xb:()=>a});var n,i=r(62897);function o(e){var t,r=0,n=Date.now();e.observableParameters=null!==(t=e.observableParameters)&&void 0!==t?t:{};var i=e.contextObservable.add((function(t){var o=Date.now(),a={startTime:n,currentTime:o,deltaTime:r=o-n,completeRate:r/e.timeout,payload:t};e.onTick&&e.onTick(a),e.breakCondition&&e.breakCondition()&&(e.contextObservable.remove(i),e.onAborted&&e.onAborted(a)),r>=e.timeout&&(e.contextObservable.remove(i),e.onEnded&&e.onEnded(a))}),e.observableParameters.mask,e.observableParameters.insertFirst,e.observableParameters.scope);return i}!function(e){e[e.INIT=0]="INIT",e[e.STARTED=1]="STARTED",e[e.ENDED=2]="ENDED"}(n||(n={}));var a=function(){function e(e){var t,r,o=this;this.onEachCountObservable=new i.y$,this.onTimerAbortedObservable=new i.y$,this.onTimerEndedObservable=new i.y$,this.onStateChangedObservable=new i.y$,this._observer=null,this._breakOnNextTick=!1,this._tick=function(e){var t=Date.now();o._timer=t-o._startTime;var r={startTime:o._startTime,currentTime:t,deltaTime:o._timer,completeRate:o._timer/o._timeToEnd,payload:e},n=o._breakOnNextTick||o._breakCondition(r);n||o._timer>=o._timeToEnd?o._stop(r,n):o.onEachCountObservable.notifyObservers(r)},this._setState(n.INIT),this._contextObservable=e.contextObservable,this._observableParameters=null!==(t=e.observableParameters)&&void 0!==t?t:{},this._breakCondition=null!==(r=e.breakCondition)&&void 0!==r?r:function(){return!1},this._timeToEnd=e.timeout,e.onEnded&&this.onTimerEndedObservable.add(e.onEnded),e.onTick&&this.onEachCountObservable.add(e.onTick),e.onAborted&&this.onTimerAbortedObservable.add(e.onAborted)}return Object.defineProperty(e.prototype,"breakCondition",{set:function(e){this._breakCondition=e},enumerable:!1,configurable:!0}),e.prototype.clearObservables=function(){this.onEachCountObservable.clear(),this.onTimerAbortedObservable.clear(),this.onTimerEndedObservable.clear(),this.onStateChangedObservable.clear()},e.prototype.start=function(e){if(void 0===e&&(e=this._timeToEnd),this._state===n.STARTED)throw new Error("Timer already started. Please stop it before starting again");this._timeToEnd=e,this._startTime=Date.now(),this._timer=0,this._observer=this._contextObservable.add(this._tick,this._observableParameters.mask,this._observableParameters.insertFirst,this._observableParameters.scope),this._setState(n.STARTED)},e.prototype.stop=function(){this._state===n.STARTED&&(this._breakOnNextTick=!0)},e.prototype.dispose=function(){this._observer&&this._contextObservable.remove(this._observer),this.clearObservables()},e.prototype._setState=function(e){this._state=e,this.onStateChangedObservable.notifyObservers(this._state)},e.prototype._stop=function(e,t){void 0===t&&(t=!1),this._contextObservable.remove(this._observer),this._setState(n.ENDED),t?this.onTimerAbortedObservable.notifyObservers(e):this.onTimerEndedObservable.notifyObservers(e)},e}()},44335:(e,t,r)=>{r.d(t,{Q:()=>i});var n=r(80352),i=function(){function e(){}return e.SetImmediate=function(e){(0,n.CG)()&&window.setImmediate?window.setImmediate(e):setTimeout(e,1)},e}()},13514:(e,t,r)=>{r.d(t,{$g:()=>y,ok:()=>m,w1:()=>v});var n=r(31191),i=r(62897),o=r(80352),a=r(84318),s=r(1101),u=r(29945),c=r(77851),l=r(51912),h=r(15210),f=r(79245),d=r(44335),p=r(35890),g=r(54007),v=function(){function e(){}return Object.defineProperty(e,"BaseUrl",{get:function(){return f.rN.BaseUrl},set:function(e){f.rN.BaseUrl=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DefaultRetryStrategy",{get:function(){return f.rN.DefaultRetryStrategy},set:function(e){f.rN.DefaultRetryStrategy=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CorsBehavior",{get:function(){return f.rN.CorsBehavior},set:function(e){f.rN.CorsBehavior=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UseFallbackTexture",{get:function(){return h.l.UseFallbackTexture},set:function(e){h.l.UseFallbackTexture=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"RegisteredExternalClasses",{get:function(){return p.K.RegisteredExternalClasses},set:function(e){p.K.RegisteredExternalClasses=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"fallbackTexture",{get:function(){return h.l.FallbackTexture},set:function(e){h.l.FallbackTexture=e},enumerable:!1,configurable:!0}),e.FetchToRef=function(e,t,r,n,i,o){var a=4*((Math.abs(e)*r%r|0)+(Math.abs(t)*n%n|0)*r);o.r=i[a]/255,o.g=i[a+1]/255,o.b=i[a+2]/255,o.a=i[a+3]/255},e.Mix=function(e,t,r){return e*(1-r)+t*r},e.Instantiate=function(e){return p.K.Instantiate(e)},e.SetImmediate=function(e){d.Q.SetImmediate(e)},e.IsExponentOfTwo=function(e){var t=1;do{t*=2}while(t<e);return t===e},e.FloatRound=function(t){return Math.fround?Math.fround(t):(e._TmpFloatArray[0]=t,e._TmpFloatArray[0])},e.GetFilename=function(e){var t=e.lastIndexOf("/");return t<0?e:e.substring(t+1)},e.GetFolderPath=function(e,t){void 0===t&&(t=!1);var r=e.lastIndexOf("/");return r<0?t?e:"":e.substring(0,r+1)},e.ToDegrees=function(e){return 180*e/Math.PI},e.ToRadians=function(e){return e*Math.PI/180},e.MakeArray=function(e,t){return!0===t||void 0!==e&&null!=e?Array.isArray(e)?e:[e]:null},e.GetPointerPrefix=function(e){var t="pointer";return(0,o.CG)()&&!window.PointerEvent&&(t="mouse"),!e._badDesktopOS||e._badOS||document&&"ontouchend"in document||(t="mouse"),t},e.SetCorsBehavior=function(e,t){(0,f.$M)(e,t)},e.CleanUrl=function(e){return e=e.replace(/#/gm,"%23")},Object.defineProperty(e,"PreprocessUrl",{get:function(){return f.rN.PreprocessUrl},set:function(e){f.rN.PreprocessUrl=e},enumerable:!1,configurable:!0}),e.LoadImage=function(e,t,r,n,i,o){return(0,f.r6)(e,t,r,n,i,o)},e.LoadFile=function(e,t,r,n,i,o){return(0,f.vP)(e,t,r,n,i,o)},e.LoadFileAsync=function(e,t){return void 0===t&&(t=!0),new Promise((function(r,n){(0,f.vP)(e,(function(e){r(e)}),void 0,void 0,t,(function(e,t){n(t)}))}))},e.LoadScript=function(e,t,r,n){if((0,o.CG)()){var i=document.getElementsByTagName("head")[0],a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("src",e),n&&(a.id=n),a.onload=function(){t&&t()},a.onerror=function(t){r&&r("Unable to load script '".concat(e,"'"),t)},i.appendChild(a)}},e.LoadScriptAsync=function(e){var t=this;return new Promise((function(r,n){t.LoadScript(e,(function(){r()}),(function(e,t){n(t)}))}))},e.ReadFileAsDataURL=function(e,t,r){var n=new FileReader,o={onCompleteObservable:new i.y$,abort:function(){return n.abort()}};return n.onloadend=function(){o.onCompleteObservable.notifyObservers(o)},n.onload=function(e){t(e.target.result)},n.onprogress=r,n.readAsDataURL(e),o},e.ReadFile=function(e,t,r,n,i){return(0,f.Ip)(e,t,r,n,i)},e.FileAsURL=function(e){var t=new Blob([e]);return(window.URL||window.webkitURL).createObjectURL(t)},e.Format=function(e,t){return void 0===t&&(t=2),e.toFixed(t)},e.DeepCopy=function(e,t,r,n){s.j.DeepCopy(e,t,r,n)},e.IsEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},e.RegisterTopRootEvents=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.addEventListener(n.name,n.handler,!1);try{window.parent&&window.parent.addEventListener(n.name,n.handler,!1)}catch(e){}}},e.UnregisterTopRootEvents=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.removeEventListener(n.name,n.handler);try{e.parent&&e.parent.removeEventListener(n.name,n.handler)}catch(e){}}},e.DumpFramebuffer=function(t,r,i,o,a,s){return void 0===a&&(a="image/png"),(0,n.mG)(this,void 0,void 0,(function(){var u,c;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return[4,i.readPixels(0,0,t,r)];case 1:return u=n.sent(),c=new Uint8Array(u.buffer),e.DumpData(t,r,c,o,a,s,!0),[2]}}))}))},e.DumpData=function(t,r,n,i,o,a,s,u,c){void 0===o&&(o="image/png"),void 0===s&&(s=!1),void 0===u&&(u=!1),e._ScreenshotCanvas||(e._ScreenshotCanvas=document.createElement("canvas")),e._ScreenshotCanvas.width=t,e._ScreenshotCanvas.height=r;var l=e._ScreenshotCanvas.getContext("2d");if(l){if(n instanceof Float32Array){for(var h=new Uint8Array(n.length),f=n.length;f--;){var d=n[f];h[f]=d<0?0:d>1?1:Math.round(255*d)}n=h}var p=l.createImageData(t,r);p.data.set(n),l.putImageData(p,0,0);var g=e._ScreenshotCanvas;if(s){var v=document.createElement("canvas");v.width=t,v.height=r;var m=v.getContext("2d");if(!m)return;m.translate(0,r),m.scale(1,-1),m.drawImage(e._ScreenshotCanvas,0,0),g=v}u?e.ToBlob(g,(function(e){var t=new FileReader;t.onload=function(e){var t=e.target.result;i&&i(t)},t.readAsArrayBuffer(e)}),o,c):e.EncodeScreenshotCanvasData(i,o,a,g,c)}},e.DumpDataAsync=function(t,r,n,i,o,a,s,u){return void 0===i&&(i="image/png"),void 0===a&&(a=!1),void 0===s&&(s=!1),new Promise((function(c){e.DumpData(t,r,n,(function(e){return c(e)}),i,o,a,s,u)}))},e.ToBlob=function(e,t,r,n){void 0===r&&(r="image/png"),e.toBlob||(e.toBlob=function(e,t,r){var n=this;setTimeout((function(){for(var i=atob(n.toDataURL(t,r).split(",")[1]),o=i.length,a=new Uint8Array(o),s=0;s<o;s++)a[s]=i.charCodeAt(s);e(new Blob([a]))}))}),e.toBlob((function(e){t(e)}),r,n)},e.EncodeScreenshotCanvasData=function(t,r,n,i,o){(void 0===r&&(r="image/png"),t)?t((null!=i?i:e._ScreenshotCanvas).toDataURL(r,o)):this.ToBlob(null!=i?i:e._ScreenshotCanvas,(function(t){if("download"in document.createElement("a")){if(!n){var r=new Date,i=(r.getFullYear()+"-"+(r.getMonth()+1)).slice(2)+"-"+r.getDate()+"_"+r.getHours()+"-"+("0"+r.getMinutes()).slice(-2);n="screenshot_"+i+".png"}e.Download(t,n)}else if(t){var o=URL.createObjectURL(t),a=window.open("");if(!a)return;var s=a.document.createElement("img");s.onload=function(){URL.revokeObjectURL(o)},s.src=o,a.document.body.appendChild(s)}}),r,o)},e.Download=function(e,t){if(navigator&&navigator.msSaveBlob)navigator.msSaveBlob(e,t);else{var r=window.URL.createObjectURL(e),n=document.createElement("a");document.body.appendChild(n),n.style.display="none",n.href=r,n.download=t,n.addEventListener("click",(function(){n.parentElement&&n.parentElement.removeChild(n)})),n.click(),window.URL.revokeObjectURL(r)}},e.BackCompatCameraNoPreventDefault=function(e){return"boolean"==typeof e[0]?e[0]:"boolean"==typeof e[1]&&e[1]},e.CreateScreenshot=function(e,t,r,n,i){throw void 0===i&&(i="image/png"),(0,c.S)("ScreenshotTools")},e.CreateScreenshotAsync=function(e,t,r,n){throw void 0===n&&(n="image/png"),(0,c.S)("ScreenshotTools")},e.CreateScreenshotUsingRenderTarget=function(e,t,r,n,i,o,a,s){throw void 0===i&&(i="image/png"),void 0===o&&(o=1),void 0===a&&(a=!1),(0,c.S)("ScreenshotTools")},e.CreateScreenshotUsingRenderTargetAsync=function(e,t,r,n,i,o,a){throw void 0===n&&(n="image/png"),void 0===i&&(i=1),void 0===o&&(o=!1),(0,c.S)("ScreenshotTools")},e.RandomId=function(){return(0,g.f)()},e.IsBase64=function(e){return(0,f.VL)(e)},e.DecodeBase64=function(e){return(0,f.$K)(e)},Object.defineProperty(e,"errorsCount",{get:function(){return a.Y.errorsCount},enumerable:!1,configurable:!0}),e.Log=function(e){a.Y.Log(e)},e.Warn=function(e){a.Y.Warn(e)},e.Error=function(e){a.Y.Error(e)},Object.defineProperty(e,"LogCache",{get:function(){return a.Y.LogCache},enumerable:!1,configurable:!0}),e.ClearLogCache=function(){a.Y.ClearLogCache()},Object.defineProperty(e,"LogLevels",{set:function(e){a.Y.LogLevels=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"PerformanceLogLevel",{set:function(t){return(t&e.PerformanceUserMarkLogLevel)===e.PerformanceUserMarkLogLevel?(e.StartPerformanceCounter=e._StartUserMark,void(e.EndPerformanceCounter=e._EndUserMark)):(t&e.PerformanceConsoleLogLevel)===e.PerformanceConsoleLogLevel?(e.StartPerformanceCounter=e._StartPerformanceConsole,void(e.EndPerformanceCounter=e._EndPerformanceConsole)):(e.StartPerformanceCounter=e._StartPerformanceCounterDisabled,void(e.EndPerformanceCounter=e._EndPerformanceCounterDisabled))},enumerable:!1,configurable:!0}),e._StartPerformanceCounterDisabled=function(e,t){},e._EndPerformanceCounterDisabled=function(e,t){},e._StartUserMark=function(t,r){if(void 0===r&&(r=!0),!e._Performance){if(!(0,o.CG)())return;e._Performance=window.performance}r&&e._Performance.mark&&e._Performance.mark(t+"-Begin")},e._EndUserMark=function(t,r){void 0===r&&(r=!0),r&&e._Performance.mark&&(e._Performance.mark(t+"-End"),e._Performance.measure(t,t+"-Begin",t+"-End"))},e._StartPerformanceConsole=function(t,r){void 0===r&&(r=!0),r&&(e._StartUserMark(t,r),console.time)},e._EndPerformanceConsole=function(t,r){void 0===r&&(r=!0),r&&e._EndUserMark(t,r)},Object.defineProperty(e,"Now",{get:function(){return u.F.Now},enumerable:!1,configurable:!0}),e.GetClassName=function(e,t){void 0===t&&(t=!1);var r=null;if(!t&&e.getClassName)r=e.getClassName();else{if(e instanceof Object)r=(t?e:Object.getPrototypeOf(e)).constructor.__bjsclassName__;r||(r=typeof e)}return r},e.First=function(e,t){for(var r=0,n=e;r<n.length;r++){var i=n[r];if(t(i))return i}return null},e.getFullClassName=function(e,t){void 0===t&&(t=!1);var r=null,n=null;if(!t&&e.getClassName)r=e.getClassName();else{if(e instanceof Object){var i=t?e:Object.getPrototypeOf(e);r=i.constructor.__bjsclassName__,n=i.constructor.__bjsmoduleName__}r||(r=typeof e)}return r?(null!=n?n+".":"")+r:null},e.DelayAsync=function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},e.IsSafari=function(){return!!(0,o.up)()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},e.UseCustomRequestHeaders=!1,e.CustomRequestHeaders=l.g.CustomRequestHeaders,e._TmpFloatArray=new Float32Array(1),e.GetDOMTextContent=o.v,e.GetAbsoluteUrl="object"==typeof document?function(e){var t=document.createElement("a");return t.href=e,t.href}:"function"==typeof URL&&"object"==typeof location?function(e){return new URL(e,location.origin).href}:function(){throw new Error("Unable to get absolute URL. Override BABYLON.Tools.GetAbsoluteUrl to a custom implementation for the current context.")},e.NoneLogLevel=a.Y.NoneLogLevel,e.MessageLogLevel=a.Y.MessageLogLevel,e.WarningLogLevel=a.Y.WarningLogLevel,e.ErrorLogLevel=a.Y.ErrorLogLevel,e.AllLogLevel=a.Y.AllLogLevel,e.IsWindowObjectExist=o.CG,e.PerformanceNoneLogLevel=0,e.PerformanceUserMarkLogLevel=1,e.PerformanceConsoleLogLevel=2,e.StartPerformanceCounter=e._StartPerformanceCounterDisabled,e.EndPerformanceCounter=e._EndPerformanceCounterDisabled,e}();function m(e,t){return function(r){r.__bjsclassName__=e,r.__bjsmoduleName__=null!=t?t:null}}var y=function(){function e(e,t,r,n){void 0===n&&(n=0),this.iterations=e,this.index=n-1,this._done=!1,this._fn=t,this._successCallback=r}return e.prototype.executeNext=function(){this._done||(this.index+1<this.iterations?(++this.index,this._fn(this)):this.breakLoop())},e.prototype.breakLoop=function(){this._done=!0,this._successCallback()},e.Run=function(t,r,n,i){void 0===i&&(i=0);var o=new e(t,r,n,i);return o.executeNext(),o},e.SyncAsyncForLoop=function(t,r,n,i,o,a){return void 0===a&&(a=0),e.Run(Math.ceil(t/r),(function(e){o&&o()?e.breakLoop():setTimeout((function(){for(var i=0;i<r;++i){var a=e.index*r+i;if(a>=t)break;if(n(a),o&&o()){e.breakLoop();break}}e.executeNext()}),a)}),i)},e}();h.l.FallbackTexture="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBmRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAAQAAAATgAAAAAAAABgAAAAAQAAAGAAAAABcGFpbnQubmV0IDQuMC41AP/bAEMABAIDAwMCBAMDAwQEBAQFCQYFBQUFCwgIBgkNCw0NDQsMDA4QFBEODxMPDAwSGBITFRYXFxcOERkbGRYaFBYXFv/bAEMBBAQEBQUFCgYGChYPDA8WFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFv/AABEIAQABAAMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APH6KKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76P//Z"},48620:(e,t,r)=>{r.d(t,{H:()=>i,q:()=>o});var n={};function i(e,t){n[e]=t}function o(e){return n[e]}},46310:(e,t,r)=>{r.d(t,{K:()=>n});var n=function(){function e(){}return Object.defineProperty(e,"UniqueId",{get:function(){var e=this._UniqueIdCounter;return this._UniqueIdCounter++,e},enumerable:!1,configurable:!0}),e._UniqueIdCounter=1,e}()},59711:(e,t,r)=>{r.d(t,{N:()=>s,h:()=>n});var n,i=r(31191),o=r(58095),a=r(45008);!function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"}(n||(n={}));var s=function(){function e(t,r){var s=this,u=(0,i.pi)((0,i.pi)({},e._GetDefaultOptions()),r);if(this._leftJoystick=!!t,e._GlobalJoystickIndex++,this._axisTargetedByLeftAndRight=n.X,this._axisTargetedByUpAndDown=n.Y,this.reverseLeftRight=!1,this.reverseUpDown=!1,this._touches=new a.x,this.deltaPosition=o.P.Zero(),this._joystickSensibility=25,this._inversedSensibility=1/(this._joystickSensibility/1e3),this._onResize=function(){e._VJCanvasWidth=window.innerWidth,e._VJCanvasHeight=window.innerHeight,e.Canvas&&(e.Canvas.width=e._VJCanvasWidth,e.Canvas.height=e._VJCanvasHeight),e._HalfWidth=e._VJCanvasWidth/2},!e.Canvas){window.addEventListener("resize",this._onResize,!1),e.Canvas=document.createElement("canvas"),e._VJCanvasWidth=window.innerWidth,e._VJCanvasHeight=window.innerHeight,e.Canvas.width=window.innerWidth,e.Canvas.height=window.innerHeight,e.Canvas.style.width="100%",e.Canvas.style.height="100%",e.Canvas.style.position="absolute",e.Canvas.style.backgroundColor="transparent",e.Canvas.style.top="0px",e.Canvas.style.left="0px",e.Canvas.style.zIndex="5",e.Canvas.style.msTouchAction="none",e.Canvas.style.touchAction="none",e.Canvas.setAttribute("touch-action","none");var c=e.Canvas.getContext("2d");if(!c)throw new Error("Unable to create canvas for virtual joystick");e._VJCanvasContext=c,e._VJCanvasContext.strokeStyle="#ffffff",e._VJCanvasContext.lineWidth=2,document.body.appendChild(e.Canvas)}e._HalfWidth=e.Canvas.width/2,this.pressed=!1,this.limitToContainer=u.limitToContainer,this._joystickColor=u.color,this.containerSize=u.containerSize,this.puckSize=u.puckSize,u.position&&this.setPosition(u.position.x,u.position.y),u.puckImage&&this.setPuckImage(u.puckImage),u.containerImage&&this.setContainerImage(u.containerImage),u.alwaysVisible&&e._AlwaysVisibleSticks++,this.alwaysVisible=u.alwaysVisible,this._joystickPointerId=-1,this._joystickPointerPos=new o.FM(0,0),this._joystickPreviousPointerPos=new o.FM(0,0),this._joystickPointerStartPos=new o.FM(0,0),this._deltaJoystickVector=new o.FM(0,0),this._onPointerDownHandlerRef=function(e){s._onPointerDown(e)},this._onPointerMoveHandlerRef=function(e){s._onPointerMove(e)},this._onPointerUpHandlerRef=function(e){s._onPointerUp(e)},e.Canvas.addEventListener("pointerdown",this._onPointerDownHandlerRef,!1),e.Canvas.addEventListener("pointermove",this._onPointerMoveHandlerRef,!1),e.Canvas.addEventListener("pointerup",this._onPointerUpHandlerRef,!1),e.Canvas.addEventListener("pointerout",this._onPointerUpHandlerRef,!1),e.Canvas.addEventListener("contextmenu",(function(e){e.preventDefault()}),!1),requestAnimationFrame((function(){s._drawVirtualJoystick()}))}return e._GetDefaultOptions=function(){return{puckSize:40,containerSize:60,color:"cyan",puckImage:void 0,containerImage:void 0,position:void 0,alwaysVisible:!1,limitToContainer:!1}},e.prototype.setJoystickSensibility=function(e){this._joystickSensibility=e,this._inversedSensibility=1/(this._joystickSensibility/1e3)},e.prototype._onPointerDown=function(t){t.preventDefault(),(!0===this._leftJoystick?t.clientX<e._HalfWidth:t.clientX>e._HalfWidth)&&this._joystickPointerId<0?(this._joystickPointerId=t.pointerId,this._joystickPosition?(this._joystickPointerStartPos=this._joystickPosition.clone(),this._joystickPointerPos=this._joystickPosition.clone(),this._joystickPreviousPointerPos=this._joystickPosition.clone(),this._onPointerMove(t)):(this._joystickPointerStartPos.x=t.clientX,this._joystickPointerStartPos.y=t.clientY,this._joystickPointerPos=this._joystickPointerStartPos.clone(),this._joystickPreviousPointerPos=this._joystickPointerStartPos.clone()),this._deltaJoystickVector.x=0,this._deltaJoystickVector.y=0,this.pressed=!0,this._touches.add(t.pointerId.toString(),t)):e._GlobalJoystickIndex<2&&this._action&&(this._action(),this._touches.add(t.pointerId.toString(),{x:t.clientX,y:t.clientY,prevX:t.clientX,prevY:t.clientY}))},e.prototype._onPointerMove=function(t){if(this._joystickPointerId==t.pointerId){if(this.limitToContainer){var r=new o.FM(t.clientX-this._joystickPointerStartPos.x,t.clientY-this._joystickPointerStartPos.y),i=r.length();i>this.containerSize&&r.scaleInPlace(this.containerSize/i),this._joystickPointerPos.x=this._joystickPointerStartPos.x+r.x,this._joystickPointerPos.y=this._joystickPointerStartPos.y+r.y}else this._joystickPointerPos.x=t.clientX,this._joystickPointerPos.y=t.clientY;this._deltaJoystickVector=this._joystickPointerPos.clone(),this._deltaJoystickVector=this._deltaJoystickVector.subtract(this._joystickPointerStartPos),0<e._AlwaysVisibleSticks&&(this._leftJoystick?this._joystickPointerPos.x=Math.min(e._HalfWidth,this._joystickPointerPos.x):this._joystickPointerPos.x=Math.max(e._HalfWidth,this._joystickPointerPos.x));var a=(this.reverseLeftRight?-1:1)*this._deltaJoystickVector.x/this._inversedSensibility;switch(this._axisTargetedByLeftAndRight){case n.X:this.deltaPosition.x=Math.min(1,Math.max(-1,a));break;case n.Y:this.deltaPosition.y=Math.min(1,Math.max(-1,a));break;case n.Z:this.deltaPosition.z=Math.min(1,Math.max(-1,a))}var s=(this.reverseUpDown?1:-1)*this._deltaJoystickVector.y/this._inversedSensibility;switch(this._axisTargetedByUpAndDown){case n.X:this.deltaPosition.x=Math.min(1,Math.max(-1,s));break;case n.Y:this.deltaPosition.y=Math.min(1,Math.max(-1,s));break;case n.Z:this.deltaPosition.z=Math.min(1,Math.max(-1,s))}}else{var u=this._touches.get(t.pointerId.toString());u&&(u.x=t.clientX,u.y=t.clientY)}},e.prototype._onPointerUp=function(t){if(this._joystickPointerId==t.pointerId)this._clearPreviousDraw(),this._joystickPointerId=-1,this.pressed=!1;else{var r=this._touches.get(t.pointerId.toString());r&&e._VJCanvasContext.clearRect(r.prevX-44,r.prevY-44,88,88)}this._deltaJoystickVector.x=0,this._deltaJoystickVector.y=0,this._touches.remove(t.pointerId.toString())},e.prototype.setJoystickColor=function(e){this._joystickColor=e},Object.defineProperty(e.prototype,"containerSize",{get:function(){return this._joystickContainerSize},set:function(e){this._joystickContainerSize=e,this._clearContainerSize=~~(2.1*this._joystickContainerSize),this._clearContainerSizeOffset=~~(this._clearContainerSize/2)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"puckSize",{get:function(){return this._joystickPuckSize},set:function(e){this._joystickPuckSize=e,this._clearPuckSize=~~(2.1*this._joystickPuckSize),this._clearPuckSizeOffset=~~(this._clearPuckSize/2)},enumerable:!1,configurable:!0}),e.prototype.clearPosition=function(){this.alwaysVisible=!1,this._joystickPosition=null},Object.defineProperty(e.prototype,"alwaysVisible",{get:function(){return this._alwaysVisible},set:function(t){this._alwaysVisible!==t&&(t&&this._joystickPosition?(e._AlwaysVisibleSticks++,this._alwaysVisible=!0):(e._AlwaysVisibleSticks--,this._alwaysVisible=!1))},enumerable:!1,configurable:!0}),e.prototype.setPosition=function(e,t){this._joystickPointerStartPos&&this._clearPreviousDraw(),this._joystickPosition=new o.FM(e,t)},e.prototype.setActionOnTouch=function(e){this._action=e},e.prototype.setAxisForLeftRight=function(e){switch(e){case n.X:case n.Y:case n.Z:this._axisTargetedByLeftAndRight=e;break;default:this._axisTargetedByLeftAndRight=n.X}},e.prototype.setAxisForUpDown=function(e){switch(e){case n.X:case n.Y:case n.Z:this._axisTargetedByUpAndDown=e;break;default:this._axisTargetedByUpAndDown=n.Y}},e.prototype._clearPreviousDraw=function(){var t=this._joystickPosition||this._joystickPointerStartPos;e._VJCanvasContext.clearRect(t.x-this._clearContainerSizeOffset,t.y-this._clearContainerSizeOffset,this._clearContainerSize,this._clearContainerSize),e._VJCanvasContext.clearRect(this._joystickPreviousPointerPos.x-this._clearPuckSizeOffset,this._joystickPreviousPointerPos.y-this._clearPuckSizeOffset,this._clearPuckSize,this._clearPuckSize)},e.prototype.setContainerImage=function(e){var t=this,r=new Image;r.src=e,r.onload=function(){return t._containerImage=r}},e.prototype.setPuckImage=function(e){var t=this,r=new Image;r.src=e,r.onload=function(){return t._puckImage=r}},e.prototype._drawContainer=function(){var t=this._joystickPosition||this._joystickPointerStartPos;this._clearPreviousDraw(),this._containerImage?e._VJCanvasContext.drawImage(this._containerImage,t.x-this.containerSize,t.y-this.containerSize,2*this.containerSize,2*this.containerSize):(e._VJCanvasContext.beginPath(),e._VJCanvasContext.strokeStyle=this._joystickColor,e._VJCanvasContext.lineWidth=2,e._VJCanvasContext.arc(t.x,t.y,this.containerSize,0,2*Math.PI,!0),e._VJCanvasContext.stroke(),e._VJCanvasContext.closePath(),e._VJCanvasContext.beginPath(),e._VJCanvasContext.lineWidth=6,e._VJCanvasContext.strokeStyle=this._joystickColor,e._VJCanvasContext.arc(t.x,t.y,this.puckSize,0,2*Math.PI,!0),e._VJCanvasContext.stroke(),e._VJCanvasContext.closePath())},e.prototype._drawPuck=function(){this._puckImage?e._VJCanvasContext.drawImage(this._puckImage,this._joystickPointerPos.x-this.puckSize,this._joystickPointerPos.y-this.puckSize,2*this.puckSize,2*this.puckSize):(e._VJCanvasContext.beginPath(),e._VJCanvasContext.strokeStyle=this._joystickColor,e._VJCanvasContext.lineWidth=2,e._VJCanvasContext.arc(this._joystickPointerPos.x,this._joystickPointerPos.y,this.puckSize,0,2*Math.PI,!0),e._VJCanvasContext.stroke(),e._VJCanvasContext.closePath())},e.prototype._drawVirtualJoystick=function(){var t=this;this.alwaysVisible&&this._drawContainer(),this.pressed&&this._touches.forEach((function(r,n){n.pointerId===t._joystickPointerId?(t.alwaysVisible||t._drawContainer(),t._drawPuck(),t._joystickPreviousPointerPos=t._joystickPointerPos.clone()):(e._VJCanvasContext.clearRect(n.prevX-44,n.prevY-44,88,88),e._VJCanvasContext.beginPath(),e._VJCanvasContext.fillStyle="white",e._VJCanvasContext.beginPath(),e._VJCanvasContext.strokeStyle="red",e._VJCanvasContext.lineWidth=6,e._VJCanvasContext.arc(n.x,n.y,40,0,2*Math.PI,!0),e._VJCanvasContext.stroke(),e._VJCanvasContext.closePath(),n.prevX=n.x,n.prevY=n.y)})),requestAnimationFrame((function(){t._drawVirtualJoystick()}))},e.prototype.releaseCanvas=function(){e.Canvas&&(e.Canvas.removeEventListener("pointerdown",this._onPointerDownHandlerRef),e.Canvas.removeEventListener("pointermove",this._onPointerMoveHandlerRef),e.Canvas.removeEventListener("pointerup",this._onPointerUpHandlerRef),e.Canvas.removeEventListener("pointerout",this._onPointerUpHandlerRef),window.removeEventListener("resize",this._onResize),document.body.removeChild(e.Canvas),e.Canvas=null)},e._GlobalJoystickIndex=0,e._AlwaysVisibleSticks=0,e}()},51912:(e,t,r)=>{r.d(t,{g:()=>n});var n=function(){function e(){this._xhr="undefined"!=typeof _native&&_native.XMLHttpRequest?new _native.XMLHttpRequest:new XMLHttpRequest,this._requestURL=""}return e.prototype._injectCustomRequestHeaders=function(){if(!this._shouldSkipRequestModifications(this._requestURL))for(var t in e.CustomRequestHeaders){var r=e.CustomRequestHeaders[t];r&&this._xhr.setRequestHeader(t,r)}},e.prototype._shouldSkipRequestModifications=function(t){return e.SkipRequestModificationForBabylonCDN&&(t.includes("preview.babylonjs.com")||t.includes("cdn.babylonjs.com"))},Object.defineProperty(e.prototype,"onprogress",{get:function(){return this._xhr.onprogress},set:function(e){this._xhr.onprogress=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._xhr.readyState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._xhr.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statusText",{get:function(){return this._xhr.statusText},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this._xhr.response},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"responseURL",{get:function(){return this._xhr.responseURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"responseText",{get:function(){return this._xhr.responseText},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"responseType",{get:function(){return this._xhr.responseType},set:function(e){this._xhr.responseType=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeout",{get:function(){return this._xhr.timeout},set:function(e){this._xhr.timeout=e},enumerable:!1,configurable:!0}),e.prototype.addEventListener=function(e,t,r){this._xhr.addEventListener(e,t,r)},e.prototype.removeEventListener=function(e,t,r){this._xhr.removeEventListener(e,t,r)},e.prototype.abort=function(){this._xhr.abort()},e.prototype.send=function(t){e.CustomRequestHeaders&&this._injectCustomRequestHeaders(),this._xhr.send(t)},e.prototype.open=function(t,r){for(var n=0,i=e.CustomRequestModifiers;n<i.length;n++){var o=i[n];if(this._shouldSkipRequestModifications(r))return;o(this._xhr,r)}return r=(r=r.replace("file:http:","http:")).replace("file:https:","https:"),this._requestURL=r,this._xhr.open(t,r,!0)},e.prototype.setRequestHeader=function(e,t){this._xhr.setRequestHeader(e,t)},e.prototype.getResponseHeader=function(e){return this._xhr.getResponseHeader(e)},e.CustomRequestHeaders={},e.CustomRequestModifiers=new Array,e.SkipRequestModificationForBabylonCDN=!0,e}()},11758:(e,t,r)=>{r.d(t,{h:()=>i,v:()=>o});var n=r(31191),i=function(){function e(e){this._pendingActions=new Array,this._workerInfos=e.map((function(e){return{workerPromise:Promise.resolve(e),idle:!0}}))}return e.prototype.dispose=function(){for(var e=0,t=this._workerInfos;e<t.length;e++){t[e].workerPromise.then((function(e){e.terminate()}))}this._workerInfos.length=0,this._pendingActions.length=0},e.prototype.push=function(e){this._executeOnIdleWorker(e)||this._pendingActions.push(e)},e.prototype._executeOnIdleWorker=function(e){for(var t=0,r=this._workerInfos;t<r.length;t++){var n=r[t];if(n.idle)return this._execute(n,e),!0}return!1},e.prototype._execute=function(e,t){var r=this;e.idle=!1,e.workerPromise.then((function(n){t(n,(function(){var t=r._pendingActions.shift();t?r._execute(e,t):e.idle=!0}))}))},e}(),o=function(e){function t(r,n,i){void 0===i&&(i=t.DefaultOptions);var o=e.call(this,[])||this;return o._maxWorkers=r,o._createWorkerAsync=n,o._options=i,o}return(0,n.ZT)(t,e),t.prototype.push=function(e){if(!this._executeOnIdleWorker(e))if(this._workerInfos.length<this._maxWorkers){var t={workerPromise:this._createWorkerAsync(),idle:!1};this._workerInfos.push(t),this._execute(t,e)}else this._pendingActions.push(e)},t.prototype._execute=function(t,r){var n=this;t.timeoutId&&(clearTimeout(t.timeoutId),delete t.timeoutId),e.prototype._execute.call(this,t,(function(e,i){r(e,(function(){i(),t.idle&&(t.timeoutId=setTimeout((function(){t.workerPromise.then((function(e){e.terminate()}));var e=n._workerInfos.indexOf(t);-1!==e&&n._workerInfos.splice(e,1)}),n._options.idleTimeElapsedBeforeRelease))}))}))},t.DefaultOptions={idleTimeElapsedBeforeRelease:1e3},t}(i)},82799:(e,t,r)=>{r.d(t,{O:()=>i.O,Y:()=>n.Y});var n=r(8471),i=r(27398)},8471:(e,t,r)=>{r.d(t,{Y:()=>c});var n=r(31191),i=r(62897),o=r(15210),a=r(72208),s=r(96969),u=r(48620),c=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=null),this.name=e,this.animations=new Array,this._positions=null,this._normals=null,this._tangents=null,this._uvs=null,this._uniqueId=0,this.onInfluenceChanged=new i.y$,this._onDataLayoutChanged=new i.y$,this._animationPropertiesOverride=null,this._scene=r||o.l.LastCreatedScene,this.influence=t,this._scene&&(this._uniqueId=this._scene.getUniqueId())}return Object.defineProperty(e.prototype,"influence",{get:function(){return this._influence},set:function(e){if(this._influence!==e){var t=this._influence;this._influence=e,this.onInfluenceChanged.hasObservers()&&this.onInfluenceChanged.notifyObservers(0===t||0===e)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animationPropertiesOverride",{get:function(){return!this._animationPropertiesOverride&&this._scene?this._scene.animationPropertiesOverride:this._animationPropertiesOverride},set:function(e){this._animationPropertiesOverride=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uniqueId",{get:function(){return this._uniqueId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPositions",{get:function(){return!!this._positions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNormals",{get:function(){return!!this._normals},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasTangents",{get:function(){return!!this._tangents},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasUVs",{get:function(){return!!this._uvs},enumerable:!1,configurable:!0}),e.prototype.setPositions=function(e){var t=this.hasPositions;this._positions=e,t!==this.hasPositions&&this._onDataLayoutChanged.notifyObservers(void 0)},e.prototype.getPositions=function(){return this._positions},e.prototype.setNormals=function(e){var t=this.hasNormals;this._normals=e,t!==this.hasNormals&&this._onDataLayoutChanged.notifyObservers(void 0)},e.prototype.getNormals=function(){return this._normals},e.prototype.setTangents=function(e){var t=this.hasTangents;this._tangents=e,t!==this.hasTangents&&this._onDataLayoutChanged.notifyObservers(void 0)},e.prototype.getTangents=function(){return this._tangents},e.prototype.setUVs=function(e){var t=this.hasUVs;this._uvs=e,t!==this.hasUVs&&this._onDataLayoutChanged.notifyObservers(void 0)},e.prototype.getUVs=function(){return this._uvs},e.prototype.clone=function(){var t=this,r=s.p4.Clone((function(){return new e(t.name,t.influence,t._scene)}),this);return r._positions=this._positions,r._normals=this._normals,r._tangents=this._tangents,r._uvs=this._uvs,r},e.prototype.serialize=function(){var e={};return e.name=this.name,e.influence=this.influence,e.positions=Array.prototype.slice.call(this.getPositions()),null!=this.id&&(e.id=this.id),this.hasNormals&&(e.normals=Array.prototype.slice.call(this.getNormals())),this.hasTangents&&(e.tangents=Array.prototype.slice.call(this.getTangents())),this.hasUVs&&(e.uvs=Array.prototype.slice.call(this.getUVs())),s.p4.AppendSerializedAnimations(this,e),e},e.prototype.getClassName=function(){return"MorphTarget"},e.Parse=function(t,r){var n=new e(t.name,t.influence);if(n.setPositions(t.positions),null!=t.id&&(n.id=t.id),t.normals&&n.setNormals(t.normals),t.tangents&&n.setTangents(t.tangents),t.uvs&&n.setUVs(t.uvs),t.animations){for(var i=0;i<t.animations.length;i++){var o=t.animations[i],a=(0,u.q)("BABYLON.Animation");a&&n.animations.push(a.Parse(o))}t.autoAnimate&&r&&r.beginAnimation(n,t.autoAnimateFrom,t.autoAnimateTo,t.autoAnimateLoop,t.autoAnimateSpeed||1)}return n},e.FromMesh=function(t,r,n){r||(r=t.name);var i=new e(r,n,t.getScene());return i.setPositions(t.getVerticesData(a.o.PositionKind)),t.isVerticesDataPresent(a.o.NormalKind)&&i.setNormals(t.getVerticesData(a.o.NormalKind)),t.isVerticesDataPresent(a.o.TangentKind)&&i.setTangents(t.getVerticesData(a.o.TangentKind)),t.isVerticesDataPresent(a.o.UVKind)&&i.setUVs(t.getVerticesData(a.o.UVKind)),i},(0,n.gn)([(0,s.qC)()],e.prototype,"id",void 0),e}()},27398:(e,t,r)=>{r.d(t,{O:()=>u});var n=r(7788),i=r(84318),o=r(15210),a=r(8471),s=r(93097),u=function(){function e(e){if(void 0===e&&(e=null),this._targets=new Array,this._targetInfluenceChangedObservers=new Array,this._targetDataLayoutChangedObservers=new Array,this._activeTargets=new n.t(16),this._supportsNormals=!1,this._supportsTangents=!1,this._supportsUVs=!1,this._vertexCount=0,this._textureVertexStride=0,this._textureWidth=0,this._textureHeight=1,this._uniqueId=0,this._tempInfluences=new Array,this._canUseTextureForTargets=!1,this._blockCounter=0,this._parentContainer=null,this.optimizeInfluencers=!0,this.enableNormalMorphing=!0,this.enableTangentMorphing=!0,this.enableUVMorphing=!0,this._useTextureToStoreTargets=!0,e||(e=o.l.LastCreatedScene),this._scene=e,this._scene){this._scene.morphTargetManagers.push(this),this._uniqueId=this._scene.getUniqueId();var t=this._scene.getEngine().getCaps();this._canUseTextureForTargets=t.canUseGLVertexID&&t.textureFloat&&t.maxVertexTextureImageUnits>0&&t.texture2DArrayMaxLayerCount>1}}return Object.defineProperty(e.prototype,"areUpdatesFrozen",{get:function(){return this._blockCounter>0},set:function(e){e?this._blockCounter++:(this._blockCounter--,this._blockCounter<=0&&(this._blockCounter=0,this._syncActiveTargets(!0)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uniqueId",{get:function(){return this._uniqueId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertexCount",{get:function(){return this._vertexCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supportsNormals",{get:function(){return this._supportsNormals&&this.enableNormalMorphing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supportsTangents",{get:function(){return this._supportsTangents&&this.enableTangentMorphing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supportsUVs",{get:function(){return this._supportsUVs&&this.enableUVMorphing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numTargets",{get:function(){return this._targets.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numInfluencers",{get:function(){return this._activeTargets.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"influences",{get:function(){return this._influences},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useTextureToStoreTargets",{get:function(){return this._useTextureToStoreTargets},set:function(e){this._useTextureToStoreTargets=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUsingTextureForTargets",{get:function(){return e.EnableTextureStorage&&this.useTextureToStoreTargets&&this._canUseTextureForTargets},enumerable:!1,configurable:!0}),e.prototype.getActiveTarget=function(e){return this._activeTargets.data[e]},e.prototype.getTarget=function(e){return this._targets[e]},e.prototype.addTarget=function(e){var t=this;this._targets.push(e),this._targetInfluenceChangedObservers.push(e.onInfluenceChanged.add((function(e){t._syncActiveTargets(e)}))),this._targetDataLayoutChangedObservers.push(e._onDataLayoutChanged.add((function(){t._syncActiveTargets(!0)}))),this._syncActiveTargets(!0)},e.prototype.removeTarget=function(e){var t=this._targets.indexOf(e);t>=0&&(this._targets.splice(t,1),e.onInfluenceChanged.remove(this._targetInfluenceChangedObservers.splice(t,1)[0]),e._onDataLayoutChanged.remove(this._targetDataLayoutChangedObservers.splice(t,1)[0]),this._syncActiveTargets(!0))},e.prototype._bind=function(e){e.setFloat3("morphTargetTextureInfo",this._textureVertexStride,this._textureWidth,this._textureHeight),e.setFloatArray("morphTargetTextureIndices",this._morphTargetTextureIndices),e.setTexture("morphTargets",this._targetStoreTexture)},e.prototype.clone=function(){for(var t=new e(this._scene),r=0,n=this._targets;r<n.length;r++){var i=n[r];t.addTarget(i.clone())}return t.enableNormalMorphing=this.enableNormalMorphing,t.enableTangentMorphing=this.enableTangentMorphing,t.enableUVMorphing=this.enableUVMorphing,t},e.prototype.serialize=function(){var e={};e.id=this.uniqueId,e.targets=[];for(var t=0,r=this._targets;t<r.length;t++){var n=r[t];e.targets.push(n.serialize())}return e},e.prototype._syncActiveTargets=function(e){if(!this.areUpdatesFrozen){var t=0;this._activeTargets.reset(),this._supportsNormals=!0,this._supportsTangents=!0,this._supportsUVs=!0,this._vertexCount=0,this._morphTargetTextureIndices&&this._morphTargetTextureIndices.length===this._targets.length||(this._morphTargetTextureIndices=new Float32Array(this._targets.length));for(var r=-1,n=0,o=this._targets;n<o.length;n++){var a=o[n];if(r++,0!==a.influence||!this.optimizeInfluencers){this._activeTargets.push(a),this._morphTargetTextureIndices[t]=r,this._tempInfluences[t++]=a.influence,this._supportsNormals=this._supportsNormals&&a.hasNormals,this._supportsTangents=this._supportsTangents&&a.hasTangents,this._supportsUVs=this._supportsUVs&&a.hasUVs;var s=a.getPositions();if(s){var u=s.length/3;if(0===this._vertexCount)this._vertexCount=u;else if(this._vertexCount!==u)return void i.Y.Error("Incompatible target. Targets must all have the same vertices count.")}}}this._influences&&this._influences.length===t||(this._influences=new Float32Array(t));for(var c=0;c<t;c++)this._influences[c]=this._tempInfluences[c];e&&this.synchronize()}},e.prototype.synchronize=function(){if(this._scene&&!this.areUpdatesFrozen){if(this.isUsingTextureForTargets&&this._vertexCount){this._textureVertexStride=1,this._supportsNormals&&this._textureVertexStride++,this._supportsTangents&&this._textureVertexStride++,this._supportsUVs&&this._textureVertexStride++,this._textureWidth=this._vertexCount*this._textureVertexStride,this._textureHeight=1;var e=this._scene.getEngine().getCaps().maxTextureSize;this._textureWidth>e&&(this._textureHeight=Math.ceil(this._textureWidth/e),this._textureWidth=e);var t=!0;if(this._targetStoreTexture){var r=this._targetStoreTexture.getSize();r.width===this._textureWidth&&r.height===this._textureHeight&&this._targetStoreTexture.depth===this._targets.length&&(t=!1)}if(t){this._targetStoreTexture&&this._targetStoreTexture.dispose();for(var n=this._targets.length,o=new Float32Array(n*this._textureWidth*this._textureHeight*4),a=0,u=0;u<n;u++){var c=this._targets[u],l=c.getPositions(),h=c.getNormals(),f=c.getUVs(),d=c.getTangents();if(!l)return void(0===u&&i.Y.Error("Invalid morph target. Target must have positions."));a=u*this._textureWidth*this._textureHeight*4;for(var p=0;p<this._vertexCount;p++)o[a]=l[3*p],o[a+1]=l[3*p+1],o[a+2]=l[3*p+2],a+=4,h&&(o[a]=h[3*p],o[a+1]=h[3*p+1],o[a+2]=h[3*p+2],a+=4),f&&(o[a]=f[2*p],o[a+1]=f[2*p+1],a+=4),d&&(o[a]=d[3*p],o[a+1]=d[3*p+1],o[a+2]=d[3*p+2],a+=4)}this._targetStoreTexture=s.e.CreateRGBATexture(o,this._textureWidth,this._textureHeight,n,this._scene,!1,!1,1,1)}}for(var g=0,v=this._scene.meshes;g<v.length;g++){var m=v[g];m.morphTargetManager===this&&m._syncGeometryWithMorphTargetManager()}}},e.prototype.dispose=function(){if(this._targetStoreTexture&&this._targetStoreTexture.dispose(),this._targetStoreTexture=null,this._scene&&(this._scene.removeMorphTargetManager(this),this._parentContainer)){var e=this._parentContainer.morphTargetManagers.indexOf(this);e>-1&&this._parentContainer.morphTargetManagers.splice(e,1),this._parentContainer=null}},e.Parse=function(t,r){var n=new e(r);n._uniqueId=t.id;for(var i=0,o=t.targets;i<o.length;i++){var s=o[i];n.addTarget(a.Y.Parse(s,r))}return n},e.EnableTextureStorage=!0,e}()},5257:(e,t,r)=>{r.d(t,{n:()=>l,P:()=>c});var n=r(84318),i=r(89209),o=r(91243),a=r(6307),s=r(62897),u=r(72208),c=function(){function e(e){void 0===e&&(e=Recast),this.bjsRECAST={},this.name="RecastJSPlugin",this._maximumSubStepCount=10,this._timeStep=1/60,this._worker=null,"function"==typeof e?n.Y.Error("RecastJS is not ready. Please make sure you await Recast() before using the plugin."):this.bjsRECAST=e,this.isSupported()?(this.setTimeStep(),this._tempVec1=new this.bjsRECAST.Vec3,this._tempVec2=new this.bjsRECAST.Vec3):n.Y.Error("RecastJS is not available. Please make sure you included the js file.")}return e.prototype.setWorkerURL=function(e){return!(!window||!window.Worker)&&(this._worker=new Worker(e),!0)},e.prototype.setTimeStep=function(e){void 0===e&&(e=1/60),this._timeStep=e},e.prototype.getTimeStep=function(){return this._timeStep},e.prototype.setMaximumSubStepCount=function(e){void 0===e&&(e=10),this._maximumSubStepCount=e},e.prototype.getMaximumSubStepCount=function(){return this._maximumSubStepCount},e.prototype.createNavMesh=function(e,t,r){var n,i,o;this._worker&&!r||this._worker,this.navMesh=new this.bjsRECAST.NavMesh;var s=[],c=[],l=0;for(n=0;n<e.length;n++)if(e[n]){var h=e[n],f=h.getIndices();if(!f)continue;var d=h.getVerticesData(u.o.PositionKind,!1,!1);if(!d)continue;var p=[],g=h.computeWorldMatrix(!0);if(h.hasThinInstances)for(var v=h.thinInstanceGetWorldMatrices(),m=0;m<v.length;m++){var y=new a.y3;v[m].multiplyToRef(g,y),p.push(y)}else p.push(g);for(var _=0;_<p.length;_++){var b=p[_];for(i=0;i<f.length;i++)s.push(f[i]+l);var A=a.P.Zero(),w=a.P.Zero();for(o=0;o<d.length;o+=3)a.P.FromArrayToRef(d,o,w),a.P.TransformCoordinatesToRef(w,b,A),c.push(A.x,A.y,A.z);l+=d.length/3}}if(this._worker&&r)this._worker.postMessage([c,l,s,s.length,t]),this._worker.onmessage=function(e){r(e.data)};else{var C=new this.bjsRECAST.rcConfig;C.cs=t.cs,C.ch=t.ch,C.borderSize=t.borderSize?t.borderSize:0,C.tileSize=t.tileSize?t.tileSize:0,C.walkableSlopeAngle=t.walkableSlopeAngle,C.walkableHeight=t.walkableHeight,C.walkableClimb=t.walkableClimb,C.walkableRadius=t.walkableRadius,C.maxEdgeLen=t.maxEdgeLen,C.maxSimplificationError=t.maxSimplificationError,C.minRegionArea=t.minRegionArea,C.mergeRegionArea=t.mergeRegionArea,C.maxVertsPerPoly=t.maxVertsPerPoly,C.detailSampleDist=t.detailSampleDist,C.detailSampleMaxError=t.detailSampleMaxError,this.navMesh.build(c,l,s,s.length,C)}},e.prototype.createDebugNavMesh=function(e){var t,r,n=this.navMesh.getDebugNavMesh(),a=n.getTriangleCount(),s=[],u=[];for(t=0;t<3*a;t++)s.push(t);for(t=0;t<a;t++)for(r=0;r<3;r++){var c=n.getTriangle(t).getPoint(r);u.push(c.x,c.y,c.z)}var l=new o.Kj("NavMeshDebug",e),h=new i.x;return h.indices=s,h.positions=u,h.applyToMesh(l,!1),l},e.prototype.getClosestPoint=function(e){this._tempVec1.x=e.x,this._tempVec1.y=e.y,this._tempVec1.z=e.z;var t=this.navMesh.getClosestPoint(this._tempVec1);return new a.P(t.x,t.y,t.z)},e.prototype.getClosestPointToRef=function(e,t){this._tempVec1.x=e.x,this._tempVec1.y=e.y,this._tempVec1.z=e.z;var r=this.navMesh.getClosestPoint(this._tempVec1);t.set(r.x,r.y,r.z)},e.prototype.getRandomPointAround=function(e,t){this._tempVec1.x=e.x,this._tempVec1.y=e.y,this._tempVec1.z=e.z;var r=this.navMesh.getRandomPointAround(this._tempVec1,t);return new a.P(r.x,r.y,r.z)},e.prototype.getRandomPointAroundToRef=function(e,t,r){this._tempVec1.x=e.x,this._tempVec1.y=e.y,this._tempVec1.z=e.z;var n=this.navMesh.getRandomPointAround(this._tempVec1,t);r.set(n.x,n.y,n.z)},e.prototype.moveAlong=function(e,t){this._tempVec1.x=e.x,this._tempVec1.y=e.y,this._tempVec1.z=e.z,this._tempVec2.x=t.x,this._tempVec2.y=t.y,this._tempVec2.z=t.z;var r=this.navMesh.moveAlong(this._tempVec1,this._tempVec2);return new a.P(r.x,r.y,r.z)},e.prototype.moveAlongToRef=function(e,t,r){this._tempVec1.x=e.x,this._tempVec1.y=e.y,this._tempVec1.z=e.z,this._tempVec2.x=t.x,this._tempVec2.y=t.y,this._tempVec2.z=t.z;var n=this.navMesh.moveAlong(this._tempVec1,this._tempVec2);r.set(n.x,n.y,n.z)},e.prototype.computePath=function(e,t){var r;this._tempVec1.x=e.x,this._tempVec1.y=e.y,this._tempVec1.z=e.z,this._tempVec2.x=t.x,this._tempVec2.y=t.y,this._tempVec2.z=t.z;var n=this.navMesh.computePath(this._tempVec1,this._tempVec2),i=n.getPointCount(),o=[];for(r=0;r<i;r++){var s=n.getPoint(r);o.push(new a.P(s.x,s.y,s.z))}return o},e.prototype.createCrowd=function(e,t,r){return new l(this,e,t,r)},e.prototype.setDefaultQueryExtent=function(e){this._tempVec1.x=e.x,this._tempVec1.y=e.y,this._tempVec1.z=e.z,this.navMesh.setDefaultQueryExtent(this._tempVec1)},e.prototype.getDefaultQueryExtent=function(){var e=this.navMesh.getDefaultQueryExtent();return new a.P(e.x,e.y,e.z)},e.prototype.buildFromNavmeshData=function(e){var t=e.length*e.BYTES_PER_ELEMENT,r=this.bjsRECAST._malloc(t),n=new Uint8Array(this.bjsRECAST.HEAPU8.buffer,r,t);n.set(e);var i=new this.bjsRECAST.NavmeshData;i.dataPointer=n.byteOffset,i.size=e.length,this.navMesh=new this.bjsRECAST.NavMesh,this.navMesh.buildFromNavmeshData(i),this.bjsRECAST._free(n.byteOffset)},e.prototype.getNavmeshData=function(){var e=this.navMesh.getNavmeshData(),t=new Uint8Array(this.bjsRECAST.HEAPU8.buffer,e.dataPointer,e.size),r=new Uint8Array(e.size);return r.set(t),this.navMesh.freeNavmeshData(e),r},e.prototype.getDefaultQueryExtentToRef=function(e){var t=this.navMesh.getDefaultQueryExtent();e.set(t.x,t.y,t.z)},e.prototype.dispose=function(){},e.prototype.addCylinderObstacle=function(e,t,r){return this._tempVec1.x=e.x,this._tempVec1.y=e.y,this._tempVec1.z=e.z,this.navMesh.addCylinderObstacle(this._tempVec1,t,r)},e.prototype.addBoxObstacle=function(e,t,r){return this._tempVec1.x=e.x,this._tempVec1.y=e.y,this._tempVec1.z=e.z,this._tempVec2.x=t.x,this._tempVec2.y=t.y,this._tempVec2.z=t.z,this.navMesh.addBoxObstacle(this._tempVec1,this._tempVec2,r)},e.prototype.removeObstacle=function(e){this.navMesh.removeObstacle(e)},e.prototype.isSupported=function(){return void 0!==this.bjsRECAST},e}(),l=function(){function e(e,t,r,n){var i=this;this.recastCrowd={},this.transforms=new Array,this.agents=new Array,this.reachRadii=new Array,this._agentDestinationArmed=new Array,this._agentDestination=new Array,this._onBeforeAnimationsObserver=null,this.onReachTargetObservable=new s.y$,this.bjsRECASTPlugin=e,this.recastCrowd=new this.bjsRECASTPlugin.bjsRECAST.Crowd(t,r,this.bjsRECASTPlugin.navMesh.getNavMesh()),this._scene=n,this._onBeforeAnimationsObserver=n.onBeforeAnimationsObservable.add((function(){i.update(.001*n.getEngine().getDeltaTime())}))}return e.prototype.addAgent=function(e,t,r){var n=new this.bjsRECASTPlugin.bjsRECAST.dtCrowdAgentParams;n.radius=t.radius,n.height=t.height,n.maxAcceleration=t.maxAcceleration,n.maxSpeed=t.maxSpeed,n.collisionQueryRange=t.collisionQueryRange,n.pathOptimizationRange=t.pathOptimizationRange,n.separationWeight=t.separationWeight,n.updateFlags=7,n.obstacleAvoidanceType=0,n.queryFilterType=0,n.userData=0;var i=this.recastCrowd.addAgent(new this.bjsRECASTPlugin.bjsRECAST.Vec3(e.x,e.y,e.z),n);return this.transforms.push(r),this.agents.push(i),this.reachRadii.push(t.reachRadius?t.reachRadius:t.radius),this._agentDestinationArmed.push(!1),this._agentDestination.push(new a.P(0,0,0)),i},e.prototype.getAgentPosition=function(e){var t=this.recastCrowd.getAgentPosition(e);return new a.P(t.x,t.y,t.z)},e.prototype.getAgentPositionToRef=function(e,t){var r=this.recastCrowd.getAgentPosition(e);t.set(r.x,r.y,r.z)},e.prototype.getAgentVelocity=function(e){var t=this.recastCrowd.getAgentVelocity(e);return new a.P(t.x,t.y,t.z)},e.prototype.getAgentVelocityToRef=function(e,t){var r=this.recastCrowd.getAgentVelocity(e);t.set(r.x,r.y,r.z)},e.prototype.getAgentNextTargetPath=function(e){var t=this.recastCrowd.getAgentNextTargetPath(e);return new a.P(t.x,t.y,t.z)},e.prototype.getAgentNextTargetPathToRef=function(e,t){var r=this.recastCrowd.getAgentNextTargetPath(e);t.set(r.x,r.y,r.z)},e.prototype.getAgentState=function(e){return this.recastCrowd.getAgentState(e)},e.prototype.overOffmeshConnection=function(e){return this.recastCrowd.overOffmeshConnection(e)},e.prototype.agentGoto=function(e,t){this.recastCrowd.agentGoto(e,new this.bjsRECASTPlugin.bjsRECAST.Vec3(t.x,t.y,t.z));var r=this.agents.indexOf(e);r>-1&&(this._agentDestinationArmed[r]=!0,this._agentDestination[r].set(t.x,t.y,t.z))},e.prototype.agentTeleport=function(e,t){this.recastCrowd.agentTeleport(e,new this.bjsRECASTPlugin.bjsRECAST.Vec3(t.x,t.y,t.z))},e.prototype.updateAgentParameters=function(e,t){var r=this.recastCrowd.getAgentParameters(e);void 0!==t.radius&&(r.radius=t.radius),void 0!==t.height&&(r.height=t.height),void 0!==t.maxAcceleration&&(r.maxAcceleration=t.maxAcceleration),void 0!==t.maxSpeed&&(r.maxSpeed=t.maxSpeed),void 0!==t.collisionQueryRange&&(r.collisionQueryRange=t.collisionQueryRange),void 0!==t.pathOptimizationRange&&(r.pathOptimizationRange=t.pathOptimizationRange),void 0!==t.separationWeight&&(r.separationWeight=t.separationWeight),this.recastCrowd.setAgentParameters(e,r)},e.prototype.removeAgent=function(e){this.recastCrowd.removeAgent(e);var t=this.agents.indexOf(e);t>-1&&(this.agents.splice(t,1),this.transforms.splice(t,1),this.reachRadii.splice(t,1),this._agentDestinationArmed.splice(t,1),this._agentDestination.splice(t,1))},e.prototype.getAgents=function(){return this.agents},e.prototype.update=function(e){this.bjsRECASTPlugin.navMesh.update();var t=this.bjsRECASTPlugin.getTimeStep(),r=this.bjsRECASTPlugin.getMaximumSubStepCount();if(t<=a.kn)this.recastCrowd.update(e);else{var n=Math.floor(e/t);r&&n>r&&(n=r),n<1&&(n=1);for(var i=e/n,o=0;o<n;o++)this.recastCrowd.update(i)}for(var s=0;s<this.agents.length;s++){var u=this.agents[s],c=this.getAgentPosition(u);if(this.transforms[s].position=c,this._agentDestinationArmed[s]){var l=c.x-this._agentDestination[s].x,h=c.z-this._agentDestination[s].z,f=this.reachRadii[s],d=this._agentDestination[s].y-this.reachRadii[s],p=this._agentDestination[s].y+this.reachRadii[s],g=l*l+h*h;c.y>d&&c.y<p&&g<f*f&&(this.onReachTargetObservable.notifyObservers({agentIndex:u,destination:this._agentDestination[s]}),this._agentDestinationArmed[s]=!1)}}},e.prototype.setDefaultQueryExtent=function(e){var t=new this.bjsRECASTPlugin.bjsRECAST.Vec3(e.x,e.y,e.z);this.recastCrowd.setDefaultQueryExtent(t)},e.prototype.getDefaultQueryExtent=function(){var e=this.recastCrowd.getDefaultQueryExtent();return new a.P(e.x,e.y,e.z)},e.prototype.getDefaultQueryExtentToRef=function(e){var t=this.recastCrowd.getDefaultQueryExtent();e.set(t.x,t.y,t.z)},e.prototype.getCorners=function(e){var t,r=this.recastCrowd.getCorners(e),n=r.getPointCount(),i=[];for(t=0;t<n;t++){var o=r.getPoint(t);i.push(new a.P(o.x,o.y,o.z))}return i},e.prototype.dispose=function(){this.recastCrowd.destroy(),this._scene.onBeforeAnimationsObservable.remove(this._onBeforeAnimationsObserver),this._onBeforeAnimationsObserver=null,this.onReachTargetObservable.clear()},e}()},8820:(e,t,r)=>{r.d(t,{v:()=>u});var n=r(13514),i=r(84318),o=r(76755),a=r(37290),s=r(51912);a.D.OfflineProviderFactory=function(e,t,r){return void 0===r&&(r=!1),new u(e,t,r)};var u=function(){function e(t,r,i){void 0===i&&(i=!1),this._idbFactory="undefined"!=typeof window?window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB:indexedDB,this._currentSceneUrl=e._ReturnFullUrlLocation(t),this._db=null,this._enableSceneOffline=!1,this._enableTexturesOffline=!1,this._manifestVersionFound=0,this._mustUpdateRessources=!1,this._hasReachedQuota=!1,e.IDBStorageEnabled?i?(this._enableSceneOffline=!0,this._enableTexturesOffline=!0,this._manifestVersionFound=1,n.w1.SetImmediate((function(){r(!0)}))):this._checkManifestFile(r):r(!0)}return Object.defineProperty(e.prototype,"enableSceneOffline",{get:function(){return this._enableSceneOffline},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enableTexturesOffline",{get:function(){return this._enableTexturesOffline},enumerable:!1,configurable:!0}),e.prototype._checkManifestFile=function(t){var r=this,n=function(){r._enableSceneOffline=!1,r._enableTexturesOffline=!1,t(!1)},o=function(){try{if("function"==typeof URL&&0===r._currentSceneUrl.indexOf("http")){var e=new URL(r._currentSceneUrl);return e.pathname+=".manifest",e.toString()}}catch(e){}return"".concat(r._currentSceneUrl,".manifest")},a=!1,u=o(),c=new s.g;navigator.onLine&&(a=!0,u=u+(null==u.match(/\?/)?"?":"&")+Date.now()),c.open("GET",u),c.addEventListener("load",(function(){if(200===c.status||e._ValidateXHRData(c,1))try{var i=JSON.parse(c.response);r._enableSceneOffline=i.enableSceneOffline,r._enableTexturesOffline=i.enableTexturesOffline&&e._IsUASupportingBlobStorage,i.version&&!isNaN(parseInt(i.version))&&(r._manifestVersionFound=i.version),t(!0)}catch(e){n()}else n()}),!1),c.addEventListener("error",(function(){if(a){a=!1;var e=o();c.open("GET",e),c.send()}else n()}),!1);try{c.send()}catch(e){i.Y.Error("Error on XHR send request."),t(!1)}},e.prototype.open=function(e,t){var r=this,n=function(){r._isSupported=!1,t&&t()};if(this._idbFactory&&(this._enableSceneOffline||this._enableTexturesOffline))if(this._db)e&&e();else{this._hasReachedQuota=!1,this._isSupported=!0;var o=this._idbFactory.open("babylonjs",1);o.onerror=function(){n()},o.onblocked=function(){i.Y.Error("IDB request blocked. Please reload the page."),n()},o.onsuccess=function(){r._db=o.result,e()},o.onupgradeneeded=function(e){if(r._db=e.target.result,r._db)try{r._db.createObjectStore("scenes",{keyPath:"sceneUrl"}),r._db.createObjectStore("versions",{keyPath:"sceneUrl"}),r._db.createObjectStore("textures",{keyPath:"textureUrl"})}catch(e){i.Y.Error("Error while creating object stores. Exception: "+e.message),n()}}}else this._isSupported=!1,t&&t()},e.prototype.loadImage=function(t,r){var n=this,i=e._ReturnFullUrlLocation(t),o=function(){n._hasReachedQuota||null===n._db?r.src=t:n._saveImageIntoDBAsync(i,r)};this._mustUpdateRessources?o():this._loadImageFromDBAsync(i,r,o)},e.prototype._loadImageFromDBAsync=function(e,t,r){if(this._isSupported&&null!==this._db){var n,o=this._db.transaction(["textures"]);o.onabort=function(){t.src=e},o.oncomplete=function(){var o;if(n){var a=window.URL||window.webkitURL;o=a.createObjectURL(n.data),t.onerror=function(){i.Y.Error("Error loading image from blob URL: "+o+" switching back to web url: "+e),t.src=e},t.src=o}else r()};var a=o.objectStore("textures").get(e);a.onsuccess=function(e){n=e.target.result},a.onerror=function(){i.Y.Error("Error loading texture "+e+" from DB."),t.src=e}}else i.Y.Error("Error: IndexedDB not supported by your browser or BabylonJS Database is not open."),t.src=e},e.prototype._saveImageIntoDBAsync=function(t,r){var n,o=this;if(this._isSupported){var a=function(){var e;if(n){var t=window.URL||window.webkitURL;try{e=t.createObjectURL(n)}catch(r){e=t.createObjectURL(n)}}e&&(r.src=e)};if(e._IsUASupportingBlobStorage){var u=new s.g;u.open("GET",t),u.responseType="blob",u.addEventListener("load",(function(){if(200===u.status&&o._db){n=u.response;var i=o._db.transaction(["textures"],"readwrite");i.onabort=function(e){try{var t=(e.srcElement||e.target).error;t&&"QuotaExceededError"===t.name&&(o._hasReachedQuota=!0)}catch(e){}a()},i.oncomplete=function(){a()};var s={textureUrl:t,data:n};try{var c=i.objectStore("textures").put(s);c.onsuccess=function(){},c.onerror=function(){a()}}catch(n){25===n.code&&(e._IsUASupportingBlobStorage=!1,o._enableTexturesOffline=!1),r.src=t}}else r.src=t}),!1),u.addEventListener("error",(function(){i.Y.Error("Error in XHR request in BABYLON.Database."),r.src=t}),!1),u.send()}else r.src=t}else i.Y.Error("Error: IndexedDB not supported by your browser or Babylon.js database is not open."),r.src=t},e.prototype._checkVersionFromDB=function(e,t){var r=this;this._loadVersionFromDBAsync(e,t,(function(){r._saveVersionIntoDBAsync(e,t)}))},e.prototype._loadVersionFromDBAsync=function(e,t,r){var n,o=this;if(this._isSupported&&this._db)try{var a=this._db.transaction(["versions"]);a.oncomplete=function(){n?o._manifestVersionFound!==n.data?(o._mustUpdateRessources=!0,r()):t(n.data):(o._mustUpdateRessources=!0,r())},a.onabort=function(){t(-1)};var s=a.objectStore("versions").get(e);s.onsuccess=function(e){n=e.target.result},s.onerror=function(){i.Y.Error("Error loading version for scene "+e+" from DB."),t(-1)}}catch(e){i.Y.Error("Error while accessing 'versions' object store (READ OP). Exception: "+e.message),t(-1)}else i.Y.Error("Error: IndexedDB not supported by your browser or Babylon.js database is not open."),t(-1)},e.prototype._saveVersionIntoDBAsync=function(e,t){var r=this;if(this._isSupported&&!this._hasReachedQuota&&this._db)try{var n=this._db.transaction(["versions"],"readwrite");n.onabort=function(e){try{var n=e.srcElement.error;n&&"QuotaExceededError"===n.name&&(r._hasReachedQuota=!0)}catch(e){}t(-1)},n.oncomplete=function(){t(r._manifestVersionFound)};var o={sceneUrl:e,data:this._manifestVersionFound},a=n.objectStore("versions").put(o);a.onsuccess=function(){},a.onerror=function(){i.Y.Error("Error in DB add version request in BABYLON.Database.")}}catch(e){i.Y.Error("Error while accessing 'versions' object store (WRITE OP). Exception: "+e.message),t(-1)}else t(-1)},e.prototype.loadFile=function(t,r,n,i,o){var a=this,s=e._ReturnFullUrlLocation(t),u=function(){a._saveFileAsync(s,r,n,o,i)};this._checkVersionFromDB(s,(function(e){-1!==e?a._mustUpdateRessources?a._saveFileAsync(s,r,n,o,i):a._loadFileAsync(s,r,u):i&&i()}))},e.prototype._loadFileAsync=function(e,t,r){if(this._isSupported&&this._db){var n,o=void 0;o=-1!==e.indexOf(".babylon")?"scenes":"textures";var a=this._db.transaction([o]);a.oncomplete=function(){n?t(n.data):r()},a.onabort=function(){r()};var s=a.objectStore(o).get(e);s.onsuccess=function(e){n=e.target.result},s.onerror=function(){i.Y.Error("Error loading file "+e+" from DB."),r()}}else i.Y.Error("Error: IndexedDB not supported by your browser or BabylonJS Database is not open."),t()},e.prototype._saveFileAsync=function(t,r,n,o,a){var u=this;if(this._isSupported){var c;c=-1!==t.indexOf(".babylon")?"scenes":"textures";var l,h=new s.g;h.open("GET",t+(null==t.match(/\?/)?"?":"&")+Date.now()),o&&(h.responseType="arraybuffer"),n&&(h.onprogress=n),h.addEventListener("load",(function(){if(200===h.status||h.status<400&&e._ValidateXHRData(h,o?6:1))if(l=o?h.response:h.responseText,!u._hasReachedQuota&&u._db){var n=u._db.transaction([c],"readwrite");n.onabort=function(e){try{var t=e.srcElement.error;t&&"QuotaExceededError"===t.name&&(u._hasReachedQuota=!0)}catch(e){}r(l)},n.oncomplete=function(){r(l)};var s=void 0;s="scenes"===c?{sceneUrl:t,data:l,version:u._manifestVersionFound}:{textureUrl:t,data:l};try{var f=n.objectStore(c).put(s);f.onsuccess=function(){},f.onerror=function(){i.Y.Error("Error in DB add file request in BABYLON.Database.")}}catch(e){r(l)}}else r(l);else h.status>=400&&a?a(h):r()}),!1),h.addEventListener("error",(function(){i.Y.Error("error on XHR request."),a&&a()}),!1),h.send()}else i.Y.Error("Error: IndexedDB not supported by your browser or Babylon.js database is not open."),a&&a()},e._ValidateXHRData=function(e,t){void 0===t&&(t=7);try{if(1&t){if(e.responseText&&e.responseText.length>0)return!0;if(1===t)return!1}if(2&t){var r=(0,o.A6)(e.response);if(r.width&&r.height&&r.width>0&&r.height>0)return!0;if(2===t)return!1}if(4&t){var n=new Uint8Array(e.response,0,3);return 68===n[0]&&68===n[1]&&83===n[2]}}catch(e){}return!1},e._IsUASupportingBlobStorage=!0,e.IDBStorageEnabled=!1,e._ParseURL=function(e){document.createElement("a").href=e;var t=e.substring(0,e.lastIndexOf("#")),r=e.substring(t.lastIndexOf("/")+1,e.length);return e.substring(0,e.indexOf(r,0))},e._ReturnFullUrlLocation=function(t){return-1===t.indexOf("http:/")&&-1===t.indexOf("https:/")&&"undefined"!=typeof window?e._ParseURL(window.location.href)+t:t},e}()}}]);