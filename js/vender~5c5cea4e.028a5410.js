"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8166],{90194:(e,t,o)=>{o.d(t,{a:()=>h,i:()=>n});var n,i=o(31191),a=o(62897),r=o(55905),_=o(96029),l=o(48620),s=o(96969),c=o(15210);!function(e){e[e.Clip=0]="Clip",e[e.WordWrap=1]="WordWrap",e[e.Ellipsis=2]="Ellipsis",e[e.WordWrapEllipsis=3]="WordWrapEllipsis"}(n||(n={}));var h=function(e){function t(t,o){void 0===o&&(o="");var i=e.call(this,t)||this;return i.name=t,i._text="",i._textWrapping=n.Clip,i._textHorizontalAlignment=_.o.HORIZONTAL_ALIGNMENT_CENTER,i._textVerticalAlignment=_.o.VERTICAL_ALIGNMENT_CENTER,i._resizeToFit=!1,i._lineSpacing=new r.s(0),i._outlineWidth=0,i._outlineColor="white",i._underline=!1,i._lineThrough=!1,i._wordDivider=" ",i.onTextChangedObservable=new a.y$,i.onLinesReadyObservable=new a.y$,i.text=o,i}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"lines",{get:function(){return this._lines},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizeToFit",{get:function(){return this._resizeToFit},set:function(e){this._resizeToFit!==e&&(this._resizeToFit=e,this._resizeToFit&&(this._width.ignoreAdaptiveScaling=!0,this._height.ignoreAdaptiveScaling=!0),this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWrapping",{get:function(){return this._textWrapping},set:function(e){this._textWrapping!==e&&(this._textWrapping=+e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text!==e&&(this._text=e+"",this._markAsDirty(),this.onTextChangedObservable.notifyObservers(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHorizontalAlignment",{get:function(){return this._textHorizontalAlignment},set:function(e){this._textHorizontalAlignment!==e&&(this._textHorizontalAlignment=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textVerticalAlignment",{get:function(){return this._textVerticalAlignment},set:function(e){this._textVerticalAlignment!==e&&(this._textVerticalAlignment=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineSpacing",{get:function(){return this._lineSpacing.toString(this._host)},set:function(e){this._lineSpacing.fromString(e)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outlineWidth",{get:function(){return this._outlineWidth},set:function(e){this._outlineWidth!==e&&(this._outlineWidth=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"underline",{get:function(){return this._underline},set:function(e){this._underline!==e&&(this._underline=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineThrough",{get:function(){return this._lineThrough},set:function(e){this._lineThrough!==e&&(this._lineThrough=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outlineColor",{get:function(){return this._outlineColor},set:function(e){this._outlineColor!==e&&(this._outlineColor=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordDivider",{get:function(){return this._wordDivider},set:function(e){this._wordDivider!==e&&(this._wordDivider=e,this._markAsDirty())},enumerable:!1,configurable:!0}),t.prototype._getTypeName=function(){return"TextBlock"},t.prototype._processMeasures=function(t,o){this._fontOffset&&!this.isDirty||(this._fontOffset=_.o._GetFontOffset(o.font)),e.prototype._processMeasures.call(this,t,o),this._lines=this._breakLines(this._currentMeasure.width,this._currentMeasure.height,o),this.onLinesReadyObservable.notifyObservers(this);for(var i=0,a=0;a<this._lines.length;a++){var l=this._lines[a];l.width>i&&(i=l.width)}if(this._resizeToFit){if(this._textWrapping===n.Clip){var s=this._paddingLeftInPixels+this._paddingRightInPixels+i|0;s!==this._width.internalValue&&(this._width.updateInPlace(s,r.s.UNITMODE_PIXEL),this._rebuildLayout=!0)}var c=this._paddingTopInPixels+this._paddingBottomInPixels+this._fontOffset.height*this._lines.length|0;if(this._lines.length>0&&0!==this._lineSpacing.internalValue){var h=0;h=this._lineSpacing.isPixel?this._lineSpacing.getValue(this._host):this._lineSpacing.getValue(this._host)*this._height.getValueInPixel(this._host,this._cachedParentMeasure.height),c+=(this._lines.length-1)*h}c!==this._height.internalValue&&(this._height.updateInPlace(c,r.s.UNITMODE_PIXEL),this._rebuildLayout=!0)}},t.prototype._drawText=function(e,t,o,n){var i=this._currentMeasure.width,a=0;switch(this._textHorizontalAlignment){case _.o.HORIZONTAL_ALIGNMENT_LEFT:a=0;break;case _.o.HORIZONTAL_ALIGNMENT_RIGHT:a=i-t;break;case _.o.HORIZONTAL_ALIGNMENT_CENTER:a=(i-t)/2}(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur,n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY),this.outlineWidth&&n.strokeText(e,this._currentMeasure.left+a,o),n.fillText(e,this._currentMeasure.left+a,o),this._underline&&(n.beginPath(),n.lineWidth=Math.round(.05*this.fontSizeInPixels),n.moveTo(this._currentMeasure.left+a,o+3),n.lineTo(this._currentMeasure.left+a+t,o+3),n.stroke(),n.closePath()),this._lineThrough&&(n.beginPath(),n.lineWidth=Math.round(.05*this.fontSizeInPixels),n.moveTo(this._currentMeasure.left+a,o-this.fontSizeInPixels/3),n.lineTo(this._currentMeasure.left+a+t,o-this.fontSizeInPixels/3),n.stroke(),n.closePath())},t.prototype._draw=function(e){e.save(),this._applyStates(e),this._renderLines(e),e.restore()},t.prototype._applyStates=function(t){e.prototype._applyStates.call(this,t),this.outlineWidth&&(t.lineWidth=this.outlineWidth,t.strokeStyle=this.outlineColor,t.lineJoin="miter",t.miterLimit=2)},t.prototype._breakLines=function(e,t,o){var i=[],a=this.text.split("\n");if(this._textWrapping===n.Ellipsis)for(var r=0,_=a;r<_.length;r++){var l=_[r];i.push(this._parseLineEllipsis(l,e,o))}else if(this._textWrapping===n.WordWrap)for(var s=0,c=a;s<c.length;s++){l=c[s];i.push.apply(i,this._parseLineWordWrap(l,e,o))}else if(this._textWrapping===n.WordWrapEllipsis)for(var h=0,d=a;h<d.length;h++){l=d[h];i.push.apply(i,this._parseLineWordWrapEllipsis(l,e,t,o))}else for(var f=0,u=a;f<u.length;f++){l=u[f];i.push(this._parseLine(l,o))}return i},t.prototype._parseLine=function(e,t){return void 0===e&&(e=""),{text:e,width:this._getTextMetricsWidth(t.measureText(e))}},t.prototype._getCharsToRemove=function(e,t,o){var n=e>t?e-t:0,i=e/o;return Math.max(Math.floor(n/i),1)},t.prototype._parseLineEllipsis=function(e,t,o){void 0===e&&(e="");var n=this._getTextMetricsWidth(o.measureText(e)),i=this._getCharsToRemove(n,t,e.length),a=Array.from&&Array.from(e);if(a)for(;a.length&&n>t;)a.splice(a.length-i,i),e="".concat(a.join(""),"\u2026"),n=this._getTextMetricsWidth(o.measureText(e)),i=this._getCharsToRemove(n,t,e.length);else{for(;e.length>2&&n>t;)e=e.slice(0,-i),n=this._getTextMetricsWidth(o.measureText(e+"\u2026")),i=this._getCharsToRemove(n,t,e.length);e+="\u2026"}return{text:e,width:n}},t.prototype._getTextMetricsWidth=function(e){return void 0!==e.actualBoundingBoxLeft?Math.abs(e.actualBoundingBoxLeft)+Math.abs(e.actualBoundingBoxRight):e.width},t.prototype._parseLineWordWrap=function(e,t,o){void 0===e&&(e="");for(var n=[],i=this.wordSplittingFunction?this.wordSplittingFunction(e):e.split(this._wordDivider),a=this._getTextMetricsWidth(o.measureText(e)),r=0;r<i.length;r++){var _=r>0?e+this._wordDivider+i[r]:i[0],l=this._getTextMetricsWidth(o.measureText(_));l>t&&r>0?(n.push({text:e,width:a}),e=i[r],a=this._getTextMetricsWidth(o.measureText(e))):(a=l,e=_)}return n.push({text:e,width:a}),n},t.prototype._parseLineWordWrapEllipsis=function(e,t,o,n){void 0===e&&(e="");for(var i=this._parseLineWordWrap(e,t,n),a=1;a<=i.length;a++){if(this._computeHeightForLinesOf(a)>o&&a>1){var r=i[a-2],_=i[a-1];i[a-2]=this._parseLineEllipsis("".concat(r.text+_.text),t,n);for(var l=i.length-a+1,s=0;s<l;s++)i.pop();return i}}return i},t.prototype._renderLines=function(e){if(this._fontOffset){var t=this._currentMeasure.height,o=0;switch(this._textVerticalAlignment){case _.o.VERTICAL_ALIGNMENT_TOP:o=this._fontOffset.ascent;break;case _.o.VERTICAL_ALIGNMENT_BOTTOM:o=t-this._fontOffset.height*(this._lines.length-1)-this._fontOffset.descent;break;case _.o.VERTICAL_ALIGNMENT_CENTER:o=this._fontOffset.ascent+(t-this._fontOffset.height*this._lines.length)/2}o+=this._currentMeasure.top;for(var n=0;n<this._lines.length;n++){var i=this._lines[n];0!==n&&0!==this._lineSpacing.internalValue&&(this._lineSpacing.isPixel?o+=this._lineSpacing.getValue(this._host):o+=this._lineSpacing.getValue(this._host)*this._height.getValueInPixel(this._host,this._cachedParentMeasure.height)),this._drawText(i.text,i.width,o,e),o+=this._fontOffset.height}}},t.prototype._computeHeightForLinesOf=function(e){var t=this._paddingTopInPixels+this._paddingBottomInPixels+this._fontOffset.height*e;if(e>0&&0!==this._lineSpacing.internalValue){t+=(e-1)*(this._lineSpacing.isPixel?this._lineSpacing.getValue(this._host):this._lineSpacing.getValue(this._host)*this._height.getValueInPixel(this._host,this._cachedParentMeasure.height))}return t},t.prototype.computeExpectedHeight=function(){var e;if(this.text&&this.widthInPixels){var t=null===(e=c.l.LastCreatedEngine)||void 0===e?void 0:e.createCanvas(0,0).getContext("2d");if(t){this._applyStates(t),this._fontOffset||(this._fontOffset=_.o._GetFontOffset(t.font));var o=this._lines?this._lines:this._breakLines(this.widthInPixels-this._paddingLeftInPixels-this._paddingRightInPixels,this.heightInPixels-this._paddingTopInPixels-this._paddingBottomInPixels,t);return this._computeHeightForLinesOf(o.length)}}return 0},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.onTextChangedObservable.clear()},(0,i.gn)([(0,s.qC)()],t.prototype,"resizeToFit",null),(0,i.gn)([(0,s.qC)()],t.prototype,"textWrapping",null),(0,i.gn)([(0,s.qC)()],t.prototype,"text",null),(0,i.gn)([(0,s.qC)()],t.prototype,"textHorizontalAlignment",null),(0,i.gn)([(0,s.qC)()],t.prototype,"textVerticalAlignment",null),(0,i.gn)([(0,s.qC)()],t.prototype,"lineSpacing",null),(0,i.gn)([(0,s.qC)()],t.prototype,"outlineWidth",null),(0,i.gn)([(0,s.qC)()],t.prototype,"underline",null),(0,i.gn)([(0,s.qC)()],t.prototype,"lineThrough",null),(0,i.gn)([(0,s.qC)()],t.prototype,"outlineColor",null),(0,i.gn)([(0,s.qC)()],t.prototype,"wordDivider",null),t}(_.o);(0,l.H)("BABYLON.GUI.TextBlock",h)},92155:(e,t,o)=>{o.d(t,{O:()=>i});var n=o(31191),i=function(){function e(){}return Object.defineProperty(e.prototype,"text",{get:function(){return this._characters?this._characters.join(""):this._text},set:function(e){this._text=e,this._characters=Array.from&&Array.from(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._characters?this._characters.length:this._text.length},enumerable:!1,configurable:!0}),e.prototype.removePart=function(e,t,o){var i;if(this._text=this._text.slice(0,e)+(o||"")+this._text.slice(t),this._characters){var a=o?Array.from(o):[];(i=this._characters).splice.apply(i,(0,n.ev)([e,t-e],a,!1))}},e.prototype.charAt=function(e){return this._characters?this._characters[e]:this._text.charAt(e)},e.prototype.substr=function(e,t){if(this._characters){e=isNaN(e)?0:e>=0?Math.min(e,this._characters.length):this._characters.length+Math.max(e,-this._characters.length),void 0===t?t=this._characters.length-e:(isNaN(t)||t<0)&&(t=0);for(var o=[];--t>=0;)o[t]=this._characters[e+t];return o.join("")}return this._text.substr(e,t)},e.prototype.substring=function(e,t){if(this._characters){isNaN(e)?e=0:e>this._characters.length?e=this._characters.length:e<0&&(e=0),void 0===t?t=this._characters.length:isNaN(t)?t=0:t>this._characters.length?t=this._characters.length:t<0&&(t=0);for(var o=[],n=0;e<t;)o[n++]=this._characters[e++];return o.join("")}return this._text.substring(e,t)},e.prototype.isWord=function(e){var t=/\w/g;return this._characters?-1!==this._characters[e].search(t):-1!==this._text.search(t)},e}()},40623:(e,t,o)=>{o.d(t,{C:()=>_});var n=o(31191),i=o(62897),a=o(1545),r=o(48620),_=function(e){function t(t,o){var n=e.call(this,t)||this;n.name=t,n.onIsActiveChangedObservable=new i.y$,n.delegatePickingToChildren=!1,n._isActive=!1,n.group=null!=o?o:"",n.thickness=0,n.isPointerBlocker=!0;var a=null;return n.toActiveAnimation=function(){n.thickness=1},n.toInactiveAnimation=function(){n.thickness=0},n.pointerEnterActiveAnimation=function(){a=n.alpha,n.alpha-=.1},n.pointerOutActiveAnimation=function(){null!==a&&(n.alpha=a)},n.pointerDownActiveAnimation=function(){n.scaleX-=.05,n.scaleY-=.05},n.pointerUpActiveAnimation=function(){n.scaleX+=.05,n.scaleY+=.05},n.pointerEnterInactiveAnimation=function(){a=n.alpha,n.alpha-=.1},n.pointerOutInactiveAnimation=function(){null!==a&&(n.alpha=a)},n.pointerDownInactiveAnimation=function(){n.scaleX-=.05,n.scaleY-=.05},n.pointerUpInactiveAnimation=function(){n.scaleX+=.05,n.scaleY+=.05},n}return(0,n.ZT)(t,e),Object.defineProperty(t.prototype,"group",{get:function(){return this._group},set:function(e){this._group!==e&&(this._group=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},set:function(e){var t,o,n=this;this._isActive!==e&&(this._isActive=e,this._isActive?null===(t=this.toActiveAnimation)||void 0===t||t.call(this):null===(o=this.toInactiveAnimation)||void 0===o||o.call(this),this._markAsDirty(),this.onIsActiveChangedObservable.notifyObservers(e),this._isActive&&this._host&&this._group&&this._host.executeOnAllControls((function(e){if("ToggleButton"===e.typeName){if(e===n)return;var t=e;t.group===n.group&&(t.isActive=!1)}})))},enumerable:!1,configurable:!0}),t.prototype._getTypeName=function(){return"ToggleButton"},t.prototype._processPicking=function(t,o,n,i,a,r,_,l){if(!this._isEnabled||!this.isHitTestVisible||!this.isVisible||this.notRenderable)return!1;if(!e.prototype.contains.call(this,t,o))return!1;if(this.delegatePickingToChildren){for(var s=!1,c=this._children.length-1;c>=0;c--){var h=this._children[c];if(h.isEnabled&&h.isHitTestVisible&&h.isVisible&&!h.notRenderable&&h.contains(t,o)){s=!0;break}}if(!s)return!1}return this._processObservables(i,t,o,n,a,r,_,l),!0},t.prototype._onPointerEnter=function(t,o){return!!e.prototype._onPointerEnter.call(this,t,o)&&(this.isReadOnly||(this._isActive?this.pointerEnterActiveAnimation&&this.pointerEnterActiveAnimation():this.pointerEnterInactiveAnimation&&this.pointerEnterInactiveAnimation()),!0)},t.prototype._onPointerOut=function(t,o,n){void 0===n&&(n=!1),this.isReadOnly||(this._isActive?this.pointerOutActiveAnimation&&this.pointerOutActiveAnimation():this.pointerOutInactiveAnimation&&this.pointerOutInactiveAnimation()),e.prototype._onPointerOut.call(this,t,o,n)},t.prototype._onPointerDown=function(t,o,n,i,a){return!!e.prototype._onPointerDown.call(this,t,o,n,i,a)&&(this.isReadOnly||(this._isActive?this.pointerDownActiveAnimation&&this.pointerDownActiveAnimation():this.pointerDownInactiveAnimation&&this.pointerDownInactiveAnimation()),!0)},t.prototype._onPointerUp=function(t,o,n,i,a,r){this.isReadOnly||(this._isActive?this.pointerUpActiveAnimation&&this.pointerUpActiveAnimation():this.pointerUpInactiveAnimation&&this.pointerUpInactiveAnimation()),e.prototype._onPointerUp.call(this,t,o,n,i,a,r)},t}(a.A);(0,r.H)("BABYLON.GUI.ToggleButton",_)},89937:(e,t,o)=>{o.d(t,{c:()=>l,w:()=>s});var n=o(31191),i=o(62897),a=o(99938),r=o(98808),_=o(48620),l=function(){},s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onKeyPressObservable=new i.y$,t.defaultButtonWidth="40px",t.defaultButtonHeight="40px",t.defaultButtonPaddingLeft="2px",t.defaultButtonPaddingRight="2px",t.defaultButtonPaddingTop="2px",t.defaultButtonPaddingBottom="2px",t.defaultButtonColor="#DDD",t.defaultButtonBackground="#070707",t.shiftButtonColor="#7799FF",t.selectedShiftThickness=1,t.shiftState=0,t._currentlyConnectedInputText=null,t._connectedInputTexts=[],t._onKeyPressObserver=null,t}return(0,n.ZT)(t,e),t.prototype._getTypeName=function(){return"VirtualKeyboard"},t.prototype._createKey=function(e,t){var o=this,n=r.z.CreateSimpleButton(e,e);return n.width=t&&t.width?t.width:this.defaultButtonWidth,n.height=t&&t.height?t.height:this.defaultButtonHeight,n.color=t&&t.color?t.color:this.defaultButtonColor,n.background=t&&t.background?t.background:this.defaultButtonBackground,n.paddingLeft=t&&t.paddingLeft?t.paddingLeft:this.defaultButtonPaddingLeft,n.paddingRight=t&&t.paddingRight?t.paddingRight:this.defaultButtonPaddingRight,n.paddingTop=t&&t.paddingTop?t.paddingTop:this.defaultButtonPaddingTop,n.paddingBottom=t&&t.paddingBottom?t.paddingBottom:this.defaultButtonPaddingBottom,n.thickness=0,n.isFocusInvisible=!0,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur,n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.onPointerUpObservable.add((function(){o.onKeyPressObservable.notifyObservers(e)})),n},t.prototype.addKeysRow=function(e,t){var o=new a.e;o.isVertical=!1,o.isFocusInvisible=!0;for(var n=null,i=0;i<e.length;i++){var r=null;t&&t.length===e.length&&(r=t[i]);var _=this._createKey(e[i],r);(!n||_.heightInPixels>n.heightInPixels)&&(n=_),o.addControl(_)}o.height=n?n.height:this.defaultButtonHeight,this.addControl(o)},t.prototype.applyShiftState=function(e){if(this.children)for(var t=0;t<this.children.length;t++){var o=this.children[t];if(o&&o.children)for(var n=o,i=0;i<n.children.length;i++){var a=n.children[i];if(a&&a.children[0]){var r=a.children[0];"\u21e7"===r.text&&(a.color=e?this.shiftButtonColor:this.defaultButtonColor,a.thickness=e>1?this.selectedShiftThickness:0),r.text=e>0?r.text.toUpperCase():r.text.toLowerCase()}}}},Object.defineProperty(t.prototype,"connectedInputText",{get:function(){return this._currentlyConnectedInputText},enumerable:!1,configurable:!0}),t.prototype.connect=function(e){var t=this;if(!this._connectedInputTexts.some((function(t){return t.input===e}))){null===this._onKeyPressObserver&&(this._onKeyPressObserver=this.onKeyPressObservable.add((function(e){if(t._currentlyConnectedInputText){switch(t._currentlyConnectedInputText._host.focusedControl=t._currentlyConnectedInputText,e){case"\u21e7":return t.shiftState++,t.shiftState>2&&(t.shiftState=0),void t.applyShiftState(t.shiftState);case"\u2190":return void t._currentlyConnectedInputText.processKey(8);case"\u21b5":return void t._currentlyConnectedInputText.processKey(13)}t._currentlyConnectedInputText.processKey(-1,t.shiftState?e.toUpperCase():e),1===t.shiftState&&(t.shiftState=0,t.applyShiftState(t.shiftState))}}))),this.isVisible=!1,this._currentlyConnectedInputText=e,e._connectedVirtualKeyboard=this;var o=e.onFocusObservable.add((function(){t._currentlyConnectedInputText=e,e._connectedVirtualKeyboard=t,t.isVisible=!0})),n=e.onBlurObservable.add((function(){e._connectedVirtualKeyboard=null,t._currentlyConnectedInputText=null,t.isVisible=!1}));this._connectedInputTexts.push({input:e,onBlurObserver:n,onFocusObserver:o})}},t.prototype.disconnect=function(e){var t=this;if(e){var o=this._connectedInputTexts.filter((function(t){return t.input===e}));1===o.length&&(this._removeConnectedInputObservables(o[0]),this._connectedInputTexts=this._connectedInputTexts.filter((function(t){return t.input!==e})),this._currentlyConnectedInputText===e&&(this._currentlyConnectedInputText=null))}else this._connectedInputTexts.forEach((function(e){t._removeConnectedInputObservables(e)})),this._connectedInputTexts=[];0===this._connectedInputTexts.length&&(this._currentlyConnectedInputText=null,this.onKeyPressObservable.remove(this._onKeyPressObserver),this._onKeyPressObserver=null)},t.prototype._removeConnectedInputObservables=function(e){e.input._connectedVirtualKeyboard=null,e.input.onFocusObservable.remove(e.onFocusObserver),e.input.onBlurObservable.remove(e.onBlurObserver)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disconnect()},t.CreateDefaultLayout=function(e){var o=new t(e);return o.addKeysRow(["1","2","3","4","5","6","7","8","9","0","\u2190"]),o.addKeysRow(["q","w","e","r","t","y","u","i","o","p"]),o.addKeysRow(["a","s","d","f","g","h","j","k","l",";","'","\u21b5"]),o.addKeysRow(["\u21e7","z","x","c","v","b","n","m",",",".","/"]),o.addKeysRow([" "],[{width:"200px"}]),o},t.prototype._parseFromContent=function(t,o){var n=this;e.prototype._parseFromContent.call(this,t,o);for(var i=0,a=this.children;i<a.length;i++){var r=a[i];if("StackPanel"===r.getClassName())for(var _=function(e){"Button"===e.getClassName()&&e.name&&e.onPointerUpObservable.add((function(){n.onKeyPressObservable.notifyObservers(e.name)}))},l=0,s=r.children;l<s.length;l++){_(s[l])}}},t}(a.e);(0,_.H)("BABYLON.GUI.VirtualKeyboard",s)},89320:(e,t,o)=>{o.d(t,{G:()=>_,N:()=>r});var n=o(31191),i=o(58095),a=o(48154),r=function(e){function t(t,o){void 0===o&&(o=0);var n=e.call(this,t.x,t.y)||this;return n.buttonIndex=o,n}return(0,n.ZT)(t,e),t}(i.FM),_=function(){function e(e,t,o,n,i,a){this.m=new Float32Array(6),this.fromValues(e,t,o,n,i,a)}return e.prototype.fromValues=function(e,t,o,n,i,a){return this.m[0]=e,this.m[1]=t,this.m[2]=o,this.m[3]=n,this.m[4]=i,this.m[5]=a,this},e.prototype.determinant=function(){return this.m[0]*this.m[3]-this.m[1]*this.m[2]},e.prototype.invertToRef=function(e){var t=this.m[0],o=this.m[1],n=this.m[2],i=this.m[3],r=this.m[4],_=this.m[5],l=this.determinant();if(l<a.kn*a.kn)return e.m[0]=0,e.m[1]=0,e.m[2]=0,e.m[3]=0,e.m[4]=0,e.m[5]=0,this;var s=1/l,c=n*_-i*r,h=o*r-t*_;return e.m[0]=i*s,e.m[1]=-o*s,e.m[2]=-n*s,e.m[3]=t*s,e.m[4]=c*s,e.m[5]=h*s,this},e.prototype.multiplyToRef=function(e,t){var o=this.m[0],n=this.m[1],i=this.m[2],a=this.m[3],r=this.m[4],_=this.m[5],l=e.m[0],s=e.m[1],c=e.m[2],h=e.m[3],d=e.m[4],f=e.m[5];return t.m[0]=o*l+n*c,t.m[1]=o*s+n*h,t.m[2]=i*l+a*c,t.m[3]=i*s+a*h,t.m[4]=r*l+_*c+d,t.m[5]=r*s+_*h+f,this},e.prototype.transformCoordinates=function(e,t,o){return o.x=e*this.m[0]+t*this.m[2]+this.m[4],o.y=e*this.m[1]+t*this.m[3]+this.m[5],this},e.Identity=function(){return new e(1,0,0,1,0,0)},e.IdentityToRef=function(e){e.m[0]=1,e.m[1]=0,e.m[2]=0,e.m[3]=1,e.m[4]=0,e.m[5]=0},e.TranslationToRef=function(e,t,o){o.fromValues(1,0,0,1,e,t)},e.ScalingToRef=function(e,t,o){o.fromValues(e,0,0,t,0,0)},e.RotationToRef=function(e,t){var o=Math.sin(e),n=Math.cos(e);t.fromValues(n,o,-o,n,0,0)},e.ComposeToRef=function(t,o,n,i,a,r,_){e.TranslationToRef(t,o,e._TempPreTranslationMatrix),e.ScalingToRef(i,a,e._TempScalingMatrix),e.RotationToRef(n,e._TempRotationMatrix),e.TranslationToRef(-t,-o,e._TempPostTranslationMatrix),e._TempPreTranslationMatrix.multiplyToRef(e._TempScalingMatrix,e._TempCompose0),e._TempCompose0.multiplyToRef(e._TempRotationMatrix,e._TempCompose1),r?(e._TempCompose1.multiplyToRef(e._TempPostTranslationMatrix,e._TempCompose2),e._TempCompose2.multiplyToRef(r,_)):e._TempCompose1.multiplyToRef(e._TempPostTranslationMatrix,_)},e._TempPreTranslationMatrix=e.Identity(),e._TempPostTranslationMatrix=e.Identity(),e._TempRotationMatrix=e.Identity(),e._TempScalingMatrix=e.Identity(),e._TempCompose0=e.Identity(),e._TempCompose1=e.Identity(),e._TempCompose2=e.Identity(),e}()},42238:(e,t,o)=>{o.d(t,{U:()=>l});var n=o(58095),i=[new n.FM(0,0),new n.FM(0,0),new n.FM(0,0),new n.FM(0,0)],a=[new n.FM(0,0),new n.FM(0,0),new n.FM(0,0),new n.FM(0,0)],r=new n.FM(0,0),_=new n.FM(0,0),l=function(){function e(e,t,o,n){this.left=e,this.top=t,this.width=o,this.height=n}return e.prototype.copyFrom=function(e){this.left=e.left,this.top=e.top,this.width=e.width,this.height=e.height},e.prototype.copyFromFloats=function(e,t,o,n){this.left=e,this.top=t,this.width=o,this.height=n},e.CombineToRef=function(e,t,o){var n=Math.min(e.left,t.left),i=Math.min(e.top,t.top),a=Math.max(e.left+e.width,t.left+t.width),r=Math.max(e.top+e.height,t.top+t.height);o.left=n,o.top=i,o.width=a-n,o.height=r-i},e.prototype.addAndTransformToRef=function(e,t,o,n,l,s){var c=this.left+t,h=this.top+o,d=this.width+n,f=this.height+l;i[0].copyFromFloats(c,h),i[1].copyFromFloats(c+d,h),i[2].copyFromFloats(c+d,h+f),i[3].copyFromFloats(c,h+f),r.copyFromFloats(Number.MAX_VALUE,Number.MAX_VALUE),_.copyFromFloats(0,0);for(var u=0;u<4;u++)e.transformCoordinates(i[u].x,i[u].y,a[u]),r.x=Math.floor(Math.min(r.x,a[u].x)),r.y=Math.floor(Math.min(r.y,a[u].y)),_.x=Math.ceil(Math.max(_.x,a[u].x)),_.y=Math.ceil(Math.max(_.y,a[u].y));s.left=r.x,s.top=r.y,s.width=_.x-r.x,s.height=_.y-r.y},e.prototype.transformToRef=function(e,t){this.addAndTransformToRef(e,0,0,0,0,t)},e.prototype.isEqualsTo=function(e){return this.left===e.left&&(this.top===e.top&&(this.width===e.width&&this.height===e.height))},e.Empty=function(){return new e(0,0,0,0)},e}()},49083:(e,t,o)=>{o.d(t,{s:()=>r});var n=o(58095),i=o(48154),a=o(55905),r=function(){function e(e){this._multiLine=e,this._x=new a.s(0),this._y=new a.s(0),this._point=new n.P(0,0,0)}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x.toString(this._multiLine._host)},set:function(e){this._x.toString(this._multiLine._host)!==e&&this._x.fromString(e)&&this._multiLine._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y.toString(this._multiLine._host)},set:function(e){this._y.toString(this._multiLine._host)!==e&&this._y.fromString(e)&&this._multiLine._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this._control},set:function(e){this._control!==e&&(this._control&&this._controlObserver&&(this._control.onDirtyObservable.remove(this._controlObserver),this._controlObserver=null),this._control=e,this._control&&(this._controlObserver=this._control.onDirtyObservable.add(this._multiLine.onPointUpdate)),this._multiLine._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mesh",{get:function(){return this._mesh},set:function(e){this._mesh!==e&&(this._mesh&&this._meshObserver&&this._mesh.getScene().onAfterCameraRenderObservable.remove(this._meshObserver),this._mesh=e,this._mesh&&(this._meshObserver=this._mesh.getScene().onAfterCameraRenderObservable.add(this._multiLine.onPointUpdate)),this._multiLine._markAsDirty())},enumerable:!1,configurable:!0}),e.prototype.resetLinks=function(){this.control=null,this.mesh=null},e.prototype.translate=function(){return this._point=this._translatePoint(),this._point},e.prototype._translatePoint=function(){if(null!=this._mesh)return this._multiLine._host.getProjectedPositionWithZ(this._mesh.getBoundingInfo().boundingSphere.center,this._mesh.getWorldMatrix());if(null!=this._control)return new n.P(this._control.centerX,this._control.centerY,1-i.kn);var e=this._multiLine._host,t=this._x.getValueInPixel(e,Number(e._canvas.width)),o=this._y.getValueInPixel(e,Number(e._canvas.height));return new n.P(t,o,1-i.kn)},e.prototype.dispose=function(){this.resetLinks()},e}()},79804:(e,t,o)=>{o.d(t,{b:()=>a});var n=o(62897),i=o(55905),a=function(){function e(e){this._fontFamily="Arial",this._fontStyle="",this._fontWeight="",this._fontSize=new i.s(18,i.s.UNITMODE_PIXEL,!1),this.onChangedObservable=new n.y$,this._host=e}return Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize.toString(this._host)},set:function(e){this._fontSize.toString(this._host)!==e&&this._fontSize.fromString(e)&&this.onChangedObservable.notifyObservers(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.onChangedObservable.notifyObservers(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.onChangedObservable.notifyObservers(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.onChangedObservable.notifyObservers(this))},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.onChangedObservable.clear()},e}()},55905:(e,t,o)=>{o.d(t,{s:()=>i});var n=o(62897),i=function(){function e(t,o,i){void 0===o&&(o=e.UNITMODE_PIXEL),void 0===i&&(i=!0),this.negativeValueAllowed=i,this._value=1,this._unit=e.UNITMODE_PIXEL,this.ignoreAdaptiveScaling=!1,this.onChangedObservable=new n.y$,this._value=t,this._unit=o,this._originalUnit=o}return Object.defineProperty(e.prototype,"isPercentage",{get:function(){return this._unit===e.UNITMODE_PERCENTAGE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPixel",{get:function(){return this._unit===e.UNITMODE_PIXEL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"internalValue",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e!==this._value&&(this._value=e,this.onChangedObservable.notifyObservers())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unit",{get:function(){return this._unit},set:function(e){e!==this._unit&&(this._unit=e,this.onChangedObservable.notifyObservers())},enumerable:!1,configurable:!0}),e.prototype.getValueInPixel=function(e,t){return this.isPixel?this.getValue(e):this.getValue(e)*t},e.prototype.updateInPlace=function(t,o){return void 0===o&&(o=e.UNITMODE_PIXEL),this.value===t&&this.unit===o||(this._value=t,this._unit=o,this.onChangedObservable.notifyObservers()),this},e.prototype.getValue=function(t){if(t&&!this.ignoreAdaptiveScaling&&this.unit!==e.UNITMODE_PERCENTAGE){var o=0,n=0;if(t.idealWidth&&(o=this._value*t.getSize().width/t.idealWidth),t.idealHeight&&(n=this._value*t.getSize().height/t.idealHeight),t.useSmallestIdeal&&t.idealWidth&&t.idealHeight)return window.innerWidth<window.innerHeight?o:n;if(t.idealWidth)return o;if(t.idealHeight)return n}return this._value},e.prototype.toString=function(t,o){switch(this._unit){case e.UNITMODE_PERCENTAGE:var n=100*this.getValue(t);return(o?n.toFixed(o):n)+"%";case e.UNITMODE_PIXEL:var i=this.getValue(t);return(o?i.toFixed(o):i)+"px"}return this._unit.toString()},e.prototype.fromString=function(t){var o=e._Regex.exec(t.toString());if(!o||0===o.length)return!1;var n=parseFloat(o[1]),i=this._originalUnit;if(this.negativeValueAllowed||n<0&&(n=0),4===o.length)switch(o[3]){case"px":i=e.UNITMODE_PIXEL;break;case"%":i=e.UNITMODE_PERCENTAGE,n/=100}return(n!==this._value||i!==this._unit)&&(this._value=n,this._unit=i,this.onChangedObservable.notifyObservers(),!0)},Object.defineProperty(e,"UNITMODE_PERCENTAGE",{get:function(){return e._UNITMODE_PERCENTAGE},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UNITMODE_PIXEL",{get:function(){return e._UNITMODE_PIXEL},enumerable:!1,configurable:!0}),e._Regex=/(^-?\d*(\.\d+)?)(%|px)?/,e._UNITMODE_PERCENTAGE=0,e._UNITMODE_PIXEL=1,e}()},17217:(e,t,o)=>{o.r(t),o.d(t,{AbstractButton3D:()=>R,AdvancedDynamicTexture:()=>i.i,AdvancedDynamicTextureInstrumentation:()=>a.k,BaseSlider:()=>n.yh,Button:()=>n.zx,Button3D:()=>I,Checkbox:()=>n.XZ,CheckboxGroup:()=>n.cO,ColorPicker:()=>n.zH,Container:()=>n.W2,Container3D:()=>F,Control:()=>n.oT,Control3D:()=>B,CornerHandle:()=>Re,CylinderPanel:()=>L,DisplayGrid:()=>n.KY,Ellipse:()=>n.Pj,FluentBackplateMaterial:()=>Fe,FluentButtonMaterial:()=>ne,FluentMaterial:()=>q,FluentMaterialDefines:()=>U,FocusableButton:()=>n.wl,GUI3DManager:()=>st,GizmoHandle:()=>Pe,Grid:()=>n.rj,HandMenu:()=>Ve,HandleMaterial:()=>ye,HandleState:()=>ge,HolographicBackplate:()=>at,HolographicButton:()=>K,HolographicSlate:()=>De,Image:()=>n.Ee,ImageBasedSlider:()=>n.MX,ImageScrollBar:()=>n.TO,InputPassword:()=>n.CM,InputText:()=>n.oH,KeyPropertySet:()=>n.ck,Line:()=>n.x1,MRDLBackplateMaterial:()=>et,MRDLSliderBarMaterial:()=>qe,MRDLSliderThumbMaterial:()=>Ze,Matrix2D:()=>r.G,Measure:()=>_.U,MeshButton3D:()=>Ae,MultiLine:()=>n.g6,MultiLinePoint:()=>l.s,NearMenu:()=>ze,PlanePanel:()=>Ge,RadioButton:()=>n.EU,RadioGroup:()=>n.FX,Rectangle:()=>n.Ae,ScatterPanel:()=>We,ScrollBar:()=>n.Bl,ScrollViewer:()=>n.am,SelectionPanel:()=>n.Mr,SelectorGroup:()=>n.pd,SideHandle:()=>xe,SlateGizmo:()=>Se,Slider:()=>n.iR,Slider3D:()=>tt,SliderGroup:()=>n.C7,SpherePanel:()=>ot,StackPanel:()=>n.eL,StackPanel3D:()=>nt,Style:()=>s.b,TextBlock:()=>n.al,TextWrapper:()=>n.OP,TextWrapping:()=>n.iT,ToggleButton:()=>n.CO,TouchButton3D:()=>ie,TouchHolographicButton:()=>_e,TouchHolographicMenu:()=>Oe,TouchMeshButton3D:()=>it,ValueAndUnit:()=>c.s,Vector2WithInfo:()=>r.N,Vector3WithInfo:()=>y,VirtualKeyboard:()=>n.w4,VolumeBasedPanel:()=>E,XmlLoader:()=>u,name:()=>n.u2});var n=o(26845),i=o(33703),a=o(14335),r=o(89320),_=o(42238),l=o(49083),s=o(79804),c=o(55905),h=o(31191),d=o(48620),f="XmlLoader Exception : XML file is malformed or corrupted.",u=function(){function e(e){void 0===e&&(e=null),this._nodes={},this._nodeTypes={element:1,attribute:2,text:3},this._isLoaded=!1,this._objectAttributes={textHorizontalAlignment:1,textVerticalAlignment:2,horizontalAlignment:3,verticalAlignment:4,stretch:5},e&&(this._parentClass=e)}return e.prototype._getChainElement=function(e){var t=window;this._parentClass&&(t=this._parentClass);var o=e;o=o.split(".");for(var n=0;n<o.length;n++)t=t[o[n]];return t},e.prototype._getClassAttribute=function(e){var t=e.split(".");return(0,d.q)("BABYLON.GUI."+t[0])[t[1]]},e.prototype._createGuiElement=function(e,t,o){void 0===o&&(o=!0);try{var n=new((0,d.q)("BABYLON.GUI."+e.nodeName));t&&o&&t.addControl(n);for(var i=0;i<e.attributes.length;i++)if(!e.attributes[i].name.toLowerCase().includes("datasource"))if(e.attributes[i].name.toLowerCase().includes("observable")){var a=this._getChainElement(e.attributes[i].value);n[e.attributes[i].name].add(a)}else if("linkWithMesh"==e.attributes[i].name)this._parentClass?n.linkWithMesh(this._parentClass[e.attributes[i].value]):n.linkWithMesh(window[e.attributes[i].value]);else if(e.attributes[i].value.startsWith("{{")&&e.attributes[i].value.endsWith("}}")){a=this._getChainElement(e.attributes[i].value.substring(2,e.attributes[i].value.length-2));n[e.attributes[i].name]=a}else this._objectAttributes[e.attributes[i].name]?n[e.attributes[i].name]=this._getClassAttribute(e.attributes[i].value):"true"==e.attributes[i].value||"false"==e.attributes[i].value?n[e.attributes[i].name]="true"==e.attributes[i].value:n[e.attributes[i].name]=isNaN(Number(e.attributes[i].value))?e.attributes[i].value:Number(e.attributes[i].value);if(!e.attributes.getNamedItem("id"))return this._nodes[e.nodeName+Object.keys(this._nodes).length+"_gen"]=n,n;var r=e.attributes.getNamedItem("id").value;if(r.startsWith("{{")&&r.endsWith("}}")&&(r=this._getChainElement(r.substring(2,r.length-2))),this._nodes[r])throw"XmlLoader Exception : Duplicate ID, every element should have an unique ID attribute";return this._nodes[r]=n,n}catch(t){throw"XmlLoader Exception : Error parsing Control "+e.nodeName+","+t+"."}},e.prototype._parseGrid=function(e,t,o){for(var n,i,a,r,_,l=e.children,s=!1,c=-1,h=-1,d=0,f=0;f<l.length;f++)if(l[f].nodeType==this._nodeTypes.element){if("Row"!=l[f].nodeName)throw"XmlLoader Exception : Expecting Row node, received "+l[f].nodeName;if(c+=1,a=l[f].children,!l[f].attributes.getNamedItem("height"))throw"XmlLoader Exception : Height must be defined for grid rows";i=Number(l[f].attributes.getNamedItem("height").nodeValue),s=!!l[f].attributes.getNamedItem("isPixel")&&JSON.parse(l[f].attributes.getNamedItem("isPixel").nodeValue),t.addRowDefinition(i,s);for(var u=0;u<a.length;u++)if(a[u].nodeType==this._nodeTypes.element){if("Column"!=a[u].nodeName)throw"XmlLoader Exception : Expecting Column node, received "+a[u].nodeName;if(h+=1,c>0&&h>d)throw"XmlLoader Exception : In the Grid element, the number of columns is defined in the first row, do not add more columns in the subsequent rows.";if(0==c){if(!a[u].attributes.getNamedItem("width"))throw"XmlLoader Exception : Width must be defined for all the grid columns in the first row";n=Number(a[u].attributes.getNamedItem("width").nodeValue),s=!!a[u].attributes.getNamedItem("isPixel")&&JSON.parse(a[u].attributes.getNamedItem("isPixel").nodeValue),t.addColumnDefinition(n,s)}r=a[u].children;for(var v=0;v<r.length;v++)r[v].nodeType==this._nodeTypes.element&&(_=this._createGuiElement(r[v],t,!1),t.addControl(_,c,h),r[v].firstChild&&this._parseXml(r[v].firstChild,_))}0==c&&(d=h),h=-1}e.nextSibling&&this._parseXml(e.nextSibling,o)},e.prototype._parseElement=function(e,t,o){e.firstChild&&this._parseXml(e.firstChild,t),e.nextSibling&&this._parseXml(e.nextSibling,o)},e.prototype._prepareSourceElement=function(e,t,o,n,i){this._parentClass?this._parentClass[o]=n[i]:window[o]=n[i],e.firstChild&&this._parseXml(e.firstChild,t,!0)},e.prototype._parseElementsFromSource=function(e,t,o){var n=e.attributes.getNamedItem("dataSource").value;if(!n.includes(" in "))throw"XmlLoader Exception : Malformed XML, Data Source must include an in";var i=!0,a=n.split(" in ");if(a.length<2)throw"XmlLoader Exception : Malformed XML, Data Source must have an iterator and a source";var r=a[1];if(r.startsWith("{")&&r.endsWith("}")&&(i=!1),(!i||r.startsWith("[")&&r.endsWith("]"))&&(r=r.substring(1,r.length-1)),r=this._parentClass?this._parentClass[r]:window[r],i)for(var _=0;_<r.length;_++)this._prepareSourceElement(e,t,a[0],r,_);else for(var _ in r)this._prepareSourceElement(e,t,a[0],r,_);e.nextSibling&&this._parseXml(e.nextSibling,o)},e.prototype._parseXml=function(e,t,o){if(void 0===o&&(o=!1),e.nodeType==this._nodeTypes.element){o&&e.setAttribute("id",t.id+(t._children.length+1));var n=this._createGuiElement(e,t);this._rootNode||(this._rootNode=n),"Grid"==e.nodeName?this._parseGrid(e,n,t):e.attributes.getNamedItem("dataSource")?this._parseElementsFromSource(e,n,t):this._parseElement(e,n,t)}else e.nextSibling&&this._parseXml(e.nextSibling,t,o)},e.prototype.isLoaded=function(){return this._isLoaded},e.prototype.getNodeById=function(e){return this._nodes[e]},e.prototype.getNodes=function(){return this._nodes},e.prototype.dispose=function(){this._rootNode&&(this._rootNode.dispose(),this._rootNode=null,this._nodes={})},e.prototype.loadLayout=function(e,t,o,n){var i=this;void 0===o&&(o=null),void 0===n&&(n=null);var a=new XMLHttpRequest;a.onload=function(){if(4===a.readyState&&200===a.status){if(!a.responseXML){if(n)return void n(f);throw f}var e=a.responseXML.documentElement;i._parseXml(e.firstChild,t),i._isLoaded=!0,o&&o()}},a.onerror=function(){n&&n("an error occurred during loading the layout")},a.open("GET",e,!0),a.send()},e.prototype.loadLayoutAsync=function(e,t){return(0,h.mG)(this,void 0,void 0,(function(){var o=this;return(0,h.Jh)(this,(function(n){return[2,new Promise((function(n,i){o.loadLayout(e,t,n,i)}))]}))}))},e}(),v=o(30700),p=o(62897),m=o(58095),b=o(76324),g=o(71419),y=function(e){function t(t,o){void 0===o&&(o=0);var n=e.call(this,t.x,t.y,t.z)||this;return n.buttonIndex=o,n}return(0,h.ZT)(t,e),t}(m.P),B=function(){function e(e){this.name=e,this._downCount=0,this._enterCount=-1,this._downPointerIds={},this._isVisible=!0,this._isScaledByManager=!1,this.onPointerMoveObservable=new p.y$,this.onPointerOutObservable=new p.y$,this.onPointerDownObservable=new p.y$,this.onPointerUpObservable=new p.y$,this.onPointerClickObservable=new p.y$,this.onPointerEnterObservable=new p.y$,this._behaviors=new Array}return Object.defineProperty(e.prototype,"position",{get:function(){return this._node?this._node.position:m.P.Zero()},set:function(e){this._node&&(this._node.position=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaling",{get:function(){return this._node?this._node.scaling:new m.P(1,1,1)},set:function(e){this._node&&(this._isScaledByManager=!1,this._node.scaling=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"behaviors",{get:function(){return this._behaviors},enumerable:!1,configurable:!0}),e.prototype.addBehavior=function(e){var t=this;if(-1!==this._behaviors.indexOf(e))return this;e.init();var o=this._host.scene;return o.isLoading?o.onDataLoadedObservable.addOnce((function(){e.attach(t)})):e.attach(this),this._behaviors.push(e),this},e.prototype.removeBehavior=function(e){var t=this._behaviors.indexOf(e);return-1===t||(this._behaviors[t].detach(),this._behaviors.splice(t,1)),this},e.prototype.getBehaviorByName=function(e){for(var t=0,o=this._behaviors;t<o.length;t++){var n=o[t];if(n.name===e)return n}return null},Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){if(this._isVisible!==e){this._isVisible=e;var t=this.mesh;t&&t.setEnabled(e)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeName",{get:function(){return this._getTypeName()},enumerable:!1,configurable:!0}),e.prototype.getClassName=function(){return this._getTypeName()},e.prototype._getTypeName=function(){return"Control3D"},Object.defineProperty(e.prototype,"node",{get:function(){return this._node},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mesh",{get:function(){return this._node instanceof g.x?this._node:null},enumerable:!1,configurable:!0}),e.prototype.linkToTransformNode=function(e){return this._node&&(this._node.parent=e),this},e.prototype._prepareNode=function(e){if(!this._node){if(this._node=this._createNode(e),!this.node)return;this._injectGUI3DReservedDataStore(this.node).control=this;var t=this.mesh;t&&(t.isPickable=!0,this._affectMaterial(t))}},e.prototype._injectGUI3DReservedDataStore=function(e){var t,o;return e.reservedDataStore=null!==(t=e.reservedDataStore)&&void 0!==t?t:{},e.reservedDataStore.GUI3D=null!==(o=e.reservedDataStore.GUI3D)&&void 0!==o?o:{},e.reservedDataStore.GUI3D},e.prototype._createNode=function(e){return null},e.prototype._affectMaterial=function(e){e.material=null},e.prototype._isTouchButton3D=function(e){return void 0!==e._generatePointerEventType},e.prototype._onPointerMove=function(e,t){this.onPointerMoveObservable.notifyObservers(t,-1,e,this)},e.prototype._onPointerEnter=function(e){return-1===this._enterCount&&(this._enterCount=0),this._enterCount++,!(this._enterCount>1)&&(this.onPointerEnterObservable.notifyObservers(this,-1,e,this),this.pointerEnterAnimation&&this.pointerEnterAnimation(),!0)},e.prototype._onPointerOut=function(e){this._enterCount--,this._enterCount>0||(this._enterCount=0,this.onPointerOutObservable.notifyObservers(this,-1,e,this),this.pointerOutAnimation&&this.pointerOutAnimation())},e.prototype._onPointerDown=function(e,t,o,n){return this._downCount++,this._downPointerIds[o]=this._downPointerIds[o]+1||1,1===this._downCount&&(this.onPointerDownObservable.notifyObservers(new y(t,n),-1,e,this),this.pointerDownAnimation&&this.pointerDownAnimation(),!0)},e.prototype._onPointerUp=function(e,t,o,n,i){this._downCount--,this._downPointerIds[o]--,this._downPointerIds[o]<=0&&delete this._downPointerIds[o],this._downCount<0?this._downCount=0:0==this._downCount&&(i&&(this._enterCount>0||-1===this._enterCount)&&this.onPointerClickObservable.notifyObservers(new y(t,n),-1,e,this),this.onPointerUpObservable.notifyObservers(new y(t,n),-1,e,this),this.pointerUpAnimation&&this.pointerUpAnimation())},e.prototype.forcePointerUp=function(e){if(void 0===e&&(e=null),null!==e)this._onPointerUp(this,m.P.Zero(),e,0,!0);else{for(var t in this._downPointerIds)this._onPointerUp(this,m.P.Zero(),+t,0,!0);this._downCount>0&&(this._downCount=1,this._onPointerUp(this,m.P.Zero(),0,0,!0))}},e.prototype._processObservables=function(e,t,o,n,i){if(this._isTouchButton3D(this)&&o&&(e=this._generatePointerEventType(e,o,this._downCount)),e===b.kD.POINTERMOVE){this._onPointerMove(this,t);var a=this._host._lastControlOver[n];return a&&a!==this&&a._onPointerOut(this),a!==this&&this._onPointerEnter(this),this._host._lastControlOver[n]=this,!0}return e===b.kD.POINTERDOWN?(this._onPointerDown(this,t,n,i),this._host._lastControlDown[n]=this,this._host._lastPickedControl=this,!0):(e===b.kD.POINTERUP||e===b.kD.POINTERDOUBLETAP)&&(this._host._lastControlDown[n]&&this._host._lastControlDown[n]._onPointerUp(this,t,n,i,!0),delete this._host._lastControlDown[n],!0)},e.prototype._disposeNode=function(){this._node&&(this._node.dispose(),this._node=null)},e.prototype.dispose=function(){this.onPointerDownObservable.clear(),this.onPointerEnterObservable.clear(),this.onPointerMoveObservable.clear(),this.onPointerOutObservable.clear(),this.onPointerUpObservable.clear(),this.onPointerClickObservable.clear(),this._disposeNode();for(var e=0,t=this._behaviors;e<t.length;e++){t[e].detach()}},e}(),P=o(73803),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._contentResolution=512,t._contentScaleRatio=2,t}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(e){this._content=e,e&&this._host&&this._host.utilityLayer&&(this._facadeTexture?this._facadeTexture.rootContainer.clearControls():(this._facadeTexture=new i.i("Facade",this._contentResolution,this._contentResolution,this._host.utilityLayer.utilityLayerScene,!0,P.x.TRILINEAR_SAMPLINGMODE),this._facadeTexture.rootContainer.scaleX=this._contentScaleRatio,this._facadeTexture.rootContainer.scaleY=this._contentScaleRatio,this._facadeTexture.premulAlpha=!0),this._facadeTexture.addControl(e),this._applyFacade(this._facadeTexture))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentResolution",{get:function(){return this._contentResolution},set:function(e){this._contentResolution!==e&&(this._contentResolution=e,this._resetContent())},enumerable:!1,configurable:!0}),t.prototype._disposeFacadeTexture=function(){this._facadeTexture&&(this._facadeTexture.dispose(),this._facadeTexture=null)},t.prototype._resetContent=function(){this._disposeFacadeTexture(),this.content=this._content},t.prototype._applyFacade=function(e){},t}(B),R=function(e){function t(t){return e.call(this,t)||this}return(0,h.ZT)(t,e),t.prototype._getTypeName=function(){return"AbstractButton3D"},t.prototype._createNode=function(e){return new v.Y("button"+this.name,e)},t}(x),S=o(8451),T=o(3085),C=o(15631),I=function(e){function t(t){var o=e.call(this,t)||this;return o.pointerEnterAnimation=function(){o.mesh&&(o._currentMaterial.emissiveColor=C.Wo.Red())},o.pointerOutAnimation=function(){o._currentMaterial.emissiveColor=C.Wo.Black()},o.pointerDownAnimation=function(){o.mesh&&o.mesh.scaling.scaleInPlace(.95)},o.pointerUpAnimation=function(){o.mesh&&o.mesh.scaling.scaleInPlace(1/.95)},o}return(0,h.ZT)(t,e),t.prototype._applyFacade=function(e){this._currentMaterial.emissiveTexture=e},t.prototype._getTypeName=function(){return"Button3D"},t.prototype._createNode=function(e){for(var t=new Array(6),o=0;o<6;o++)t[o]=new m.Lt(0,0,0,0);return e.useRightHandedSystem?t[0].copyFromFloats(1,0,0,1):t[1].copyFromFloats(0,0,1,1),(0,S.NR)(this.name+"_rootMesh",{width:1,height:1,depth:.08,faceUV:t,wrap:!0},e)},t.prototype._affectMaterial=function(e){var t=new T.K(this.name+"Material",e.getScene());t.specularColor=C.Wo.Black(),e.material=t,this._currentMaterial=t,this._resetContent()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._disposeFacadeTexture(),this._currentMaterial&&this._currentMaterial.dispose()},t}(R),F=function(e){function t(t){var o=e.call(this,t)||this;return o._blockLayout=!1,o._children=new Array,o}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blockLayout",{get:function(){return this._blockLayout},set:function(e){this._blockLayout!==e&&(this._blockLayout=e,this._blockLayout||this._arrangeChildren())},enumerable:!1,configurable:!0}),t.prototype.updateLayout=function(){return this._arrangeChildren(),this},t.prototype.containsControl=function(e){return-1!==this._children.indexOf(e)},t.prototype.addControl=function(e){return-1!==this._children.indexOf(e)||(e.parent=this,e._host=this._host,this._children.push(e),this._host.utilityLayer&&(e._prepareNode(this._host.utilityLayer.utilityLayerScene),e.node&&(e.node.parent=this.node),this.blockLayout||this._arrangeChildren())),this},t.prototype._arrangeChildren=function(){},t.prototype._createNode=function(e){return new v.Y("ContainerNode",e)},t.prototype.removeControl=function(e){var t=this._children.indexOf(e);return-1!==t&&(this._children.splice(t,1),e.parent=null,e._disposeNode()),this},t.prototype._getTypeName=function(){return"Container3D"},t.prototype.dispose=function(){for(var t=0,o=this._children;t<o.length;t++){o[t].dispose()}this._children=[],e.prototype.dispose.call(this)},t.UNSET_ORIENTATION=0,t.FACEORIGIN_ORIENTATION=1,t.FACEORIGINREVERSED_ORIENTATION=2,t.FACEFORWARD_ORIENTATION=3,t.FACEFORWARDREVERSED_ORIENTATION=4,t}(B),Q=o(13514),E=function(e){function t(t){var o=e.call(this,t)||this;return o._columns=10,o._rows=0,o._rowThenColum=!0,o._orientation=F.FACEORIGIN_ORIENTATION,o.margin=0,o}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){var t=this;this._orientation!==e&&(this._orientation=e,Q.w1.SetImmediate((function(){t._arrangeChildren()})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns},set:function(e){var t=this;this._columns!==e&&(this._columns=e,this._rowThenColum=!0,Q.w1.SetImmediate((function(){t._arrangeChildren()})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},set:function(e){var t=this;this._rows!==e&&(this._rows=e,this._rowThenColum=!1,Q.w1.SetImmediate((function(){t._arrangeChildren()})))},enumerable:!1,configurable:!0}),t.prototype._arrangeChildren=function(){this._cellWidth=0,this._cellHeight=0;for(var e=0,t=0,o=0,n=m.y3.Invert(this.node.computeWorldMatrix(!0)),i=0,a=this._children;i<a.length;i++){if((b=a[i]).mesh){o++,b.mesh.computeWorldMatrix(!0);var r=b.mesh.getHierarchyBoundingVectors(),_=m.jp.Vector3[0],l=m.jp.Vector3[1];r.max.subtractToRef(r.min,l),l.scaleInPlace(.5),m.P.TransformNormalToRef(l,n,_),this._cellWidth=Math.max(this._cellWidth,2*_.x),this._cellHeight=Math.max(this._cellHeight,2*_.y)}}this._cellWidth+=2*this.margin,this._cellHeight+=2*this.margin,this._rowThenColum?(t=this._columns,e=Math.ceil(o/this._columns)):(e=this._rows,t=Math.ceil(o/this._rows));var s=.5*t*this._cellWidth,c=.5*e*this._cellHeight,h=[],d=0;if(this._rowThenColum)for(var f=0;f<e;f++)for(var u=0;u<t&&(h.push(new m.P(u*this._cellWidth-s+this._cellWidth/2,f*this._cellHeight-c+this._cellHeight/2,0)),!(++d>o));u++);else for(u=0;u<t;u++)for(f=0;f<e&&(h.push(new m.P(u*this._cellWidth-s+this._cellWidth/2,f*this._cellHeight-c+this._cellHeight/2,0)),!(++d>o));f++);d=0;for(var v=0,p=this._children;v<p.length;v++){var b;(b=p[v]).mesh&&(this._mapGridNode(b,h[d]),d++)}this._finalProcessing()},t.prototype._finalProcessing=function(){},t}(F),N=o(43048),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._radius=5,t}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){var t=this;this._radius!==e&&(this._radius=e,Q.w1.SetImmediate((function(){t._arrangeChildren()})))},enumerable:!1,configurable:!0}),t.prototype._mapGridNode=function(e,t){var o=e.mesh;if(o){var n=this._cylindricalMapping(t);switch(e.position=n,this.orientation){case F.FACEORIGIN_ORIENTATION:o.lookAt(new m.P(2*n.x,n.y,2*n.z));break;case F.FACEORIGINREVERSED_ORIENTATION:o.lookAt(new m.P(-n.x,n.y,-n.z));break;case F.FACEFORWARD_ORIENTATION:break;case F.FACEFORWARDREVERSED_ORIENTATION:o.rotate(N.RD.Y,Math.PI,N.T.LOCAL)}}},t.prototype._cylindricalMapping=function(e){var t=new m.P(0,e.y,this._radius),o=e.x/this._radius;return m.y3.RotationYawPitchRollToRef(o,0,0,m.jp.Matrix[0]),m.P.TransformNormal(t,m.jp.Matrix[0])},t}(E),D=o(91243),M=o(46719),O=o(558),w=o(96969),V=o(64849),A=o(90360),z=o(74375),G=o(72208),W=o(69543),k="precision highp float;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nuniform mat4 world;\nuniform mat4 viewProjection;\nvarying vec2 vUV;\n#ifdef BORDER\nvarying vec2 scaleInfo;\nuniform float borderWidth;\nuniform vec3 scaleFactor;\n#endif\n#ifdef HOVERLIGHT\nvarying vec3 worldPosition;\n#endif\nvoid main(void) {\nvUV=uv;\n#ifdef BORDER\nvec3 scale=scaleFactor;\nfloat minScale=min(min(scale.x,scale.y),scale.z);\nfloat maxScale=max(max(scale.x,scale.y),scale.z);\nfloat minOverMiddleScale=minScale/(scale.x+scale.y+scale.z-minScale-maxScale);\nfloat areaYZ=scale.y*scale.z;\nfloat areaXZ=scale.x*scale.z;\nfloat areaXY=scale.x*scale.y;\nfloat scaledBorderWidth=borderWidth; \nif (abs(normal.x)==1.0) \n{\nscale.x=scale.y;\nscale.y=scale.z;\nif (areaYZ>areaXZ && areaYZ>areaXY)\n{\nscaledBorderWidth*=minOverMiddleScale;\n}\n}\nelse if (abs(normal.y)==1.0) \n{\nscale.x=scale.z;\nif (areaXZ>areaXY && areaXZ>areaYZ)\n{\nscaledBorderWidth*=minOverMiddleScale;\n}\n}\nelse \n{\nif (areaXY>areaYZ && areaXY>areaXZ)\n{\nscaledBorderWidth*=minOverMiddleScale;\n}\n}\nfloat scaleRatio=min(scale.x,scale.y)/max(scale.x,scale.y);\nif (scale.x>scale.y)\n{\nscaleInfo.x=1.0-(scaledBorderWidth*scaleRatio);\nscaleInfo.y=1.0-scaledBorderWidth;\n}\nelse\n{\nscaleInfo.x=1.0-scaledBorderWidth;\nscaleInfo.y=1.0-(scaledBorderWidth*scaleRatio);\n} \n#endif \nvec4 worldPos=world*vec4(position,1.0);\n#ifdef HOVERLIGHT\nworldPosition=worldPos.xyz;\n#endif\ngl_Position=viewProjection*worldPos;\n}\n";W.v.ShadersStore.fluentVertexShader=k;var H="precision highp float;\nvarying vec2 vUV;\nuniform vec4 albedoColor;\n#ifdef INNERGLOW\nuniform vec4 innerGlowColor;\n#endif\n#ifdef BORDER\nvarying vec2 scaleInfo;\nuniform float edgeSmoothingValue;\nuniform float borderMinValue;\n#endif\n#ifdef HOVERLIGHT\nvarying vec3 worldPosition;\nuniform vec3 hoverPosition;\nuniform vec4 hoverColor;\nuniform float hoverRadius;\n#endif\n#ifdef TEXTURE\nuniform sampler2D albedoSampler;\nuniform mat4 textureMatrix;\nvec2 finalUV;\n#endif\nvoid main(void) {\nvec3 albedo=albedoColor.rgb;\nfloat alpha=albedoColor.a;\n#ifdef TEXTURE\nfinalUV=vec2(textureMatrix*vec4(vUV,1.0,0.0));\nalbedo=texture2D(albedoSampler,finalUV).rgb;\n#endif\n#ifdef HOVERLIGHT\nfloat pointToHover=(1.0-clamp(length(hoverPosition-worldPosition)/hoverRadius,0.,1.))*hoverColor.a;\nalbedo=clamp(albedo+hoverColor.rgb*pointToHover,0.,1.);\n#else\nfloat pointToHover=1.0;\n#endif\n#ifdef BORDER \nfloat borderPower=10.0;\nfloat inverseBorderPower=1.0/borderPower;\nvec3 borderColor=albedo*borderPower;\nvec2 distanceToEdge;\ndistanceToEdge.x=abs(vUV.x-0.5)*2.0;\ndistanceToEdge.y=abs(vUV.y-0.5)*2.0;\nfloat borderValue=max(smoothstep(scaleInfo.x-edgeSmoothingValue,scaleInfo.x+edgeSmoothingValue,distanceToEdge.x),\nsmoothstep(scaleInfo.y-edgeSmoothingValue,scaleInfo.y+edgeSmoothingValue,distanceToEdge.y));\nborderColor=borderColor*borderValue*max(borderMinValue*inverseBorderPower,pointToHover); \nalbedo+=borderColor;\nalpha=max(alpha,borderValue);\n#endif\n#ifdef INNERGLOW\nvec2 uvGlow=(vUV-vec2(0.5,0.5))*(innerGlowColor.a*2.0);\nuvGlow=uvGlow*uvGlow;\nuvGlow=uvGlow*uvGlow;\nalbedo+=mix(vec3(0.0,0.0,0.0),innerGlowColor.rgb,uvGlow.x+uvGlow.y); \n#endif\ngl_FragColor=vec4(albedo,alpha);\n}";W.v.ShadersStore.fluentPixelShader=H;var U=function(e){function t(){var t=e.call(this)||this;return t.INNERGLOW=!1,t.BORDER=!1,t.HOVERLIGHT=!1,t.TEXTURE=!1,t.rebuild(),t}return(0,h.ZT)(t,e),t}(V.H),q=function(e){function t(t,o){var n=e.call(this,t,o)||this;return n.innerGlowColorIntensity=.5,n.innerGlowColor=new C.Wo(1,1,1),n.albedoColor=new C.Wo(.3,.35,.4),n.renderBorders=!1,n.borderWidth=.5,n.edgeSmoothingValue=.02,n.borderMinValue=.1,n.renderHoverLight=!1,n.hoverRadius=.01,n.hoverColor=new C.HE(.3,.3,.3,1),n.hoverPosition=m.P.Zero(),n}return(0,h.ZT)(t,e),t.prototype.needAlphaBlending=function(){return 1!==this.alpha},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t.materialDefines||(t.materialDefines=new U);var o=this.getScene(),n=t.materialDefines;if(!this.checkReadyOnEveryCall&&t.effect&&n._renderId===o.getRenderId())return!0;if(n._areTexturesDirty)if(n.INNERGLOW=this.innerGlowColorIntensity>0,n.BORDER=this.renderBorders,n.HOVERLIGHT=this.renderHoverLight,this._albedoTexture){if(!this._albedoTexture.isReadyOrNotBlocking())return!1;n.TEXTURE=!0}else n.TEXTURE=!1;var i=o.getEngine();if(n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var a=[G.o.PositionKind];a.push(G.o.NormalKind),a.push(G.o.UVKind);var r=["world","viewProjection","innerGlowColor","albedoColor","borderWidth","edgeSmoothingValue","scaleFactor","borderMinValue","hoverColor","hoverPosition","hoverRadius","textureMatrix"],_=["albedoSampler"],l=new Array;A.G.PrepareUniformsAndSamplersList({uniformsNames:r,uniformBuffersNames:l,samplers:_,defines:n,maxSimultaneousLights:4});var s=n.toString();t.setEffect(o.getEngine().createEffect("fluent",{attributes:a,uniformsNames:r,uniformBuffersNames:l,samplers:_,defines:s,fallbacks:null,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},i),n,this._materialContext)}return!(!t.effect||!t.effect.isReady())&&(n._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,o){var n=this.getScene(),i=o.materialDefines;if(i){var a=o.effect;if(a){if(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix("viewProjection",n.getTransformMatrix()),this._mustRebind(n,a)&&(this._activeEffect.setColor4("albedoColor",this.albedoColor,this.alpha),i.INNERGLOW&&this._activeEffect.setColor4("innerGlowColor",this.innerGlowColor,this.innerGlowColorIntensity),i.BORDER&&(this._activeEffect.setFloat("borderWidth",this.borderWidth),this._activeEffect.setFloat("edgeSmoothingValue",this.edgeSmoothingValue),this._activeEffect.setFloat("borderMinValue",this.borderMinValue),t.getBoundingInfo().boundingBox.extendSize.multiplyToRef(t.scaling,m.jp.Vector3[0]),this._activeEffect.setVector3("scaleFactor",m.jp.Vector3[0])),i.HOVERLIGHT&&(this._activeEffect.setDirectColor4("hoverColor",this.hoverColor),this._activeEffect.setFloat("hoverRadius",this.hoverRadius),this._activeEffect.setVector3("hoverPosition",this.hoverPosition)),i.TEXTURE&&this._albedoTexture)){this._activeEffect.setTexture("albedoSampler",this._albedoTexture);var r=this._albedoTexture.getTextureMatrix();this._activeEffect.setMatrix("textureMatrix",r)}this._afterBind(t,this._activeEffect)}}},t.prototype.getActiveTextures=function(){return e.prototype.getActiveTextures.call(this)},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var o=this;return w.p4.Clone((function(){return new t(e,o.getScene())}),this)},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this);return t.customType="BABYLON.GUI.FluentMaterial",t},t.prototype.getClassName=function(){return"FluentMaterial"},t.Parse=function(e,o,n){return w.p4.Parse((function(){return new t(e.name,o)}),e,o,n)},(0,h.gn)([(0,w.qC)(),(0,w.wz)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"innerGlowColorIntensity",void 0),(0,h.gn)([(0,w.n9)()],t.prototype,"innerGlowColor",void 0),(0,h.gn)([(0,w.n9)()],t.prototype,"albedoColor",void 0),(0,h.gn)([(0,w.qC)(),(0,w.wz)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"renderBorders",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"borderWidth",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"edgeSmoothingValue",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"borderMinValue",void 0),(0,h.gn)([(0,w.qC)(),(0,w.wz)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"renderHoverLight",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"hoverRadius",void 0),(0,h.gn)([(0,w.XX)()],t.prototype,"hoverColor",void 0),(0,h.gn)([(0,w.hd)()],t.prototype,"hoverPosition",void 0),(0,h.gn)([(0,w.oU)("albedoTexture")],t.prototype,"_albedoTexture",void 0),(0,h.gn)([(0,w.wz)("_markAllSubMeshesAsTexturesAndMiscDirty")],t.prototype,"albedoTexture",void 0),t}(z.a);(0,d.H)("BABYLON.GUI.FluentMaterial",q);var j=o(99938),X=o(26633),Y=o(90194),Z=o(80352),K=function(e){function t(t,o){void 0===o&&(o=!0);var n=e.call(this,t)||this;return n._shareMaterials=!0,n._shareMaterials=o,n.pointerEnterAnimation=function(){n.mesh&&n._frontPlate.setEnabled(!0)},n.pointerOutAnimation=function(){n.mesh&&n._frontPlate.setEnabled(!1)},n}return(0,h.ZT)(t,e),t.prototype._disposeTooltip=function(){this._tooltipFade=null,this._tooltipTextBlock&&this._tooltipTextBlock.dispose(),this._tooltipTexture&&this._tooltipTexture.dispose(),this._tooltipMesh&&this._tooltipMesh.dispose(),this.onPointerEnterObservable.remove(this._tooltipHoverObserver),this.onPointerOutObservable.remove(this._tooltipOutObserver)},Object.defineProperty(t.prototype,"renderingGroupId",{get:function(){return this._backPlate.renderingGroupId},set:function(e){this._backPlate.renderingGroupId=e,this._textPlate.renderingGroupId=e,this._frontPlate.renderingGroupId=e,this._tooltipMesh&&(this._tooltipMesh.renderingGroupId=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltipText",{get:function(){return this._tooltipTextBlock?this._tooltipTextBlock.text:null},set:function(e){var t=this;if(e){if(!this._tooltipFade){var o=this._backPlate._scene.useRightHandedSystem;this._tooltipMesh=(0,M.pT)("",{size:1},this._backPlate._scene);var n=(0,M.pT)("",{size:1,sideOrientation:D.Kj.DOUBLESIDE},this._backPlate._scene),a=new T.K("",this._backPlate._scene);a.diffuseColor=C.Wo.FromHexString("#212121"),n.material=a,n.isPickable=!1,this._tooltipMesh.addChild(n),n.position=m.P.Forward(o).scale(.05),this._tooltipMesh.scaling.y=1/3,this._tooltipMesh.position=m.P.Up().scale(.7).add(m.P.Forward(o).scale(-.15)),this._tooltipMesh.isPickable=!1,this._tooltipMesh.parent=this._backPlate,this._tooltipTexture=i.i.CreateForMesh(this._tooltipMesh),this._tooltipTextBlock=new Y.a,this._tooltipTextBlock.scaleY=3,this._tooltipTextBlock.color="white",this._tooltipTextBlock.fontSize=130,this._tooltipTexture.addControl(this._tooltipTextBlock),this._tooltipFade=new O.Y,this._tooltipFade.delay=500,this._tooltipMesh.addBehavior(this._tooltipFade),this._tooltipHoverObserver=this.onPointerEnterObservable.add((function(){t._tooltipFade&&t._tooltipFade.fadeIn(!0)})),this._tooltipOutObserver=this.onPointerOutObservable.add((function(){t._tooltipFade&&t._tooltipFade.fadeIn(!1)}))}this._tooltipTextBlock&&(this._tooltipTextBlock.text=e)}else this._disposeTooltip()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text!==e&&(this._text=e,this._rebuildContent())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(e){this._imageUrl!==e&&(this._imageUrl=e,this._rebuildContent())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backMaterial",{get:function(){return this._backMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frontMaterial",{get:function(){return this._frontMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"plateMaterial",{get:function(){return this._plateMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shareMaterials",{get:function(){return this._shareMaterials},enumerable:!1,configurable:!0}),t.prototype._getTypeName=function(){return"HolographicButton"},t.prototype._rebuildContent=function(){this._disposeFacadeTexture();var e=new j.e;if(e.isVertical=!0,Z.MZ.IsDocumentAvailable()&&document.createElement&&this._imageUrl){var t=new X.E;t.source=this._imageUrl,t.paddingTop="40px",t.height="180px",t.width="100px",t.paddingBottom="40px",e.addControl(t)}if(this._text){var o=new Y.a;o.text=this._text,o.color="white",o.height="30px",o.fontSize=24,e.addControl(o)}this._frontPlate&&(this.content=e)},t.prototype._createNode=function(t){return this._backPlate=(0,S.NR)(this.name+"BackMesh",{width:1,height:1,depth:.08},t),this._frontPlate=(0,S.NR)(this.name+"FrontMesh",{width:1,height:1,depth:.08},t),this._frontPlate.parent=this._backPlate,this._frontPlate.position=m.P.Forward(t.useRightHandedSystem).scale(-.08),this._frontPlate.isPickable=!1,this._frontPlate.setEnabled(!1),this._textPlate=e.prototype._createNode.call(this,t),this._textPlate.parent=this._backPlate,this._textPlate.position=m.P.Forward(t.useRightHandedSystem).scale(-.08),this._textPlate.isPickable=!1,this._backPlate},t.prototype._applyFacade=function(e){this._plateMaterial.emissiveTexture=e,this._plateMaterial.opacityTexture=e},t.prototype._createBackMaterial=function(e){var t=this;this._backMaterial=new q(this.name+"Back Material",e.getScene()),this._backMaterial.renderHoverLight=!0,this._pickedPointObserver=this._host.onPickedPointChangedObservable.add((function(e){e?(t._backMaterial.hoverPosition=e,t._backMaterial.hoverColor.a=1):t._backMaterial.hoverColor.a=0}))},t.prototype._createFrontMaterial=function(e){this._frontMaterial=new q(this.name+"Front Material",e.getScene()),this._frontMaterial.innerGlowColorIntensity=0,this._frontMaterial.alpha=.5,this._frontMaterial.renderBorders=!0},t.prototype._createPlateMaterial=function(e){this._plateMaterial=new T.K(this.name+"Plate Material",e.getScene()),this._plateMaterial.specularColor=C.Wo.Black()},t.prototype._affectMaterial=function(e){this._shareMaterials?(this._host._sharedMaterials.backFluentMaterial?this._backMaterial=this._host._sharedMaterials.backFluentMaterial:(this._createBackMaterial(e),this._host._sharedMaterials.backFluentMaterial=this._backMaterial),this._host._sharedMaterials.frontFluentMaterial?this._frontMaterial=this._host._sharedMaterials.frontFluentMaterial:(this._createFrontMaterial(e),this._host._sharedMaterials.frontFluentMaterial=this._frontMaterial)):(this._createBackMaterial(e),this._createFrontMaterial(e)),this._createPlateMaterial(e),this._backPlate.material=this._backMaterial,this._frontPlate.material=this._frontMaterial,this._textPlate.material=this._plateMaterial,this._rebuildContent()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._disposeTooltip(),this.shareMaterials||(this._backMaterial.dispose(),this._frontMaterial.dispose(),this._plateMaterial.dispose(),this._pickedPointObserver&&(this._host.onPickedPointChangedObservable.remove(this._pickedPointObserver),this._pickedPointObserver=null))},t}(I),$=o(38309),J=o(34941),ee="uniform vec3 cameraPosition;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUV;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec4 vColor;\nvarying vec4 vExtra1;\nuniform float _Edge_Width_;\nuniform vec4 _Edge_Color_;\nuniform bool _Relative_Width_;\nuniform float _Proximity_Max_Intensity_;\nuniform float _Proximity_Far_Distance_;\nuniform float _Proximity_Near_Radius_;\nuniform float _Proximity_Anisotropy_;\nuniform float _Selection_Fuzz_;\nuniform float _Selected_;\nuniform float _Selection_Fade_;\nuniform float _Selection_Fade_Size_;\nuniform float _Selected_Distance_;\nuniform float _Selected_Fade_Length_;\nuniform bool _Blob_Enable_;\nuniform vec3 _Blob_Position_;\nuniform float _Blob_Intensity_;\nuniform float _Blob_Near_Size_;\nuniform float _Blob_Far_Size_;\nuniform float _Blob_Near_Distance_;\nuniform float _Blob_Far_Distance_;\nuniform float _Blob_Fade_Length_;\nuniform float _Blob_Inner_Fade_;\nuniform float _Blob_Pulse_;\nuniform float _Blob_Fade_;\nuniform sampler2D _Blob_Texture_;\nuniform bool _Blob_Enable_2_;\nuniform vec3 _Blob_Position_2_;\nuniform float _Blob_Near_Size_2_;\nuniform float _Blob_Inner_Fade_2_;\nuniform float _Blob_Pulse_2_;\nuniform float _Blob_Fade_2_;\nuniform vec3 _Active_Face_Dir_;\nuniform vec3 _Active_Face_Up_;\nuniform bool Enable_Fade;\nuniform float _Fade_Width_;\nuniform bool _Smooth_Active_Face_;\nuniform bool _Show_Frame_;\nuniform bool _Use_Blob_Texture_;\nuniform bool Use_Global_Left_Index;\nuniform bool Use_Global_Right_Index;\nuniform vec4 Global_Left_Index_Tip_Position;\nuniform vec4 Global_Right_Index_Tip_Position;\nuniform vec4 Global_Left_Thumb_Tip_Position;\nuniform vec4 Global_Right_Thumb_Tip_Position;\nuniform float Global_Left_Index_Tip_Proximity;\nuniform float Global_Right_Index_Tip_Proximity;\nvoid Holo_Edge_Fragment_B35(\nvec4 Edges,\nfloat Edge_Width,\nout float NotEdge)\n{\nvec2 c=vec2(min(Edges.r,Edges.g),min(Edges.b,Edges.a));\nvec2 df=fwidth(c)*Edge_Width;\nvec2 g=clamp(c/df,0.0,1.0);\nNotEdge=g.x*g.y;\n}\nvoid Blob_Fragment_B39(\nvec2 UV,\nvec3 Blob_Info,\nsampler2D Blob_Texture,\nout vec4 Blob_Color)\n{\nfloat k=dot(UV,UV);\nBlob_Color=Blob_Info.y*texture(Blob_Texture,vec2(vec2(sqrt(k),Blob_Info.x).x,1.0-vec2(sqrt(k),Blob_Info.x).y))*(1.0-clamp(k,0.0,1.0));\n}\nvec2 FilterStep(vec2 Edge,vec2 X)\n{\nvec2 dX=max(fwidth(X),vec2(0.00001,0.00001));\nreturn clamp( (X+dX-max(Edge,X-dX))/(dX*2.0),0.0,1.0);\n}\nvoid Wireframe_Fragment_B59(\nvec3 Widths,\nvec2 UV,\nfloat Proximity,\nvec4 Edge_Color,\nout vec4 Wireframe)\n{\nvec2 c=min(UV,vec2(1.0,1.0)-UV);\nvec2 g=FilterStep(Widths.xy*0.5,c); \nWireframe=(1.0-min(g.x,g.y))*Proximity*Edge_Color;\n}\nvoid Proximity_B53(\nvec3 Proximity_Center,\nvec3 Proximity_Center_2,\nfloat Proximity_Max_Intensity,\nfloat Proximity_Near_Radius,\nvec3 Position,\nvec3 Show_Selection,\nvec4 Extra1,\nfloat Dist_To_Face,\nfloat Intensity,\nout float Proximity)\n{\nvec2 delta1=Extra1.xy;\nvec2 delta2=Extra1.zw;\nfloat d2=sqrt(min(dot(delta1,delta1),dot(delta2,delta2))+Dist_To_Face*Dist_To_Face);\nProximity=Intensity*Proximity_Max_Intensity*(1.0-clamp(d2/Proximity_Near_Radius,0.0,1.0))*(1.0-Show_Selection.x)+Show_Selection.x;\n}\nvoid To_XYZ_B46(\nvec3 Vec3,\nout float X,\nout float Y,\nout float Z)\n{\nX=Vec3.x;\nY=Vec3.y;\nZ=Vec3.z;\n}\nvoid main()\n{\nfloat NotEdge_Q35;\n#if ENABLE_FADE\nHolo_Edge_Fragment_B35(vColor,_Fade_Width_,NotEdge_Q35);\n#else\nNotEdge_Q35=1.0;\n#endif\nvec4 Blob_Color_Q39;\nfloat k=dot(vUV,vUV);\nvec2 blobTextureCoord=vec2(vec2(sqrt(k),vTangent.x).x,1.0-vec2(sqrt(k),vTangent.x).y);\nvec4 blobColor=mix(vec4(1.0,1.0,1.0,1.0)*step(1.0-vTangent.x,clamp(sqrt(k)+0.1,0.0,1.0)),texture(_Blob_Texture_,blobTextureCoord),float(_Use_Blob_Texture_));\nBlob_Color_Q39=vTangent.y*blobColor*(1.0-clamp(k,0.0,1.0));\nfloat Is_Quad_Q24;\nIs_Quad_Q24=vNormal.z;\nvec3 Blob_Position_Q41= mix(_Blob_Position_,Global_Left_Index_Tip_Position.xyz,float(Use_Global_Left_Index));\nvec3 Blob_Position_Q42= mix(_Blob_Position_2_,Global_Right_Index_Tip_Position.xyz,float(Use_Global_Right_Index));\nfloat X_Q46;\nfloat Y_Q46;\nfloat Z_Q46;\nTo_XYZ_B46(vBinormal,X_Q46,Y_Q46,Z_Q46);\nfloat Proximity_Q53;\nProximity_B53(Blob_Position_Q41,Blob_Position_Q42,_Proximity_Max_Intensity_,_Proximity_Near_Radius_,vPosition,vBinormal,vExtra1,Y_Q46,Z_Q46,Proximity_Q53);\nvec4 Wireframe_Q59;\nWireframe_Fragment_B59(vNormal,vUV,Proximity_Q53,_Edge_Color_,Wireframe_Q59);\nvec4 Wire_Or_Blob_Q23=mix(Wireframe_Q59,Blob_Color_Q39,Is_Quad_Q24);\nvec4 Result_Q22;\nResult_Q22=mix(Wire_Or_Blob_Q23,vec4(0.3,0.3,0.3,0.3),float(_Show_Frame_));\nvec4 Final_Color_Q37=NotEdge_Q35*Result_Q22;\nvec4 Out_Color=Final_Color_Q37;\nfloat Clip_Threshold=0.0;\nbool To_sRGB=false;\ngl_FragColor=Out_Color;\n}";W.v.ShadersStore.fluentButtonPixelShader=ee;var te="uniform mat4 world;\nuniform mat4 viewProjection;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec3 tangent;\nattribute vec4 color;\nuniform float _Edge_Width_;\nuniform vec4 _Edge_Color_;\nuniform float _Proximity_Max_Intensity_;\nuniform float _Proximity_Far_Distance_;\nuniform float _Proximity_Near_Radius_;\nuniform float _Proximity_Anisotropy_;\nuniform float _Selection_Fuzz_;\nuniform float _Selected_;\nuniform float _Selection_Fade_;\nuniform float _Selection_Fade_Size_;\nuniform float _Selected_Distance_;\nuniform float _Selected_Fade_Length_;\nuniform bool _Blob_Enable_;\nuniform vec3 _Blob_Position_;\nuniform float _Blob_Intensity_;\nuniform float _Blob_Near_Size_;\nuniform float _Blob_Far_Size_;\nuniform float _Blob_Near_Distance_;\nuniform float _Blob_Far_Distance_;\nuniform float _Blob_Fade_Length_;\nuniform float _Blob_Inner_Fade_;\nuniform float _Blob_Pulse_;\nuniform float _Blob_Fade_;\nuniform sampler2D _Blob_Texture_;\nuniform bool _Blob_Enable_2_;\nuniform vec3 _Blob_Position_2_;\nuniform float _Blob_Near_Size_2_;\nuniform float _Blob_Inner_Fade_2_;\nuniform float _Blob_Pulse_2_;\nuniform float _Blob_Fade_2_;\nuniform vec3 _Active_Face_Dir_;\nuniform vec3 _Active_Face_Up_;\nuniform bool _Enable_Fade_;\nuniform float _Fade_Width_;\nuniform bool _Smooth_Active_Face_;\nuniform bool _Show_Frame_;\nuniform bool Use_Global_Left_Index;\nuniform bool Use_Global_Right_Index;\nuniform vec4 Global_Left_Index_Tip_Position;\nuniform vec4 Global_Right_Index_Tip_Position;\nuniform vec4 Global_Left_Thumb_Tip_Position;\nuniform vec4 Global_Right_Thumb_Tip_Position;\nuniform float Global_Left_Index_Tip_Proximity;\nuniform float Global_Right_Index_Tip_Proximity;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUV;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec4 vColor;\nvarying vec4 vExtra1;\nvoid Blob_Vertex_B47(\nvec3 Position,\nvec3 Normal,\nvec3 Tangent,\nvec3 Bitangent,\nvec3 Blob_Position,\nfloat Intensity,\nfloat Blob_Near_Size,\nfloat Blob_Far_Size,\nfloat Blob_Near_Distance,\nfloat Blob_Far_Distance,\nvec4 Vx_Color,\nvec2 UV,\nvec3 Face_Center,\nvec2 Face_Size,\nvec2 In_UV,\nfloat Blob_Fade_Length,\nfloat Selection_Fade,\nfloat Selection_Fade_Size,\nfloat Inner_Fade,\nvec3 Active_Face_Center,\nfloat Blob_Pulse,\nfloat Blob_Fade,\nfloat Blob_Enabled,\nout vec3 Out_Position,\nout vec2 Out_UV,\nout vec3 Blob_Info)\n{\nfloat blobSize,fadeIn;\nvec3 Hit_Position;\nBlob_Info=vec3(0.0,0.0,0.0);\nfloat Hit_Distance=dot(Blob_Position-Face_Center,Normal);\nHit_Position=Blob_Position-Hit_Distance*Normal;\nfloat absD=abs(Hit_Distance);\nfloat lerpVal=clamp((absD-Blob_Near_Distance)/(Blob_Far_Distance-Blob_Near_Distance),0.0,1.0);\nfadeIn=1.0-clamp((absD-Blob_Far_Distance)/Blob_Fade_Length,0.0,1.0);\nfloat innerFade=1.0-clamp(-Hit_Distance/Inner_Fade,0.0,1.0);\nfloat farClip=clamp(1.0-step(Blob_Far_Distance+Blob_Fade_Length,absD),0.0,1.0);\nfloat size=mix(Blob_Near_Size,Blob_Far_Size,lerpVal)*farClip;\nblobSize=mix(size,Selection_Fade_Size,Selection_Fade)*innerFade*Blob_Enabled;\nBlob_Info.x=lerpVal*0.5+0.5;\nBlob_Info.y=fadeIn*Intensity*(1.0-Selection_Fade)*Blob_Fade;\nBlob_Info.x*=(1.0-Blob_Pulse);\nvec3 delta=Hit_Position-Face_Center;\nvec2 blobCenterXY=vec2(dot(delta,Tangent),dot(delta,Bitangent));\nvec2 quadUVin=2.0*UV-1.0; \nvec2 blobXY=blobCenterXY+quadUVin*blobSize;\nvec2 blobClipped=clamp(blobXY,-Face_Size*0.5,Face_Size*0.5);\nvec2 blobUV=(blobClipped-blobCenterXY)/max(blobSize,0.0001)*2.0;\nvec3 blobCorner=Face_Center+blobClipped.x*Tangent+blobClipped.y*Bitangent;\nOut_Position=mix(Position,blobCorner,Vx_Color.rrr);\nOut_UV=mix(In_UV,blobUV,Vx_Color.rr);\n}\nvec2 ProjectProximity(\nvec3 blobPosition,\nvec3 position,\nvec3 center,\nvec3 dir,\nvec3 xdir,\nvec3 ydir,\nout float vdistance\n)\n{\nvec3 delta=blobPosition-position;\nvec2 xy=vec2(dot(delta,xdir),dot(delta,ydir));\nvdistance=abs(dot(delta,dir));\nreturn xy;\n}\nvoid Proximity_Vertex_B66(\nvec3 Blob_Position,\nvec3 Blob_Position_2,\nvec3 Active_Face_Center,\nvec3 Active_Face_Dir,\nvec3 Position,\nfloat Proximity_Far_Distance,\nfloat Relative_Scale,\nfloat Proximity_Anisotropy,\nvec3 Up,\nout vec4 Extra1,\nout float Distance_To_Face,\nout float Intensity)\n{\nvec3 Active_Face_Dir_X=normalize(cross(Active_Face_Dir,Up));\nvec3 Active_Face_Dir_Y=cross(Active_Face_Dir,Active_Face_Dir_X);\nfloat distz1,distz2;\nExtra1.xy=ProjectProximity(Blob_Position,Position,Active_Face_Center,Active_Face_Dir,Active_Face_Dir_X*Proximity_Anisotropy,Active_Face_Dir_Y,distz1)/Relative_Scale;\nExtra1.zw=ProjectProximity(Blob_Position_2,Position,Active_Face_Center,Active_Face_Dir,Active_Face_Dir_X*Proximity_Anisotropy,Active_Face_Dir_Y,distz2)/Relative_Scale;\nDistance_To_Face=dot(Active_Face_Dir,Position-Active_Face_Center);\nIntensity=1.0-clamp(min(distz1,distz2)/Proximity_Far_Distance,0.0,1.0);\n}\nvoid Holo_Edge_Vertex_B44(\nvec3 Incident,\nvec3 Normal,\nvec2 UV,\nvec3 Tangent,\nvec3 Bitangent,\nbool Smooth_Active_Face,\nfloat Active,\nout vec4 Holo_Edges)\n{\nfloat NdotI=dot(Incident,Normal);\nvec2 flip=(UV-vec2(0.5,0.5));\nfloat udot=dot(Incident,Tangent)*flip.x*NdotI;\nfloat uval=1.0-float(udot>0.0);\nfloat vdot=-dot(Incident,Bitangent)*flip.y*NdotI;\nfloat vval=1.0-float(vdot>0.0);\nfloat Smooth_And_Active=step(1.0,float(Smooth_Active_Face && Active>0.0));\nuval=mix(uval,max(1.0,uval),Smooth_And_Active); \nvval=mix(vval,max(1.0,vval),Smooth_And_Active);\nHolo_Edges=vec4(1.0,1.0,1.0,1.0)-vec4(uval*UV.x,uval*(1.0-UV.x),vval*UV.y,vval*(1.0-UV.y));\n}\nvoid Object_To_World_Pos_B13(\nvec3 Pos_Object,\nout vec3 Pos_World)\n{\nPos_World=(world*vec4(Pos_Object,1.0)).xyz;\n}\nvoid Choose_Blob_B38(\nvec4 Vx_Color,\nvec3 Position1,\nvec3 Position2,\nbool Blob_Enable_1,\nbool Blob_Enable_2,\nfloat Near_Size_1,\nfloat Near_Size_2,\nfloat Blob_Inner_Fade_1,\nfloat Blob_Inner_Fade_2,\nfloat Blob_Pulse_1,\nfloat Blob_Pulse_2,\nfloat Blob_Fade_1,\nfloat Blob_Fade_2,\nout vec3 Position,\nout float Near_Size,\nout float Inner_Fade,\nout float Blob_Enable,\nout float Fade,\nout float Pulse)\n{\nPosition=Position1*(1.0-Vx_Color.g)+Vx_Color.g*Position2;\nfloat b1=float(Blob_Enable_1);\nfloat b2=float(Blob_Enable_2);\nBlob_Enable=b1+(b2-b1)*Vx_Color.g;\nPulse=Blob_Pulse_1*(1.0-Vx_Color.g)+Vx_Color.g*Blob_Pulse_2;\nFade=Blob_Fade_1*(1.0-Vx_Color.g)+Vx_Color.g*Blob_Fade_2;\nNear_Size=Near_Size_1*(1.0-Vx_Color.g)+Vx_Color.g*Near_Size_2;\nInner_Fade=Blob_Inner_Fade_1*(1.0-Vx_Color.g)+Vx_Color.g*Blob_Inner_Fade_2;\n}\nvoid Wireframe_Vertex_B51(\nvec3 Position,\nvec3 Normal,\nvec3 Tangent,\nvec3 Bitangent,\nfloat Edge_Width,\nvec2 Face_Size,\nout vec3 Wire_Vx_Pos,\nout vec2 UV,\nout vec2 Widths)\n{\nWidths.xy=Edge_Width/Face_Size;\nfloat x=dot(Position,Tangent);\nfloat y=dot(Position,Bitangent);\nfloat dx=0.5-abs(x);\nfloat newx=(0.5-dx*Widths.x*2.0)*sign(x);\nfloat dy=0.5-abs(y);\nfloat newy=(0.5-dy*Widths.y*2.0)*sign(y);\nWire_Vx_Pos=Normal*0.5+newx*Tangent+newy*Bitangent;\nUV.x=dot(Wire_Vx_Pos,Tangent)+0.5;\nUV.y=dot(Wire_Vx_Pos,Bitangent)+0.5;\n}\nvec2 ramp2(vec2 start,vec2 end,vec2 x)\n{\nreturn clamp((x-start)/(end-start),vec2(0.0,0.0),vec2(1.0,1.0));\n}\nfloat computeSelection(\nvec3 blobPosition,\nvec3 normal,\nvec3 tangent,\nvec3 bitangent,\nvec3 faceCenter,\nvec2 faceSize,\nfloat selectionFuzz,\nfloat farDistance,\nfloat fadeLength\n)\n{\nvec3 delta=blobPosition-faceCenter;\nfloat absD=abs(dot(delta,normal));\nfloat fadeIn=1.0-clamp((absD-farDistance)/fadeLength,0.0,1.0);\nvec2 blobCenterXY=vec2(dot(delta,tangent),dot(delta,bitangent));\nvec2 innerFace=faceSize*(1.0-selectionFuzz)*0.5;\nvec2 selectPulse=ramp2(-faceSize*0.5,-innerFace,blobCenterXY)-ramp2(innerFace,faceSize*0.5,blobCenterXY);\nreturn selectPulse.x*selectPulse.y*fadeIn;\n}\nvoid Selection_Vertex_B48(\nvec3 Blob_Position,\nvec3 Blob_Position_2,\nvec3 Face_Center,\nvec2 Face_Size,\nvec3 Normal,\nvec3 Tangent,\nvec3 Bitangent,\nfloat Selection_Fuzz,\nfloat Selected,\nfloat Far_Distance,\nfloat Fade_Length,\nvec3 Active_Face_Dir,\nout float Show_Selection)\n{\nfloat select1=computeSelection(Blob_Position,Normal,Tangent,Bitangent,Face_Center,Face_Size,Selection_Fuzz,Far_Distance,Fade_Length);\nfloat select2=computeSelection(Blob_Position_2,Normal,Tangent,Bitangent,Face_Center,Face_Size,Selection_Fuzz,Far_Distance,Fade_Length);\nfloat Active=max(0.0,dot(Active_Face_Dir,Normal));\nShow_Selection=mix(max(select1,select2),1.0,Selected)*Active;\n}\nvoid Proximity_Visibility_B54(\nfloat Selection,\nvec3 Proximity_Center,\nvec3 Proximity_Center_2,\nfloat Input_Width,\nfloat Proximity_Far_Distance,\nfloat Proximity_Radius,\nvec3 Active_Face_Center,\nvec3 Active_Face_Dir,\nout float Width)\n{\nvec3 boxEdges=(world*vec4(vec3(0.5,0.5,0.5),0.0)).xyz;\nfloat boxMaxSize=length(boxEdges);\nfloat d1=dot(Proximity_Center-Active_Face_Center,Active_Face_Dir);\nvec3 blob1=Proximity_Center-d1*Active_Face_Dir;\nfloat d2=dot(Proximity_Center_2-Active_Face_Center,Active_Face_Dir);\nvec3 blob2=Proximity_Center_2-d2*Active_Face_Dir;\nvec3 delta1=blob1-Active_Face_Center;\nvec3 delta2=blob2-Active_Face_Center;\nfloat dist1=dot(delta1,delta1);\nfloat dist2=dot(delta2,delta2);\nfloat nearestProxDist=sqrt(min(dist1,dist2));\nWidth=Input_Width*(1.0-step(boxMaxSize+Proximity_Radius,nearestProxDist))*(1.0-step(Proximity_Far_Distance,min(d1,d2))*(1.0-step(0.0001,Selection)));\n}\nvoid Object_To_World_Dir_B67(\nvec3 Dir_Object,\nout vec3 Dir_World)\n{\nDir_World=(world*vec4(Dir_Object,0.0)).xyz;\n}\nvoid main()\n{\nvec3 Active_Face_Center_Q49;\nActive_Face_Center_Q49=(world*vec4(_Active_Face_Dir_*0.5,1.0)).xyz;\nvec3 Blob_Position_Q41= mix(_Blob_Position_,Global_Left_Index_Tip_Position.xyz,float(Use_Global_Left_Index));\nvec3 Blob_Position_Q42= mix(_Blob_Position_2_,Global_Right_Index_Tip_Position.xyz,float(Use_Global_Right_Index));\nvec3 Active_Face_Dir_Q64=normalize((world*vec4(_Active_Face_Dir_,0.0)).xyz);\nfloat Relative_Scale_Q57;\n#if RELATIVE_WIDTH\nRelative_Scale_Q57=length((world*vec4(vec3(0,1,0),0.0)).xyz);\n#else\nRelative_Scale_Q57=1.0;\n#endif\nvec3 Tangent_World_Q30;\nTangent_World_Q30=(world*vec4(tangent,0.0)).xyz;\nvec3 Binormal_World_Q31;\nBinormal_World_Q31=(world*vec4((cross(normal,tangent)),0.0)).xyz;\nvec3 Normal_World_Q60;\nNormal_World_Q60=(world*vec4(normal,0.0)).xyz;\nvec3 Result_Q18=0.5*normal;\nvec3 Dir_World_Q67;\nObject_To_World_Dir_B67(_Active_Face_Up_,Dir_World_Q67);\nfloat Product_Q56=_Edge_Width_*Relative_Scale_Q57;\nvec3 Normal_World_N_Q29=normalize(Normal_World_Q60);\nvec3 Tangent_World_N_Q28=normalize(Tangent_World_Q30);\nvec3 Binormal_World_N_Q32=normalize(Binormal_World_Q31);\nvec3 Position_Q38;\nfloat Near_Size_Q38;\nfloat Inner_Fade_Q38;\nfloat Blob_Enable_Q38;\nfloat Fade_Q38;\nfloat Pulse_Q38;\nChoose_Blob_B38(color,Blob_Position_Q41,Blob_Position_Q42,_Blob_Enable_,_Blob_Enable_2_,_Blob_Near_Size_,_Blob_Near_Size_2_,_Blob_Inner_Fade_,_Blob_Inner_Fade_2_,_Blob_Pulse_,_Blob_Pulse_2_,_Blob_Fade_,_Blob_Fade_2_,Position_Q38,Near_Size_Q38,Inner_Fade_Q38,Blob_Enable_Q38,Fade_Q38,Pulse_Q38);\nvec3 Face_Center_Q33;\nFace_Center_Q33=(world*vec4(Result_Q18,1.0)).xyz;\nvec2 Face_Size_Q50=vec2(length(Tangent_World_Q30),length(Binormal_World_Q31));\nfloat Show_Selection_Q48;\nSelection_Vertex_B48(Blob_Position_Q41,Blob_Position_Q42,Face_Center_Q33,Face_Size_Q50,Normal_World_N_Q29,Tangent_World_N_Q28,Binormal_World_N_Q32,_Selection_Fuzz_,_Selected_,_Selected_Distance_,_Selected_Fade_Length_,Active_Face_Dir_Q64,Show_Selection_Q48);\nvec3 Normalized_Q72=normalize(Dir_World_Q67);\nfloat Active_Q34=max(0.0,dot(Active_Face_Dir_Q64,Normal_World_N_Q29));\nfloat Width_Q54;\nProximity_Visibility_B54(Show_Selection_Q48,Blob_Position_Q41,Blob_Position_Q42,Product_Q56,_Proximity_Far_Distance_,_Proximity_Near_Radius_,Active_Face_Center_Q49,Active_Face_Dir_Q64,Width_Q54);\nvec3 Wire_Vx_Pos_Q51;\nvec2 UV_Q51;\nvec2 Widths_Q51;\nWireframe_Vertex_B51(position,normal,tangent,(cross(normal,tangent)),Width_Q54,Face_Size_Q50,Wire_Vx_Pos_Q51,UV_Q51,Widths_Q51);\nvec3 Vec3_Q27=vec3(Widths_Q51.x,Widths_Q51.y,color.r);\nvec3 Pos_World_Q13;\nObject_To_World_Pos_B13(Wire_Vx_Pos_Q51,Pos_World_Q13);\nvec3 Incident_Q36=normalize(Pos_World_Q13-cameraPosition);\nvec3 Out_Position_Q47;\nvec2 Out_UV_Q47;\nvec3 Blob_Info_Q47;\nBlob_Vertex_B47(Pos_World_Q13,Normal_World_N_Q29,Tangent_World_N_Q28,Binormal_World_N_Q32,Position_Q38,_Blob_Intensity_,Near_Size_Q38,_Blob_Far_Size_,_Blob_Near_Distance_,_Blob_Far_Distance_,color,uv,Face_Center_Q33,Face_Size_Q50,UV_Q51,_Blob_Fade_Length_,_Selection_Fade_,_Selection_Fade_Size_,Inner_Fade_Q38,Active_Face_Center_Q49,Pulse_Q38,Fade_Q38,Blob_Enable_Q38,Out_Position_Q47,Out_UV_Q47,Blob_Info_Q47);\nvec4 Extra1_Q66;\nfloat Distance_To_Face_Q66;\nfloat Intensity_Q66;\nProximity_Vertex_B66(Blob_Position_Q41,Blob_Position_Q42,Active_Face_Center_Q49,Active_Face_Dir_Q64,Pos_World_Q13,_Proximity_Far_Distance_,Relative_Scale_Q57,_Proximity_Anisotropy_,Normalized_Q72,Extra1_Q66,Distance_To_Face_Q66,Intensity_Q66);\nvec4 Holo_Edges_Q44;\nHolo_Edge_Vertex_B44(Incident_Q36,Normal_World_N_Q29,uv,Tangent_World_Q30,Binormal_World_Q31,_Smooth_Active_Face_,Active_Q34,Holo_Edges_Q44);\nvec3 Vec3_Q19=vec3(Show_Selection_Q48,Distance_To_Face_Q66,Intensity_Q66);\nvec3 Position=Out_Position_Q47;\nvec2 UV=Out_UV_Q47;\nvec3 Tangent=Blob_Info_Q47;\nvec3 Binormal=Vec3_Q19;\nvec3 Normal=Vec3_Q27;\nvec4 Extra1=Extra1_Q66;\nvec4 Color=Holo_Edges_Q44;\ngl_Position=viewProjection*vec4(Position,1);\nvPosition=Position;\nvNormal=Normal;\nvUV=UV;\nvTangent=Tangent;\nvBinormal=Binormal;\nvColor=Color;\nvExtra1=Extra1;\n}";W.v.ShadersStore.fluentButtonVertexShader=te;var oe=function(e){function t(){var t=e.call(this)||this;return t.RELATIVE_WIDTH=!0,t.ENABLE_FADE=!0,t._needNormals=!0,t._needUVs=!0,t.rebuild(),t}return(0,h.ZT)(t,e),t}(V.H),ne=function(e){function t(o,n){var i=e.call(this,o,n)||this;return i.edgeWidth=.04,i.edgeColor=new C.HE(.592157,.592157,.592157,1),i.proximityMaxIntensity=.45,i.proximityFarDistance=.16,i.proximityNearRadius=1.5,i.proximityAnisotropy=1,i.selectionFuzz=.5,i.selected=0,i.selectionFade=0,i.selectionFadeSize=.3,i.selectedDistance=.08,i.selectedFadeLength=.08,i.blobIntensity=.5,i.blobFarSize=.05,i.blobNearDistance=0,i.blobFarDistance=.08,i.blobFadeLength=.08,i.leftBlobEnable=!0,i.leftBlobNearSize=.025,i.leftBlobPulse=0,i.leftBlobFade=1,i.leftBlobInnerFade=.01,i.rightBlobEnable=!0,i.rightBlobNearSize=.025,i.rightBlobPulse=0,i.rightBlobFade=1,i.rightBlobInnerFade=.01,i.activeFaceDir=new m.P(0,0,-1),i.activeFaceUp=new m.P(0,1,0),i.enableFade=!0,i.fadeWidth=1.5,i.smoothActiveFace=!0,i.showFrame=!1,i.useBlobTexture=!0,i.globalLeftIndexTipPosition=m.P.Zero(),i.globalRightIndexTipPosition=m.P.Zero(),i.alphaMode=J.g.ALPHA_ADD,i.disableDepthWrite=!0,i.backFaceCulling=!1,i._blobTexture=new P.x(t.BLOB_TEXTURE_URL,i.getScene(),!0,!1,P.x.NEAREST_SAMPLINGMODE),i}return(0,h.ZT)(t,e),t.prototype.needAlphaBlending=function(){return!0},t.prototype.needAlphaTesting=function(){return!0},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t.materialDefines||(t.materialDefines=new oe);var o=t.materialDefines,n=this.getScene();if(this._isReadyForSubMesh(t))return!0;var i=n.getEngine();if(A.G.PrepareDefinesForAttributes(e,o,!0,!1),o.isDirty){o.markAsProcessed(),n.resetCachedMaterial();var a=new $.L;o.FOG&&a.addFallback(1,"FOG"),A.G.HandleFallbacksForShadows(o,a),o.IMAGEPROCESSINGPOSTPROCESS=n.imageProcessingConfiguration.applyByPostProcess;var r=[G.o.PositionKind];o.NORMAL&&r.push(G.o.NormalKind),o.UV1&&r.push(G.o.UVKind),o.UV2&&r.push(G.o.UV2Kind),o.VERTEXCOLOR&&r.push(G.o.ColorKind),o.TANGENT&&r.push(G.o.TangentKind),A.G.PrepareAttributesForInstances(r,o);var _=o.toString(),l=["world","viewProjection","cameraPosition","_Edge_Width_","_Edge_Color_","_Relative_Width_","_Proximity_Max_Intensity_","_Proximity_Far_Distance_","_Proximity_Near_Radius_","_Proximity_Anisotropy_","_Selection_Fuzz_","_Selected_","_Selection_Fade_","_Selection_Fade_Size_","_Selected_Distance_","_Selected_Fade_Length_","_Blob_Enable_","_Blob_Position_","_Blob_Intensity_","_Blob_Near_Size_","_Blob_Far_Size_","_Blob_Near_Distance_","_Blob_Far_Distance_","_Blob_Fade_Length_","_Blob_Inner_Fade_","_Blob_Pulse_","_Blob_Fade_","_Blob_Texture_","_Blob_Enable_2_","_Blob_Position_2_","_Blob_Near_Size_2_","_Blob_Inner_Fade_2_","_Blob_Pulse_2_","_Blob_Fade_2_","_Active_Face_Dir_","_Active_Face_Up_","_Enable_Fade_","_Fade_Width_","_Smooth_Active_Face_","_Show_Frame_","_Use_Blob_Texture_","Use_Global_Left_Index","Use_Global_Right_Index","Global_Left_Index_Tip_Position","Global_Right_Index_Tip_Position","Global_Left_Thumb_Tip_Position","Global_Right_Thumb_Tip_Position","Global_Left_Index_Tip_Proximity","Global_Right_Index_Tip_Proximity"],s=["_Blob_Texture_"],c=new Array;A.G.PrepareUniformsAndSamplersList({uniformsNames:l,uniformBuffersNames:c,samplers:s,defines:o,maxSimultaneousLights:4}),t.setEffect(n.getEngine().createEffect("fluentButton",{attributes:r,uniformsNames:l,uniformBuffersNames:c,samplers:s,defines:_,fallbacks:a,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},i),o,this._materialContext)}return!(!t.effect||!t.effect.isReady())&&(o._renderId=n.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,o){var n=this.getScene();if(o.materialDefines){var i=o.effect;i&&(this._activeEffect=i,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix("viewProjection",n.getTransformMatrix()),this._activeEffect.setVector3("cameraPosition",n.activeCamera.position),this._activeEffect.setTexture("_Blob_Texture_",this._blobTexture),this._activeEffect.setFloat("_Edge_Width_",this.edgeWidth),this._activeEffect.setColor4("_Edge_Color_",new C.Wo(this.edgeColor.r,this.edgeColor.g,this.edgeColor.b),this.edgeColor.a),this._activeEffect.setFloat("_Proximity_Max_Intensity_",this.proximityMaxIntensity),this._activeEffect.setFloat("_Proximity_Far_Distance_",this.proximityFarDistance),this._activeEffect.setFloat("_Proximity_Near_Radius_",this.proximityNearRadius),this._activeEffect.setFloat("_Proximity_Anisotropy_",this.proximityAnisotropy),this._activeEffect.setFloat("_Selection_Fuzz_",this.selectionFuzz),this._activeEffect.setFloat("_Selected_",this.selected),this._activeEffect.setFloat("_Selection_Fade_",this.selectionFade),this._activeEffect.setFloat("_Selection_Fade_Size_",this.selectionFadeSize),this._activeEffect.setFloat("_Selected_Distance_",this.selectedDistance),this._activeEffect.setFloat("_Selected_Fade_Length_",this.selectedFadeLength),this._activeEffect.setFloat("_Blob_Enable_",this.leftBlobEnable?1:0),this._activeEffect.setFloat("_Blob_Intensity_",this.blobIntensity),this._activeEffect.setFloat("_Blob_Near_Size_",this.leftBlobNearSize),this._activeEffect.setFloat("_Blob_Far_Size_",this.blobFarSize),this._activeEffect.setFloat("_Blob_Near_Distance_",this.blobNearDistance),this._activeEffect.setFloat("_Blob_Far_Distance_",this.blobFarDistance),this._activeEffect.setFloat("_Blob_Fade_Length_",this.blobFadeLength),this._activeEffect.setFloat("_Blob_Inner_Fade_",this.leftBlobInnerFade),this._activeEffect.setFloat("_Blob_Pulse_",this.leftBlobPulse),this._activeEffect.setFloat("_Blob_Fade_",this.leftBlobFade),this._activeEffect.setFloat("_Blob_Enable_2_",this.rightBlobEnable?1:0),this._activeEffect.setFloat("_Blob_Near_Size_2_",this.rightBlobNearSize),this._activeEffect.setFloat("_Blob_Inner_Fade_2_",this.rightBlobInnerFade),this._activeEffect.setFloat("_Blob_Pulse_2_",this.rightBlobPulse),this._activeEffect.setFloat("_Blob_Fade_2_",this.rightBlobFade),this._activeEffect.setVector3("_Active_Face_Dir_",this.activeFaceDir),this._activeEffect.setVector3("_Active_Face_Up_",this.activeFaceUp),this._activeEffect.setFloat("_Fade_Width_",this.fadeWidth),this._activeEffect.setFloat("_Smooth_Active_Face_",this.smoothActiveFace?1:0),this._activeEffect.setFloat("_Show_Frame_",this.showFrame?1:0),this._activeEffect.setFloat("_Use_Blob_Texture_",this.useBlobTexture?1:0),this._activeEffect.setFloat("Use_Global_Left_Index",1),this._activeEffect.setFloat("Use_Global_Right_Index",1),this._activeEffect.setVector4("Global_Left_Index_Tip_Position",new m.Lt(this.globalLeftIndexTipPosition.x,this.globalLeftIndexTipPosition.y,this.globalLeftIndexTipPosition.z,1)),this._activeEffect.setVector4("Global_Right_Index_Tip_Position",new m.Lt(this.globalRightIndexTipPosition.x,this.globalRightIndexTipPosition.y,this.globalRightIndexTipPosition.z,1)),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){return[]},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var o=this;return w.p4.Clone((function(){return new t(e,o.getScene())}),this)},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this);return t.customType="BABYLON.FluentButtonMaterial",t},t.prototype.getClassName=function(){return"FluentButtonMaterial"},t.Parse=function(e,o,n){return w.p4.Parse((function(){return new t(e.name,o)}),e,o,n)},t.BLOB_TEXTURE_URL="https://assets.babylonjs.com/meshes/MRTK/mrtk-fluent-button-blob.png",(0,h.gn)([(0,w.qC)()],t.prototype,"edgeWidth",void 0),(0,h.gn)([(0,w.XX)()],t.prototype,"edgeColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"proximityMaxIntensity",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"proximityFarDistance",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"proximityNearRadius",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"proximityAnisotropy",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"selectionFuzz",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"selected",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"selectionFade",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"selectionFadeSize",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"selectedDistance",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"selectedFadeLength",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobIntensity",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFarSize",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobNearDistance",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFarDistance",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFadeLength",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"leftBlobEnable",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"leftBlobNearSize",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"leftBlobPulse",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"leftBlobFade",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"leftBlobInnerFade",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rightBlobEnable",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rightBlobNearSize",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rightBlobPulse",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rightBlobFade",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rightBlobInnerFade",void 0),(0,h.gn)([(0,w.hd)()],t.prototype,"activeFaceDir",void 0),(0,h.gn)([(0,w.hd)()],t.prototype,"activeFaceUp",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"enableFade",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"fadeWidth",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"smoothActiveFace",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"showFrame",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"useBlobTexture",void 0),(0,h.gn)([(0,w.hd)()],t.prototype,"globalLeftIndexTipPosition",void 0),(0,h.gn)([(0,w.hd)()],t.prototype,"globalRightIndexTipPosition",void 0),t}(z.a);(0,d.H)("BABYLON.GUI.FluentButtonMaterial",ne);var ie=function(e){function t(t,o){var n=e.call(this,t)||this;return n._isNearPressed=!1,n._interactionSurfaceHeight=0,n._isToggleButton=!1,n._toggleState=!1,n._toggleButtonCallback=function(){n._onToggle(!n._toggleState)},n.onToggleObservable=new p.y$,n.collidableFrontDirection=m.P.Zero(),o&&(n.collisionMesh=o),n}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"isActiveNearInteraction",{get:function(){return this._isNearPressed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collidableFrontDirection",{get:function(){if(this._collisionMesh){var e=m.jp.Vector3[0];return m.P.TransformNormalToRef(this._collidableFrontDirection,this._collisionMesh.getWorldMatrix(),e),e.normalize()}return this._collidableFrontDirection},set:function(e){if(this._collidableFrontDirection=e.normalize(),this._collisionMesh){var t=m.jp.Matrix[0];t.copyFrom(this._collisionMesh.getWorldMatrix()),t.invert(),m.P.TransformNormalToRef(this._collidableFrontDirection,t,this._collidableFrontDirection),this._collidableFrontDirection.normalize()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collisionMesh",{set:function(e){var t,o=this;this._collisionMesh&&(this._collisionMesh.isNearPickable=!1,(null===(t=this._collisionMesh.reservedDataStore)||void 0===t?void 0:t.GUI3D)&&(this._collisionMesh.reservedDataStore.GUI3D={}),this._collisionMesh.getChildMeshes().forEach((function(e){var t;e.isNearPickable=!1,(null===(t=e.reservedDataStore)||void 0===t?void 0:t.GUI3D)&&(e.reservedDataStore.GUI3D={})}))),this._collisionMesh=e,this._injectGUI3DReservedDataStore(this._collisionMesh).control=this,this._collisionMesh.isNearPickable=!0,this._collisionMesh.getChildMeshes().forEach((function(e){o._injectGUI3DReservedDataStore(e).control=o,e.isNearPickable=!0})),this.collidableFrontDirection=e.forward},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isToggleButton",{get:function(){return this._isToggleButton},set:function(e){e!==this._isToggleButton&&(this._isToggleButton=e,e?this.onPointerUpObservable.add(this._toggleButtonCallback):(this.onPointerUpObservable.removeCallback(this._toggleButtonCallback),this._toggleState&&this._onToggle(!1)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isToggled",{get:function(){return this._toggleState},set:function(e){this._isToggleButton&&this._toggleState!==e&&this._onToggle(e)},enumerable:!1,configurable:!0}),t.prototype._onToggle=function(e){this._toggleState=e,this.onToggleObservable.notifyObservers(e)},t.prototype._isInteractionInFrontOfButton=function(e){return this._getInteractionHeight(e,this._collisionMesh.getAbsolutePosition())>0},t.prototype.getPressDepth=function(e){if(!this._isNearPressed)return 0;var t=this._getInteractionHeight(e,this._collisionMesh.getAbsolutePosition());return this._interactionSurfaceHeight-t},t.prototype._getInteractionHeight=function(e,t){var o=this.collidableFrontDirection;if(0===o.length())return m.P.Distance(e,t);var n=m.P.Dot(t,o);return m.P.Dot(e,o)-n},t.prototype._generatePointerEventType=function(e,t,o){if(e===b.kD.POINTERDOWN){if(!this._isInteractionInFrontOfButton(t))return b.kD.POINTERMOVE;this._isNearPressed=!0,this._interactionSurfaceHeight=this._getInteractionHeight(t,this._collisionMesh.getAbsolutePosition())}if(e===b.kD.POINTERUP){if(0==o)return b.kD.POINTERMOVE;this._isNearPressed=!1}return e},t.prototype._getTypeName=function(){return"TouchButton3D"},t.prototype._createNode=function(t){return e.prototype._createNode.call(this,t)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.onPointerUpObservable.removeCallback(this._toggleButtonCallback),this.onToggleObservable.clear(),this._collisionMesh&&this._collisionMesh.dispose()},t}(I),ae=o(63407),re=o(72739),_e=function(e){function t(t,o){void 0===o&&(o=!0);var n=e.call(this,t)||this;return n._shareMaterials=!0,n._isBackplateVisible=!0,n._frontPlateDepth=.5,n._backPlateDepth=.04,n._backplateColor=new C.Wo(.08,.15,.55),n._backplateToggledColor=new C.Wo(.25,.4,.95),n._shareMaterials=o,n.pointerEnterAnimation=function(){n._frontMaterial.leftBlobEnable=!0,n._frontMaterial.rightBlobEnable=!0},n.pointerOutAnimation=function(){n._frontMaterial.leftBlobEnable=!1,n._frontMaterial.rightBlobEnable=!1},n.pointerDownAnimation=function(){n._frontPlate&&!n.isActiveNearInteraction&&(n._frontPlate.scaling.z=.2*n._frontPlateDepth,n._frontPlate.position=m.P.Forward(n._frontPlate._scene.useRightHandedSystem).scale((n._frontPlateDepth-.2*n._frontPlateDepth)/2),n._textPlate.position=m.P.Forward(n._textPlate._scene.useRightHandedSystem).scale(-(n._backPlateDepth+.2*n._frontPlateDepth)/2))},n.pointerUpAnimation=function(){n._frontPlate&&(n._frontPlate.scaling.z=n._frontPlateDepth,n._frontPlate.position=m.P.Forward(n._frontPlate._scene.useRightHandedSystem).scale((n._frontPlateDepth-n._frontPlateDepth)/2),n._textPlate.position=m.P.Forward(n._textPlate._scene.useRightHandedSystem).scale(-(n._backPlateDepth+n._frontPlateDepth)/2))},n.onPointerMoveObservable.add((function(e){if(n._frontPlate&&n.isActiveNearInteraction){var t=m.P.Zero();if(n._backPlate.getWorldMatrix().decompose(t,void 0,void 0)){var o=n._getInteractionHeight(e,n._backPlate.getAbsolutePosition())/t.z;o=re.R.Clamp(o-n._backPlateDepth/2,.2*n._frontPlateDepth,n._frontPlateDepth),n._frontPlate.scaling.z=o,n._frontPlate.position=m.P.Forward(n._frontPlate._scene.useRightHandedSystem).scale((n._frontPlateDepth-o)/2),n._textPlate.position=m.P.Forward(n._textPlate._scene.useRightHandedSystem).scale(-(n._backPlateDepth+o)/2)}}})),n._pointerHoverObserver=n.onPointerMoveObservable.add((function(e){n._frontMaterial.globalLeftIndexTipPosition=e})),n}return(0,h.ZT)(t,e),t.prototype._disposeTooltip=function(){this._tooltipFade=null,this._tooltipTextBlock&&this._tooltipTextBlock.dispose(),this._tooltipTexture&&this._tooltipTexture.dispose(),this._tooltipMesh&&this._tooltipMesh.dispose(),this.onPointerEnterObservable.remove(this._tooltipHoverObserver),this.onPointerOutObservable.remove(this._tooltipOutObserver)},Object.defineProperty(t.prototype,"renderingGroupId",{get:function(){return this._backPlate.renderingGroupId},set:function(e){this._backPlate.renderingGroupId=e,this._textPlate.renderingGroupId=e,this._frontPlate.renderingGroupId=e,this._tooltipMesh&&(this._tooltipMesh.renderingGroupId=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mesh",{get:function(){return this._backPlate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltipText",{get:function(){return this._tooltipTextBlock?this._tooltipTextBlock.text:null},set:function(e){var t=this;if(e){if(!this._tooltipFade){var o=this._backPlate._scene.useRightHandedSystem;this._tooltipMesh=(0,M.pT)("",{size:1},this._backPlate._scene);var n=(0,M.pT)("",{size:1,sideOrientation:D.Kj.DOUBLESIDE},this._backPlate._scene),a=new T.K("",this._backPlate._scene);a.diffuseColor=C.Wo.FromHexString("#212121"),n.material=a,n.isPickable=!1,this._tooltipMesh.addChild(n),n.position=m.P.Forward(o).scale(.05),this._tooltipMesh.scaling.y=1/3,this._tooltipMesh.position=m.P.Up().scale(.7).add(m.P.Forward(o).scale(-.15)),this._tooltipMesh.isPickable=!1,this._tooltipMesh.parent=this._backPlate,this._tooltipTexture=i.i.CreateForMesh(this._tooltipMesh),this._tooltipTextBlock=new Y.a,this._tooltipTextBlock.scaleY=3,this._tooltipTextBlock.color="white",this._tooltipTextBlock.fontSize=130,this._tooltipTexture.addControl(this._tooltipTextBlock),this._tooltipFade=new O.Y,this._tooltipFade.delay=500,this._tooltipMesh.addBehavior(this._tooltipFade),this._tooltipHoverObserver=this.onPointerEnterObservable.add((function(){t._tooltipFade&&t._tooltipFade.fadeIn(!0)})),this._tooltipOutObserver=this.onPointerOutObservable.add((function(){t._tooltipFade&&t._tooltipFade.fadeIn(!1)}))}this._tooltipTextBlock&&(this._tooltipTextBlock.text=e)}else this._disposeTooltip()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text!==e&&(this._text=e,this._rebuildContent())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(e){this._imageUrl!==e&&(this._imageUrl=e,this._rebuildContent())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backMaterial",{get:function(){return this._backMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frontMaterial",{get:function(){return this._frontMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"plateMaterial",{get:function(){return this._plateMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shareMaterials",{get:function(){return this._shareMaterials},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isBackplateVisible",{set:function(e){this.mesh&&this._backMaterial&&(e&&!this._isBackplateVisible?this._backPlate.visibility=1:!e&&this._isBackplateVisible&&(this._backPlate.visibility=0)),this._isBackplateVisible=e},enumerable:!1,configurable:!0}),t.prototype._getTypeName=function(){return"TouchHolographicButton"},t.prototype._rebuildContent=function(){this._disposeFacadeTexture();var e=new j.e;if(e.isVertical=!0,Z.MZ.IsDocumentAvailable()&&document.createElement&&this._imageUrl){var t=new X.E;t.source=this._imageUrl,t.paddingTop="40px",t.height="180px",t.width="100px",t.paddingBottom="40px",e.addControl(t)}if(this._text){var o=new Y.a;o.text=this._text,o.color="white",o.height="30px",o.fontSize=24,e.addControl(o)}this.content=e},t.prototype._createNode=function(o){var n,i=this;this.name=null!==(n=this.name)&&void 0!==n?n:"TouchHolographicButton";var a=(0,S.NR)("".concat(this.name,"_collisionMesh"),{width:1,height:1,depth:this._frontPlateDepth},o);a.isPickable=!0,a.isNearPickable=!0,a.visibility=0,a.position=m.P.Forward(o.useRightHandedSystem).scale(-this._frontPlateDepth/2),ae.n.ImportMeshAsync(void 0,t.MODEL_BASE_URL,t.MODEL_FILENAME,o).then((function(e){var t=(0,S.NR)("${this.name}_alphaMesh",{width:1,height:1,depth:1},o);t.isPickable=!1,t.material=new T.K("${this.name}_alphaMesh_material",o),t.material.alpha=.15;var n=e.meshes[1];n.name="".concat(i.name,"_frontPlate"),n.isPickable=!1,n.scaling.z=i._frontPlateDepth,t.parent=n,n.parent=a,i._frontMaterial&&(n.material=i._frontMaterial),i._frontPlate=n})),this._backPlate=(0,S.NR)("".concat(this.name,"_backPlate"),{width:1,height:1,depth:this._backPlateDepth},o),this._backPlate.position=m.P.Forward(o.useRightHandedSystem).scale(this._backPlateDepth/2),this._backPlate.isPickable=!1,this._textPlate=e.prototype._createNode.call(this,o),this._textPlate.name="".concat(this.name,"_textPlate"),this._textPlate.isPickable=!1,this._textPlate.position=m.P.Forward(o.useRightHandedSystem).scale(-this._frontPlateDepth/2),this._backPlate.addChild(a),this._backPlate.addChild(this._textPlate);var r=new v.Y("{this.name}_root",o);return this._backPlate.setParent(r),this.collisionMesh=a,this.collidableFrontDirection=this._backPlate.forward.negate(),r},t.prototype._applyFacade=function(e){this._plateMaterial.emissiveTexture=e,this._plateMaterial.opacityTexture=e,this._plateMaterial.diffuseColor=new C.Wo(.4,.4,.4)},t.prototype._createBackMaterial=function(e){this._backMaterial=new q(this.name+"backPlateMaterial",e.getScene()),this._backMaterial.albedoColor=this._backplateColor,this._backMaterial.renderBorders=!0,this._backMaterial.renderHoverLight=!1},t.prototype._createFrontMaterial=function(e){this._frontMaterial=new ne(this.name+"Front Material",e.getScene())},t.prototype._createPlateMaterial=function(e){this._plateMaterial=new T.K(this.name+"Plate Material",e.getScene()),this._plateMaterial.specularColor=C.Wo.Black()},t.prototype._onToggle=function(t){this._backMaterial&&(this._backMaterial.albedoColor=t?this._backplateToggledColor:this._backplateColor),e.prototype._onToggle.call(this,t)},t.prototype._affectMaterial=function(e){this._shareMaterials?(this._host._touchSharedMaterials.backFluentMaterial?this._backMaterial=this._host._touchSharedMaterials.backFluentMaterial:(this._createBackMaterial(e),this._host._touchSharedMaterials.backFluentMaterial=this._backMaterial),this._host._touchSharedMaterials.frontFluentMaterial?this._frontMaterial=this._host._touchSharedMaterials.frontFluentMaterial:(this._createFrontMaterial(e),this._host._touchSharedMaterials.frontFluentMaterial=this._frontMaterial)):(this._createBackMaterial(e),this._createFrontMaterial(e)),this._createPlateMaterial(e),this._backPlate.material=this._backMaterial,this._textPlate.material=this._plateMaterial,this._isBackplateVisible||(this._backPlate.visibility=0),this._frontPlate&&(this._frontPlate.material=this._frontMaterial),this._rebuildContent()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._disposeTooltip(),this.onPointerMoveObservable.remove(this._pointerHoverObserver),this.shareMaterials||(this._backMaterial.dispose(),this._frontMaterial.dispose(),this._plateMaterial.dispose(),this._pickedPointObserver&&(this._host.onPickedPointChangedObservable.remove(this._pickedPointObserver),this._pickedPointObserver=null))},t.MODEL_BASE_URL="https://assets.babylonjs.com/meshes/MRTK/",t.MODEL_FILENAME="mrtk-fluent-button.glb",t}(ie),le=o(96029),se=o(74392),ce=o(52597),he=o(72664),de=function(){function e(){this.followBehaviorEnabled=!1,this.sixDofDragBehaviorEnabled=!0,this.surfaceMagnetismBehaviorEnabled=!0,this._followBehavior=new se.j,this._sixDofDragBehavior=new ce.K,this._surfaceMagnetismBehavior=new he.p}return Object.defineProperty(e.prototype,"name",{get:function(){return"Default"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"followBehavior",{get:function(){return this._followBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sixDofDragBehavior",{get:function(){return this._sixDofDragBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"surfaceMagnetismBehavior",{get:function(){return this._surfaceMagnetismBehavior},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.attach=function(e,t,o){this._scene=e.getScene(),this.attachedNode=e,this._addObservables(),this._followBehavior.attach(e),this._sixDofDragBehavior.attach(e),this._sixDofDragBehavior.draggableMeshes=t||null,this._sixDofDragBehavior.faceCameraOnDragStart=!0,this._surfaceMagnetismBehavior.attach(e,this._scene),o&&(this._surfaceMagnetismBehavior.meshes=o),this._surfaceMagnetismBehavior.enabled=!1},e.prototype.detach=function(){this.attachedNode=null,this._removeObservables(),this._followBehavior.detach(),this._sixDofDragBehavior.detach(),this._surfaceMagnetismBehavior.detach()},e.prototype._addObservables=function(){var e=this;this._onBeforeRenderObserver=this._scene.onBeforeRenderObservable.add((function(){e._followBehavior._enabled=!e._sixDofDragBehavior.isMoving&&e.followBehaviorEnabled})),this._onDragObserver=this._sixDofDragBehavior.onDragObservable.add((function(t){e._sixDofDragBehavior.disableMovement=e._surfaceMagnetismBehavior.findAndUpdateTarget(t.pickInfo)}))},e.prototype._removeObservables=function(){this._scene.onBeforeRenderObservable.remove(this._onBeforeRenderObserver),this._sixDofDragBehavior.onDragObservable.remove(this._onDragObserver)},e}(),fe=o(20440),ue=o(48154),ve=o(11337),pe=o(54067),me="precision highp float;\nattribute vec3 position;\nuniform vec3 positionOffset;\nuniform mat4 worldViewProjection;\nuniform float scale;\nvoid main(void) {\nvec4 vPos=vec4((vec3(position)+positionOffset)*scale,1.0);\ngl_Position=worldViewProjection*vPos;\n}";W.v.ShadersStore.handleVertexShader=me;var be="uniform vec3 color;\nvoid main(void) {\ngl_FragColor=vec4(color,1.0);\n}";W.v.ShadersStore.handlePixelShader=be;var ge,ye=function(e){function t(t,o){var n=e.call(this,t,o,"handle",{attributes:["position"],uniforms:["worldViewProjection","color","scale","positionOffset"],needAlphaBlending:!1,needAlphaTesting:!1})||this;return n._hover=!1,n._drag=!1,n._color=new C.Wo,n._scale=1,n._lastTick=-1,n.animationLength=100,n.hoverColor=new C.Wo(0,.467,.84),n.baseColor=new C.Wo(1,1,1),n.hoverScale=.75,n.baseScale=.35,n.dragScale=.55,n._positionOffset=m.P.Zero(),n._updateInterpolationTarget(),n._lastTick=Date.now(),n._onBeforeRender=n.getScene().onBeforeRenderObservable.add((function(){var e=Date.now(),t=e-n._lastTick,o=n._targetScale-n._scale,i=C.zZ.Color3[0].copyFrom(n._targetColor).subtractToRef(n._color,C.zZ.Color3[0]);n._scale=n._scale+o*t/n.animationLength,i.scaleToRef(t/n.animationLength,i),n._color.addToRef(i,n._color),n.setColor3("color",n._color),n.setFloat("scale",n._scale),n.setVector3("positionOffset",n._positionOffset),n._lastTick=e})),n}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"hover",{get:function(){return this._hover},set:function(e){this._hover=e,this._updateInterpolationTarget()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drag",{get:function(){return this._drag},set:function(e){this._drag=e,this._updateInterpolationTarget()},enumerable:!1,configurable:!0}),t.prototype._updateInterpolationTarget=function(){this.drag?(this._targetColor=this.hoverColor,this._targetScale=this.dragScale):this.hover?(this._targetColor=this.hoverColor,this._targetScale=this.hoverScale):(this._targetColor=this.baseColor,this._targetScale=this.baseScale)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.getScene().onBeforeRenderObservable.remove(this._onBeforeRender)},t}(pe.j),Be=o(54951);!function(e){e[e.IDLE=0]="IDLE",e[e.HOVER=1]="HOVER",e[e.DRAG=2]="DRAG"}(ge||(ge={}));var Pe=function(){function e(e,t){this._state=ge.IDLE,this._materials=[],this._scene=t,this._gizmo=e,this.node=this.createNode(),this.node.reservedDataStore={handle:this}}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gizmo",{get:function(){return this._gizmo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hover",{set:function(e){e?this._state|=ge.HOVER:this._state&=~ge.HOVER,this._updateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"drag",{set:function(e){e?this._state|=ge.DRAG:this._state&=~ge.DRAG,this._updateMaterial()},enumerable:!1,configurable:!0}),e.prototype._createMaterial=function(e){var t=new ye("handle",this._scene);return e&&(t._positionOffset=e),t},e.prototype._updateMaterial=function(){for(var e=this._state,t=0,o=this._materials;t<o.length;t++){(_=o[t]).hover=!1,_.drag=!1}if(e&ge.DRAG)for(var n=0,i=this._materials;n<i.length;n++){(_=i[n]).drag=!0}else if(e&ge.HOVER)for(var a=0,r=this._materials;a<r.length;a++){var _;(_=r[a]).hover=!0}},e.prototype.setDragBehavior=function(e,t,o){var n=new Be.N;this._dragBehavior=n,this._dragStartObserver=n.onDragStartObservable.add(e),this._draggingObserver=n.onDragObservable.add(t),this._dragEndObserver=n.onDragEndObservable.add(o),this._dragBehavior.attach(this.node)},e.prototype.dispose=function(){this._dragBehavior.onDragStartObservable.remove(this._dragStartObserver),this._dragBehavior.onDragObservable.remove(this._draggingObserver),this._dragBehavior.onDragEndObservable.remove(this._dragEndObserver),this._dragBehavior.detach();for(var e=0,t=this._materials;e<t.length;e++){t[e].dispose()}this.node.dispose()},e}(),xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,h.ZT)(t,e),t.prototype.createNode=function(){var e=(0,S.NR)("sideVert",{width:1,height:10,depth:.1},this._scene),t=new v.Y("side",this._scene);e.parent=t;var o=this._createMaterial();return e.material=o,e.isNearGrabbable=!0,this._materials.push(o),t},t}(Pe),Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,h.ZT)(t,e),t.prototype.createNode=function(){var e=(0,S.NR)("angleHor",{width:3,height:1,depth:.1},this._scene),t=(0,S.NR)("angleVert",{width:1,height:3,depth:.1},this._scene),o=new v.Y("angle",this._scene);return e.parent=o,t.parent=o,e.material=this._createMaterial(new m.P(1,0,0)),t.material=this._createMaterial(new m.P(0,1,0)),t.isNearGrabbable=!0,e.isNearGrabbable=!0,this._materials.push(e.material),this._materials.push(t.material),o},t}(Pe),Se=function(e){function t(t){var o=e.call(this,t)||this;return o._boundingDimensions=new m.P(0,0,0),o._renderObserver=null,o._tmpQuaternion=new m._f,o._tmpVector=new m.P(0,0,0),o._corners=[],o._sides=[],o._boundingBoxGizmo={min:new m.P,max:new m.P},o._margin=.35,o._handleSize=.075,o._attachedSlate=null,o._existingSlateScale=new m.P,o.fixedScreenSize=!1,o.fixedScreenSizeDistanceFactor=10,o._createNode(),o.updateScale=!1,o._renderObserver=o.gizmoLayer.originalScene.onBeforeRenderObservable.add((function(){o.attachedMesh&&!o._existingSlateScale.equals(o.attachedMesh.scaling)&&o.updateBoundingBox()})),o}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"attachedSlate",{get:function(){return this._attachedSlate},set:function(e){var t=this;e?(this.attachedMesh=e.mesh,this.updateBoundingBox(),this._pickedPointObserver=e._host.onPickingObservable.add((function(e){if(!t._handleHovered||e&&e.parent===t._handleHovered.node||(t._handleHovered.hover=!1,t._handleHovered=null),e&&e.parent&&e.parent.reservedDataStore&&e.parent.reservedDataStore.handle){var o=e.parent.reservedDataStore.handle;o.gizmo===t&&(t._handleHovered=o,t._handleHovered.hover=!0)}}))):this._attachedSlate&&this._attachedSlate._host.onPickingObservable.remove(this._pickedPointObserver),this._attachedSlate=e},enumerable:!1,configurable:!0}),t.prototype._createNode=function(){var e=this;this._handlesParent=new v.Y("handlesParent",this.gizmoLayer.utilityLayerScene),this._handlesParent.rotationQuaternion=m._f.Identity();for(var t=[{dimensions:new m.P(-1,-1,0),origin:new m.P(1,0,0)},{dimensions:new m.P(1,-1,0),origin:new m.P(0,0,0)},{dimensions:new m.P(1,1,0),origin:new m.P(0,1,0)},{dimensions:new m.P(-1,1,0),origin:new m.P(1,1,0)}],o=0;o<4;o++){var n=new Re(this,this.gizmoLayer.utilityLayerScene);this._corners.push(n),n.node.rotation.z=Math.PI/2*o,n.node.parent=this._handlesParent,this._assignDragBehaviorCorners(n,(function(t,o,n,i){return e._moveHandle(t,o,n,i,!0)}),t[o])}for(o=0;o<4;o++){var i=new xe(this,this.gizmoLayer.utilityLayerScene);this._sides.push(i),i.node.rotation.z=Math.PI/2*o,i.node.parent=this._handlesParent,this._assignDragBehaviorSides(i,o%2==0?new m.P(0,1,0):new m.P(1,0,0))}this._handlesParent.parent=this._rootMesh},t.prototype._keepAspectRatio=function(e,t,o){void 0===o&&(o=!1);var n=m.jp.Vector3[0];n.copyFromFloats(t,1,0).normalize(),o&&(n.y*=-1);var i=m.P.Dot(e,n);e.copyFrom(n).scaleInPlace(i)},t.prototype._clampDimensions=function(e,t,o,n){void 0===n&&(n=!1);var i=m.jp.Vector3[0];i.copyFrom(e).multiplyInPlace(o);var a=m.jp.Vector3[1];if(a.copyFromFloats(Math.max(this._attachedSlate.minDimensions.x,i.x+t.x),Math.max(this._attachedSlate.minDimensions.y,i.y+t.y),0),n){var r=t.x/t.y;a.x=Math.max(a.x,a.y*r),a.y=Math.max(a.y,a.x/r)}i.copyFrom(a).subtractInPlace(t),e.x=Math.sign(e.x)*Math.abs(i.x),e.y=Math.sign(e.y)*Math.abs(i.y)},t.prototype._moveHandle=function(e,t,o,n,i){if(this._attachedSlate){if(i){var a=t.x/t.y;this._keepAspectRatio(o,a,n.dimensions.x*n.dimensions.y<0)}this._clampDimensions(o,t,n.dimensions,i);var r=m.jp.Vector3[0],_=m.jp.Vector3[1];r.copyFrom(o).multiplyInPlace(n.origin),_.copyFrom(o).multiplyInPlace(n.dimensions),this._attachedSlate.origin.copyFrom(e).addInPlace(r),this._attachedSlate.dimensions.set(t.x+_.x,t.y+_.y)}},t.prototype._assignDragBehaviorCorners=function(e,t,o){var n=this,i=new m.P,a=new m.P,r=new m.P,_=new m.y3,l=new m.P;e.setDragBehavior((function(e){n.attachedSlate&&n.attachedMesh&&(i.set(n.attachedSlate.dimensions.x,n.attachedSlate.dimensions.y,ue.kn),a.copyFrom(n.attachedSlate.origin),r.copyFrom(e.position),_.copyFrom(n.attachedMesh.computeWorldMatrix(!0)),_.invert(),n.attachedSlate._followButton.isToggled=!1,m.P.TransformNormalToRef(m.P.Forward(),n.attachedMesh.getWorldMatrix(),l),l.normalize(),n._handleHovered&&(n._handleDragged=n._handleHovered,n._handleDragged.drag=!0))}),(function(e){n.attachedSlate&&n.attachedMesh&&(!function(e,t,o,n){e.subtractToRef(o,m.jp.Vector3[0]);var i=m.P.Dot(m.jp.Vector3[0],t);m.jp.Vector3[1].copyFrom(t).scaleInPlace(i),m.jp.Vector3[0].subtractInPlace(m.jp.Vector3[1]),m.jp.Vector3[0].addToRef(o,n)}(e.position,l,r,n._tmpVector),n._tmpVector.subtractInPlace(r),m.P.TransformNormalToRef(n._tmpVector,_,n._tmpVector),t(a,i,n._tmpVector,o),n.attachedSlate._positionElements(),n.updateBoundingBox())}),(function(){n.attachedSlate&&n.attachedNode&&(n.attachedSlate._updatePivot(),n._handleDragged&&(n._handleDragged.drag=!1,n._handleDragged=null))}))},t.prototype._assignDragBehaviorSides=function(e,t){var o=this,n=new m._f,i=new m.P,a=new m.P,r=new m.P,_=new m.P;e.setDragBehavior((function(e){o.attachedSlate&&o.attachedMesh&&(n.copyFrom(o.attachedMesh.rotationQuaternion),i.copyFrom(e.position),r.copyFrom(o.attachedMesh.getAbsolutePivotPoint()),a.copyFrom(i).subtractInPlace(r).normalize(),o.attachedSlate._followButton.isToggled=!1,m.P.TransformNormalToRef(t,o.attachedMesh.getWorldMatrix(),_),_.normalize(),o._handleHovered&&(o._handleDragged=o._handleHovered,o._handleDragged.drag=!0))}),(function(e){if(o.attachedSlate&&o.attachedMesh){o._tmpVector.copyFrom(e.position),o._tmpVector.subtractInPlace(r),o._tmpVector.normalize();var i=-m.P.GetAngleBetweenVectorsOnPlane(o._tmpVector,a,_);m._f.RotationAxisToRef(t,i,o._tmpQuaternion),n.multiplyToRef(o._tmpQuaternion,o.attachedMesh.rotationQuaternion)}}),(function(){o.attachedSlate&&o.attachedNode&&(o.attachedSlate._updatePivot(),o._handleDragged&&(o._handleDragged.drag=!1,o._handleDragged=null))}))},t.prototype._attachedNodeChanged=function(e){e&&this.updateBoundingBox()},t.prototype.updateBoundingBox=function(){if(this.attachedMesh){ve.m._RemoveAndStorePivotPoint(this.attachedMesh);var e=this.attachedMesh.parent;this.attachedMesh.setParent(null),this._update(),this.attachedMesh.rotationQuaternion||(this.attachedMesh.rotationQuaternion=m._f.RotationYawPitchRoll(this.attachedMesh.rotation.y,this.attachedMesh.rotation.x,this.attachedMesh.rotation.z)),this._tmpQuaternion.copyFrom(this.attachedMesh.rotationQuaternion),this._tmpVector.copyFrom(this.attachedMesh.position),this.attachedMesh.rotationQuaternion.set(0,0,0,1),this.attachedMesh.position.set(0,0,0);var t=this.attachedMesh.getHierarchyBoundingVectors();t.max.subtractToRef(t.min,this._boundingDimensions),this._boundingBoxGizmo.min=t.min,this._boundingBoxGizmo.max=t.max,this._updateHandlesPosition(),this._updateHandlesScaling(),this.attachedMesh.rotationQuaternion.copyFrom(this._tmpQuaternion),this.attachedMesh.position.copyFrom(this._tmpVector),ve.m._RestorePivotPoint(this.attachedMesh),this.attachedMesh.setParent(e),this.attachedMesh.computeWorldMatrix(!0),this._existingSlateScale.copyFrom(this.attachedMesh.scaling)}},t.prototype._updateHandlesPosition=function(){var e=this._boundingBoxGizmo.min.clone(),t=this._boundingBoxGizmo.max.clone(),o=this._corners[0].node.scaling.length();e.x-=this._margin*o,e.y-=this._margin*o,t.x+=this._margin*o,t.y+=this._margin*o;var n=e.add(t).scaleInPlace(.5);this._corners[0].node.position.copyFromFloats(e.x,e.y,0),this._corners[1].node.position.copyFromFloats(t.x,e.y,0),this._corners[2].node.position.copyFromFloats(t.x,t.y,0),this._corners[3].node.position.copyFromFloats(e.x,t.y,0),this._sides[0].node.position.copyFromFloats(e.x,n.y,0),this._sides[1].node.position.copyFromFloats(n.x,e.y,0),this._sides[2].node.position.copyFromFloats(t.x,n.y,0),this._sides[3].node.position.copyFromFloats(n.x,t.y,0)},t.prototype._updateHandlesScaling=function(){if(this._attachedSlate&&this._attachedSlate.mesh){for(var e=this._attachedSlate.mesh.scaling.x*this._attachedSlate.dimensions.x,t=this._attachedSlate.mesh.scaling.y*this._attachedSlate.dimensions.y,o=Math.min(e,t)*this._handleSize,n=0;n<this._corners.length;n++)this._corners[n].node.scaling.setAll(o);for(n=0;n<this._sides.length;n++)this._sides[n].node.scaling.setAll(o)}},t.prototype._update=function(){if(e.prototype._update.call(this),this.gizmoLayer.utilityLayerScene.activeCamera&&this._attachedSlate&&this._attachedSlate.mesh){if(this.fixedScreenSize){this._attachedSlate.mesh.absolutePosition.subtractToRef(this.gizmoLayer.utilityLayerScene.activeCamera.position,this._tmpVector);for(var t=this._handleSize*this._tmpVector.length()/this.fixedScreenSizeDistanceFactor,o=0;o<this._corners.length;o++)this._corners[o].node.scaling.set(t,t,t);for(o=0;o<this._sides.length;o++)this._sides[o].node.scaling.set(t,t,t)}this._updateHandlesPosition()}},t.prototype.dispose=function(){this.gizmoLayer.originalScene.onBeforeRenderObservable.remove(this._renderObserver),e.prototype.dispose.call(this);for(var t=0,o=this._corners;t<o.length;t++){o[t].dispose()}for(var n=0,i=this._sides;n<i.length;n++){i[n].dispose()}},t}(fe.t),Te="uniform vec3 cameraPosition;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUV;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec4 vColor;\nvarying vec4 vExtra1;\nvarying vec4 vExtra2;\nvarying vec4 vExtra3;\nuniform float _Radius_;\nuniform float _Line_Width_;\nuniform bool _Absolute_Sizes_;\nuniform float _Filter_Width_;\nuniform vec4 _Base_Color_;\nuniform vec4 _Line_Color_;\nuniform float _Radius_Top_Left_;\nuniform float _Radius_Top_Right_;\nuniform float _Radius_Bottom_Left_;\nuniform float _Radius_Bottom_Right_;\nuniform vec3 _Blob_Position_;\nuniform float _Blob_Intensity_;\nuniform float _Blob_Near_Size_;\nuniform float _Blob_Far_Size_;\nuniform float _Blob_Near_Distance_;\nuniform float _Blob_Far_Distance_;\nuniform float _Blob_Fade_Length_;\nuniform float _Blob_Pulse_;\nuniform float _Blob_Fade_;\nuniform sampler2D _Blob_Texture_;\nuniform vec3 _Blob_Position_2_;\nuniform float _Blob_Near_Size_2_;\nuniform float _Blob_Pulse_2_;\nuniform float _Blob_Fade_2_;\nuniform float _Rate_;\nuniform vec4 _Highlight_Color_;\nuniform float _Highlight_Width_;\nuniform vec4 _Highlight_Transform_;\nuniform float _Highlight_;\nuniform float _Iridescence_Intensity_;\nuniform float _Iridescence_Edge_Intensity_;\nuniform float _Angle_;\nuniform float _Fade_Out_;\nuniform bool _Reflected_;\nuniform float _Frequency_;\nuniform float _Vertical_Offset_;\nuniform sampler2D _Iridescent_Map_;\nuniform bool _Use_Global_Left_Index_;\nuniform bool _Use_Global_Right_Index_;\nuniform vec4 Global_Left_Index_Tip_Position;\nuniform vec4 Global_Right_Index_Tip_Position;\nvoid Round_Rect_Fragment_B31(\nfloat Radius,\nfloat Line_Width,\nvec4 Line_Color,\nfloat Filter_Width,\nvec2 UV,\nfloat Line_Visibility,\nvec4 Rect_Parms,\nvec4 Fill_Color,\nout vec4 Color)\n{\nfloat d=length(max(abs(UV)-Rect_Parms.xy,0.0));\nfloat dx=max(fwidth(d)*Filter_Width,0.00001);\nfloat g=min(Rect_Parms.z,Rect_Parms.w);\nfloat dgrad=max(fwidth(g)*Filter_Width,0.00001);\nfloat Inside_Rect=clamp(g/dgrad,0.0,1.0);\nfloat inner=clamp((d+dx*0.5-max(Radius-Line_Width,d-dx*0.5))/dx,0.0,1.0);\nColor=clamp(mix(Fill_Color,Line_Color,inner),0.0,1.0)*Inside_Rect;\n}\nvoid Blob_Fragment_B71(\nsampler2D Blob_Texture,\nvec4 Blob_Info1,\nvec4 Blob_Info2,\nout vec4 Blob_Color)\n{\nfloat k1=dot(Blob_Info1.xy,Blob_Info1.xy);\nfloat k2=dot(Blob_Info2.xy,Blob_Info2.xy);\nvec3 closer=k1<k2 ? vec3(k1,Blob_Info1.z,Blob_Info1.w) : vec3(k2,Blob_Info2.z,Blob_Info2.w);\nBlob_Color=closer.z*texture(Blob_Texture,vec2(vec2(sqrt(closer.x),closer.y).x,1.0-vec2(sqrt(closer.x),closer.y).y))*clamp(1.0-closer.x,0.0,1.0);\n}\nvoid Line_Fragment_B48(\nvec4 Base_Color,\nvec4 Highlight_Color,\nfloat Highlight_Width,\nvec3 Line_Vertex,\nfloat Highlight,\nout vec4 Line_Color)\n{\nfloat k2=1.0-clamp(abs(Line_Vertex.y/Highlight_Width),0.0,1.0);\nLine_Color=mix(Base_Color,Highlight_Color,Highlight*k2);\n}\nvoid Scale_RGB_B54(\nvec4 Color,\nfloat Scalar,\nout vec4 Result)\n{\nResult=vec4(Scalar,Scalar,Scalar,1)*Color;\n}\nvoid Conditional_Float_B38(\nbool Which,\nfloat If_True,\nfloat If_False,\nout float Result)\n{\nResult=Which ? If_True : If_False;\n}\nvoid main()\n{\nfloat R_Q72;\nfloat G_Q72;\nfloat B_Q72;\nfloat A_Q72;\nR_Q72=vColor.r; G_Q72=vColor.g; B_Q72=vColor.b; A_Q72=vColor.a;\nvec4 Blob_Color_Q71;\n#if BLOB_ENABLE\nfloat k1=dot(vExtra2.xy,vExtra2.xy);\nfloat k2=dot(vExtra3.xy,vExtra3.xy);\nvec3 closer=k1<k2 ? vec3(k1,vExtra2.z,vExtra2.w) : vec3(k2,vExtra3.z,vExtra3.w);\nBlob_Color_Q71=closer.z*texture(_Blob_Texture_,vec2(vec2(sqrt(closer.x),closer.y).x,1.0-vec2(sqrt(closer.x),closer.y).y))*clamp(1.0-closer.x,0.0,1.0);\n#else\nBlob_Color_Q71=vec4(0,0,0,0);\n#endif\nvec4 Line_Color_Q48;\nLine_Fragment_B48(_Line_Color_,_Highlight_Color_,_Highlight_Width_,vTangent,_Highlight_,Line_Color_Q48);\nfloat X_Q67;\nfloat Y_Q67;\nX_Q67=vUV.x;\nY_Q67=vUV.y;\nvec3 Incident_Q66=normalize(vPosition-cameraPosition);\nvec3 Reflected_Q60=reflect(Incident_Q66,vBinormal);\nfloat Product_Q63=Y_Q67*_Vertical_Offset_;\nfloat Dot_Q68=dot(Incident_Q66, Reflected_Q60);\nfloat Dot_Q57=dot(vNormal, Incident_Q66);\nfloat Result_Q38;\nConditional_Float_B38(_Reflected_,Dot_Q68,Dot_Q57,Result_Q38);\nfloat Product_Q64=Result_Q38*_Frequency_;\nfloat Sum_Q69=Product_Q64+1.0;\nfloat Product_Q70=Sum_Q69*0.5;\nfloat Sum_Q62=Product_Q63+Product_Q70;\nfloat FractF_Q59=fract(Sum_Q62);\nvec2 Vec2_Q65=vec2(FractF_Q59,0.5);\nvec4 Color_Q58;\n#if IRIDESCENT_MAP_ENABLE\nColor_Q58=texture(_Iridescent_Map_,Vec2_Q65);\n#else\nColor_Q58=vec4(0,0,0,0);\n#endif\nvec4 Result_Q54;\nScale_RGB_B54(Color_Q58,_Iridescence_Edge_Intensity_,Result_Q54);\nvec4 Result_Q55;\nScale_RGB_B54(Color_Q58,_Iridescence_Intensity_,Result_Q55);\nvec4 Base_And_Iridescent_Q53;\nBase_And_Iridescent_Q53=Line_Color_Q48+vec4(Result_Q54.rgb,0.0);\nvec4 Base_And_Iridescent_Q56;\nBase_And_Iridescent_Q56=_Base_Color_+vec4(Result_Q55.rgb,0.0);\nvec4 Result_Q52=Base_And_Iridescent_Q53; Result_Q52.a=1.0;\nvec4 Result_Q35=Blob_Color_Q71+(1.0-Blob_Color_Q71.a)*Base_And_Iridescent_Q56;\nvec4 Color_Q31;\nRound_Rect_Fragment_B31(R_Q72,G_Q72,Result_Q52,_Filter_Width_,vUV,1.0,vExtra1,Result_Q35,Color_Q31);\nvec4 Result_Q47=_Fade_Out_*Color_Q31;\nvec4 Out_Color=Result_Q47;\nfloat Clip_Threshold=0.001;\nbool To_sRGB=false;\ngl_FragColor=Out_Color;\n}";W.v.ShadersStore.fluentBackplatePixelShader=Te;var Ce="uniform mat4 world;\nuniform mat4 viewProjection;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 normal;\n#ifdef TANGENT\nattribute vec3 tangent;\n#else\nconst vec3 tangent=vec3(0.);\n#endif\nuniform float _Radius_;\nuniform float _Line_Width_;\nuniform bool _Absolute_Sizes_;\nuniform float _Filter_Width_;\nuniform vec4 _Base_Color_;\nuniform vec4 _Line_Color_;\nuniform float _Radius_Top_Left_;\nuniform float _Radius_Top_Right_;\nuniform float _Radius_Bottom_Left_;\nuniform float _Radius_Bottom_Right_;\nuniform vec3 _Blob_Position_;\nuniform float _Blob_Intensity_;\nuniform float _Blob_Near_Size_;\nuniform float _Blob_Far_Size_;\nuniform float _Blob_Near_Distance_;\nuniform float _Blob_Far_Distance_;\nuniform float _Blob_Fade_Length_;\nuniform float _Blob_Pulse_;\nuniform float _Blob_Fade_;\nuniform sampler2D _Blob_Texture_;\nuniform vec3 _Blob_Position_2_;\nuniform float _Blob_Near_Size_2_;\nuniform float _Blob_Pulse_2_;\nuniform float _Blob_Fade_2_;\nuniform float _Rate_;\nuniform vec4 _Highlight_Color_;\nuniform float _Highlight_Width_;\nuniform vec4 _Highlight_Transform_;\nuniform float _Highlight_;\nuniform float _Iridescence_Intensity_;\nuniform float _Iridescence_Edge_Intensity_;\nuniform float _Angle_;\nuniform float _Fade_Out_;\nuniform bool _Reflected_;\nuniform float _Frequency_;\nuniform float _Vertical_Offset_;\nuniform sampler2D _Iridescent_Map_;\nuniform bool _Use_Global_Left_Index_;\nuniform bool _Use_Global_Right_Index_;\nuniform vec4 Global_Left_Index_Tip_Position;\nuniform vec4 Global_Right_Index_Tip_Position;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUV;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec4 vColor;\nvarying vec4 vExtra1;\nvarying vec4 vExtra2;\nvarying vec4 vExtra3;\nvoid Object_To_World_Pos_B115(\nvec3 Pos_Object,\nout vec3 Pos_World)\n{\nPos_World=(world*vec4(Pos_Object,1.0)).xyz;\n}\nvoid PickDir_B140(\nfloat Degrees,\nvec3 DirX,\nvec3 DirY,\nout vec3 Dir)\n{\nfloat a=Degrees*3.14159/180.0;\nDir=cos(a)*DirX+sin(a)*DirY;\n}\nvoid Round_Rect_Vertex_B139(\nvec2 UV,\nfloat Radius,\nfloat Margin,\nfloat Anisotropy,\nfloat Gradient1,\nfloat Gradient2,\nout vec2 Rect_UV,\nout vec4 Rect_Parms,\nout vec2 Scale_XY,\nout vec2 Line_UV)\n{\nScale_XY=vec2(Anisotropy,1.0);\nLine_UV=(UV-vec2(0.5,0.5));\nRect_UV=Line_UV*Scale_XY;\nRect_Parms.xy=Scale_XY*0.5-vec2(Radius,Radius)-vec2(Margin,Margin);\nRect_Parms.z=Gradient1; \nRect_Parms.w=Gradient2;\n}\nvoid Line_Vertex_B135(\nvec2 Scale_XY,\nvec2 UV,\nfloat Time,\nfloat Rate,\nvec4 Highlight_Transform,\nout vec3 Line_Vertex)\n{\nfloat angle2=(Rate*Time)*2.0*3.1416;\nfloat sinAngle2=sin(angle2);\nfloat cosAngle2=cos(angle2);\nvec2 xformUV=UV*Highlight_Transform.xy+Highlight_Transform.zw;\nLine_Vertex.x=0.0;\nLine_Vertex.y=cosAngle2*xformUV.x-sinAngle2*xformUV.y;\nLine_Vertex.z=0.0; \n}\nvoid Blob_Vertex_B180(\nvec3 Position,\nvec3 Normal,\nvec3 Tangent,\nvec3 Bitangent,\nvec3 Blob_Position,\nfloat Intensity,\nfloat Blob_Near_Size,\nfloat Blob_Far_Size,\nfloat Blob_Near_Distance,\nfloat Blob_Far_Distance,\nfloat Blob_Fade_Length,\nfloat Blob_Pulse,\nfloat Blob_Fade,\nout vec4 Blob_Info)\n{\nvec3 blob=Blob_Position;\nvec3 delta=blob-Position;\nfloat dist=dot(Normal,delta);\nfloat lerpValue=clamp((abs(dist)-Blob_Near_Distance)/(Blob_Far_Distance-Blob_Near_Distance),0.0,1.0);\nfloat fadeValue=1.0-clamp((abs(dist)-Blob_Far_Distance)/Blob_Fade_Length,0.0,1.0);\nfloat size=Blob_Near_Size+(Blob_Far_Size-Blob_Near_Size)*lerpValue;\nvec2 blobXY=vec2(dot(delta,Tangent),dot(delta,Bitangent))/(0.0001+size);\nfloat Fade=fadeValue*Intensity*Blob_Fade;\nfloat Distance=(lerpValue*0.5+0.5)*(1.0-Blob_Pulse);\nBlob_Info=vec4(blobXY.x,blobXY.y,Distance,Fade);\n}\nvoid Move_Verts_B129(\nfloat Anisotropy,\nvec3 P,\nfloat Radius,\nout vec3 New_P,\nout vec2 New_UV,\nout float Radial_Gradient,\nout vec3 Radial_Dir)\n{\nvec2 UV=P.xy*2.0+0.5;\nvec2 center=clamp(UV,0.0,1.0);\nvec2 delta=UV-center;\nvec2 r2=2.0*vec2(Radius/Anisotropy,Radius);\nNew_UV=center+r2*(UV-2.0*center+0.5);\nNew_P=vec3(New_UV-0.5,P.z);\nRadial_Gradient=1.0-length(delta)*2.0;\nRadial_Dir=vec3(delta*r2,0.0);\n}\nvoid Object_To_World_Dir_B132(\nvec3 Dir_Object,\nout vec3 Binormal_World,\nout vec3 Binormal_World_N,\nout float Binormal_Length)\n{\nBinormal_World=(world*vec4(Dir_Object,0.0)).xyz;\nBinormal_Length=length(Binormal_World);\nBinormal_World_N=Binormal_World/Binormal_Length;\n}\nvoid RelativeOrAbsoluteDetail_B147(\nfloat Nominal_Radius,\nfloat Nominal_LineWidth,\nbool Absolute_Measurements,\nfloat Height,\nout float Radius,\nout float Line_Width)\n{\nfloat scale=Absolute_Measurements ? 1.0/Height : 1.0;\nRadius=Nominal_Radius*scale;\nLine_Width=Nominal_LineWidth*scale;\n}\nvoid Edge_AA_Vertex_B130(\nvec3 Position_World,\nvec3 Position_Object,\nvec3 Normal_Object,\nvec3 Eye,\nfloat Radial_Gradient,\nvec3 Radial_Dir,\nvec3 Tangent,\nout float Gradient1,\nout float Gradient2)\n{\nvec3 I=(Eye-Position_World);\nvec3 T=(world* vec4(Tangent,0.0)).xyz;\nfloat g=(dot(T,I)<0.0) ? 0.0 : 1.0;\nif (Normal_Object.z==0.0) { \nGradient1=Position_Object.z>0.0 ? g : 1.0;\nGradient2=Position_Object.z>0.0 ? 1.0 : g;\n} else {\nGradient1=g+(1.0-g)*(Radial_Gradient);\nGradient2=1.0;\n}\n}\nvoid Pick_Radius_B144(\nfloat Radius,\nfloat Radius_Top_Left,\nfloat Radius_Top_Right,\nfloat Radius_Bottom_Left,\nfloat Radius_Bottom_Right,\nvec3 Position,\nout float Result)\n{\nbool whichY=Position.y>0.0;\nResult=Position.x<0.0 ? (whichY ? Radius_Top_Left : Radius_Bottom_Left) : (whichY ? Radius_Top_Right : Radius_Bottom_Right);\nResult*=Radius;\n}\nvoid main()\n{\nvec3 Nrm_World_Q128;\nNrm_World_Q128=normalize((world*vec4(normal,0.0)).xyz);\nvec3 Tangent_World_Q131;\nvec3 Tangent_World_N_Q131;\nfloat Tangent_Length_Q131;\nTangent_World_Q131=(world*vec4(vec3(1,0,0),0.0)).xyz;\nTangent_Length_Q131=length(Tangent_World_Q131);\nTangent_World_N_Q131=Tangent_World_Q131/Tangent_Length_Q131;\nvec3 Binormal_World_Q132;\nvec3 Binormal_World_N_Q132;\nfloat Binormal_Length_Q132;\nObject_To_World_Dir_B132(vec3(0,1,0),Binormal_World_Q132,Binormal_World_N_Q132,Binormal_Length_Q132);\nfloat Anisotropy_Q133=Tangent_Length_Q131/Binormal_Length_Q132;\nvec3 Result_Q177;\nResult_Q177=mix(_Blob_Position_,Global_Left_Index_Tip_Position.xyz,float(_Use_Global_Left_Index_));\nvec3 Result_Q178;\nResult_Q178=mix(_Blob_Position_2_,Global_Right_Index_Tip_Position.xyz,float(_Use_Global_Right_Index_));\nfloat Result_Q144;\nPick_Radius_B144(_Radius_,_Radius_Top_Left_,_Radius_Top_Right_,_Radius_Bottom_Left_,_Radius_Bottom_Right_,position,Result_Q144);\nvec3 Dir_Q140;\nPickDir_B140(_Angle_,Tangent_World_N_Q131,Binormal_World_N_Q132,Dir_Q140);\nfloat Radius_Q147;\nfloat Line_Width_Q147;\nRelativeOrAbsoluteDetail_B147(Result_Q144,_Line_Width_,_Absolute_Sizes_,Binormal_Length_Q132,Radius_Q147,Line_Width_Q147);\nvec4 Out_Color_Q145=vec4(Radius_Q147,Line_Width_Q147,0,1);\nvec3 New_P_Q129;\nvec2 New_UV_Q129;\nfloat Radial_Gradient_Q129;\nvec3 Radial_Dir_Q129;\nMove_Verts_B129(Anisotropy_Q133,position,Radius_Q147,New_P_Q129,New_UV_Q129,Radial_Gradient_Q129,Radial_Dir_Q129);\nvec3 Pos_World_Q115;\nObject_To_World_Pos_B115(New_P_Q129,Pos_World_Q115);\nvec4 Blob_Info_Q180;\n#if BLOB_ENABLE\nBlob_Vertex_B180(Pos_World_Q115,Nrm_World_Q128,Tangent_World_N_Q131,Binormal_World_N_Q132,Result_Q177,_Blob_Intensity_,_Blob_Near_Size_,_Blob_Far_Size_,_Blob_Near_Distance_,_Blob_Far_Distance_,_Blob_Fade_Length_,_Blob_Pulse_,_Blob_Fade_,Blob_Info_Q180);\n#else\nBlob_Info_Q180=vec4(0,0,0,0);\n#endif\nvec4 Blob_Info_Q181;\n#if BLOB_ENABLE_2\nBlob_Vertex_B180(Pos_World_Q115,Nrm_World_Q128,Tangent_World_N_Q131,Binormal_World_N_Q132,Result_Q178,_Blob_Intensity_,_Blob_Near_Size_2_,_Blob_Far_Size_,_Blob_Near_Distance_,_Blob_Far_Distance_,_Blob_Fade_Length_,_Blob_Pulse_2_,_Blob_Fade_2_,Blob_Info_Q181);\n#else\nBlob_Info_Q181=vec4(0,0,0,0);\n#endif\nfloat Gradient1_Q130;\nfloat Gradient2_Q130;\n#if SMOOTH_EDGES\nEdge_AA_Vertex_B130(Pos_World_Q115,position,normal,cameraPosition,Radial_Gradient_Q129,Radial_Dir_Q129,tangent,Gradient1_Q130,Gradient2_Q130);\n#else\nGradient1_Q130=1.0;\nGradient2_Q130=1.0;\n#endif\nvec2 Rect_UV_Q139;\nvec4 Rect_Parms_Q139;\nvec2 Scale_XY_Q139;\nvec2 Line_UV_Q139;\nRound_Rect_Vertex_B139(New_UV_Q129,Radius_Q147,0.0,Anisotropy_Q133,Gradient1_Q130,Gradient2_Q130,Rect_UV_Q139,Rect_Parms_Q139,Scale_XY_Q139,Line_UV_Q139);\nvec3 Line_Vertex_Q135;\nLine_Vertex_B135(Scale_XY_Q139,Line_UV_Q139,0.0,_Rate_,_Highlight_Transform_,Line_Vertex_Q135);\nvec3 Position=Pos_World_Q115;\nvec3 Normal=Dir_Q140;\nvec2 UV=Rect_UV_Q139;\nvec3 Tangent=Line_Vertex_Q135;\nvec3 Binormal=Nrm_World_Q128;\nvec4 Color=Out_Color_Q145;\nvec4 Extra1=Rect_Parms_Q139;\nvec4 Extra2=Blob_Info_Q180;\nvec4 Extra3=Blob_Info_Q181;\ngl_Position=viewProjection*vec4(Position,1);\nvPosition=Position;\nvNormal=Normal;\nvUV=UV;\nvTangent=Tangent;\nvBinormal=Binormal;\nvColor=Color;\nvExtra1=Extra1;\nvExtra2=Extra2;\nvExtra3=Extra3;\n}";W.v.ShadersStore.fluentBackplateVertexShader=Ce;var Ie=function(e){function t(){var t=e.call(this)||this;return t.BLOB_ENABLE=!0,t.BLOB_ENABLE_2=!0,t.SMOOTH_EDGES=!0,t.IRIDESCENT_MAP_ENABLE=!0,t._needNormals=!0,t.rebuild(),t}return(0,h.ZT)(t,e),t}(V.H),Fe=function(e){function t(o,n){var i=e.call(this,o,n)||this;return i.radius=.03,i.lineWidth=.01,i.absoluteSizes=!1,i._filterWidth=1,i.baseColor=new C.HE(.0392157,.0666667,.207843,1),i.lineColor=new C.HE(.14902,.133333,.384314,1),i.blobIntensity=.98,i.blobFarSize=.04,i.blobNearDistance=0,i.blobFarDistance=.08,i.blobFadeLength=.08,i.blobNearSize=.22,i.blobPulse=0,i.blobFade=0,i.blobNearSize2=.22,i.blobPulse2=0,i.blobFade2=0,i._rate=.135,i.highlightColor=new C.HE(.98,.98,.98,1),i.highlightWidth=.25,i._highlightTransform=new m.Lt(1,1,0,0),i._highlight=1,i.iridescenceIntensity=0,i.iridescenceEdgeIntensity=1,i._angle=-45,i.fadeOut=1,i._reflected=!0,i._frequency=1,i._verticalOffset=0,i.globalLeftIndexTipPosition=m.P.Zero(),i._globalLeftIndexTipPosition4=m.Lt.Zero(),i.globalRightIndexTipPosition=m.P.Zero(),i._globalRightIndexTipPosition4=m.Lt.Zero(),i.alphaMode=J.g.ALPHA_DISABLE,i.backFaceCulling=!1,i._blobTexture=new P.x(t.BLOB_TEXTURE_URL,i.getScene(),!0,!1,P.x.NEAREST_SAMPLINGMODE),i._iridescentMap=new P.x(t.IM_TEXTURE_URL,i.getScene(),!0,!1,P.x.NEAREST_SAMPLINGMODE),i}return(0,h.ZT)(t,e),t.prototype.needAlphaBlending=function(){return!1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t.materialDefines||(t.materialDefines=new Ie);var o=t.materialDefines,n=this.getScene();if(this._isReadyForSubMesh(t))return!0;var i=n.getEngine();if(A.G.PrepareDefinesForAttributes(e,o,!1,!1),o.isDirty){o.markAsProcessed(),n.resetCachedMaterial();var a=new $.L;o.FOG&&a.addFallback(1,"FOG"),A.G.HandleFallbacksForShadows(o,a),o.IMAGEPROCESSINGPOSTPROCESS=n.imageProcessingConfiguration.applyByPostProcess;var r=[G.o.PositionKind];o.NORMAL&&r.push(G.o.NormalKind),o.UV1&&r.push(G.o.UVKind),o.UV2&&r.push(G.o.UV2Kind),o.VERTEXCOLOR&&r.push(G.o.ColorKind),o.TANGENT&&r.push(G.o.TangentKind),A.G.PrepareAttributesForInstances(r,o);var _=o.toString(),l=["world","viewProjection","cameraPosition","_Radius_","_Line_Width_","_Absolute_Sizes_","_Filter_Width_","_Base_Color_","_Line_Color_","_Radius_Top_Left_","_Radius_Top_Right_","_Radius_Bottom_Left_","_Radius_Bottom_Right_","_Blob_Position_","_Blob_Intensity_","_Blob_Near_Size_","_Blob_Far_Size_","_Blob_Near_Distance_","_Blob_Far_Distance_","_Blob_Fade_Length_","_Blob_Pulse_","_Blob_Fade_","_Blob_Texture_","_Blob_Position_2_","_Blob_Near_Size_2_","_Blob_Pulse_2_","_Blob_Fade_2_","_Rate_","_Highlight_Color_","_Highlight_Width_","_Highlight_Transform_","_Highlight_","_Iridescence_Intensity_","_Iridescence_Edge_Intensity_","_Angle_","_Fade_Out_","_Reflected_","_Frequency_","_Vertical_Offset_","_Iridescent_Map_","_Use_Global_Left_Index_","_Use_Global_Right_Index_","Global_Left_Index_Tip_Position","Global_Right_Index_Tip_Position"],s=["_Blob_Texture_","_Iridescent_Map_"],c=new Array;A.G.PrepareUniformsAndSamplersList({uniformsNames:l,uniformBuffersNames:c,samplers:s,defines:o,maxSimultaneousLights:4}),t.setEffect(n.getEngine().createEffect("fluentBackplate",{attributes:r,uniformsNames:l,uniformBuffersNames:c,samplers:s,defines:_,fallbacks:a,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},i),o,this._materialContext)}return!(!t.effect||!t.effect.isReady())&&(o._renderId=n.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,o){var n,i;if(o.materialDefines){var a=o.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix("viewProjection",this.getScene().getTransformMatrix()),this._activeEffect.setVector3("cameraPosition",null!==(i=null===(n=this.getScene().activeCamera)||void 0===n?void 0:n.position)&&void 0!==i?i:m.P.ZeroReadOnly),this._activeEffect.setFloat("_Radius_",this.radius),this._activeEffect.setFloat("_Line_Width_",this.lineWidth),this._activeEffect.setFloat("_Absolute_Sizes_",this.absoluteSizes?1:0),this._activeEffect.setFloat("_Filter_Width_",this._filterWidth),this._activeEffect.setDirectColor4("_Base_Color_",this.baseColor),this._activeEffect.setDirectColor4("_Line_Color_",this.lineColor),this._activeEffect.setFloat("_Radius_Top_Left_",1),this._activeEffect.setFloat("_Radius_Top_Right_",1),this._activeEffect.setFloat("_Radius_Bottom_Left_",1),this._activeEffect.setFloat("_Radius_Bottom_Right_",1),this._activeEffect.setFloat("_Blob_Intensity_",this.blobIntensity),this._activeEffect.setFloat("_Blob_Near_Size_",this.blobNearSize),this._activeEffect.setFloat("_Blob_Far_Size_",this.blobFarSize),this._activeEffect.setFloat("_Blob_Near_Distance_",this.blobNearDistance),this._activeEffect.setFloat("_Blob_Far_Distance_",this.blobFarDistance),this._activeEffect.setFloat("_Blob_Fade_Length_",this.blobFadeLength),this._activeEffect.setFloat("_Blob_Pulse_",this.blobPulse),this._activeEffect.setFloat("_Blob_Fade_",this.blobFade),this._activeEffect.setTexture("_Blob_Texture_",this._blobTexture),this._activeEffect.setFloat("_Blob_Near_Size_2_",this.blobNearSize2),this._activeEffect.setFloat("_Blob_Pulse_2_",this.blobPulse2),this._activeEffect.setFloat("_Blob_Fade_2_",this.blobFade2),this._activeEffect.setFloat("_Rate_",this._rate),this._activeEffect.setDirectColor4("_Highlight_Color_",this.highlightColor),this._activeEffect.setFloat("_Highlight_Width_",this.highlightWidth),this._activeEffect.setVector4("_Highlight_Transform_",this._highlightTransform),this._activeEffect.setFloat("_Highlight_",this._highlight),this._activeEffect.setFloat("_Iridescence_Intensity_",this.iridescenceIntensity),this._activeEffect.setFloat("_Iridescence_Edge_Intensity_",this.iridescenceEdgeIntensity),this._activeEffect.setFloat("_Angle_",this._angle),this._activeEffect.setFloat("_Fade_Out_",this.fadeOut),this._activeEffect.setFloat("_Reflected_",this._reflected?1:0),this._activeEffect.setFloat("_Frequency_",this._frequency),this._activeEffect.setFloat("_Vertical_Offset_",this._verticalOffset),this._activeEffect.setTexture("_Iridescent_Map_",this._iridescentMap),this._activeEffect.setFloat("_Use_Global_Left_Index_",1),this._activeEffect.setFloat("_Use_Global_Right_Index_",1),this._globalLeftIndexTipPosition4.set(this.globalLeftIndexTipPosition.x,this.globalLeftIndexTipPosition.y,this.globalLeftIndexTipPosition.z,1),this._activeEffect.setVector4("Global_Left_Index_Tip_Position",this._globalLeftIndexTipPosition4),this._globalRightIndexTipPosition4.set(this.globalRightIndexTipPosition.x,this.globalRightIndexTipPosition.y,this.globalRightIndexTipPosition.z,1),this._activeEffect.setVector4("Global_Right_Index_Tip_Position",this._globalRightIndexTipPosition4),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){return[]},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t),this._blobTexture.dispose(),this._iridescentMap.dispose()},t.prototype.clone=function(e){var o=this;return w.p4.Clone((function(){return new t(e,o.getScene())}),this)},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this);return t.customType="BABYLON.FluentBackplateMaterial",t},t.prototype.getClassName=function(){return"FluentBackplateMaterial"},t.Parse=function(e,o,n){return w.p4.Parse((function(){return new t(e.name,o)}),e,o,n)},t.BLOB_TEXTURE_URL="https://assets.babylonjs.com/meshes/MRTK/mrtk-fluent-backplate-blob.png",t.IM_TEXTURE_URL="https://assets.babylonjs.com/meshes/MRTK/mrtk-fluent-backplate-iridescence.png",(0,h.gn)([(0,w.qC)()],t.prototype,"radius",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"lineWidth",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"absoluteSizes",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"baseColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"lineColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobIntensity",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFarSize",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobNearDistance",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFarDistance",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFadeLength",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobNearSize",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobPulse",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFade",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobNearSize2",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobPulse2",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFade2",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"highlightColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"highlightWidth",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"iridescenceIntensity",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"iridescenceEdgeIntensity",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"fadeOut",void 0),(0,h.gn)([(0,w.hd)()],t.prototype,"globalLeftIndexTipPosition",void 0),(0,h.gn)([(0,w.hd)()],t.prototype,"globalRightIndexTipPosition",void 0),t}(z.a);(0,d.H)("BABYLON.GUI.FluentBackplateMaterial",Fe);var Qe=o(63654),Ee=o(6307),Ne=o(66513),Le=o(89209),De=function(e){function t(t){var o=e.call(this,t)||this;return o.titleBarMargin=.005,o.origin=new m.P(0,0,0),o._dimensions=new m.FM(21.875,12.5),o._titleBarHeight=.625,o._titleText="",o._contentScaleRatio=1,o.minDimensions=new m.FM(15.625,6.25),o.defaultDimensions=o._dimensions.clone(),o._followButton=new _e("followButton"+o.name),o._followButton.isToggleButton=!0,o._closeButton=new _e("closeButton"+o.name),o._contentViewport=new Ne.l(0,0,1,1),o._contentDragBehavior=new Qe.M({dragPlaneNormal:new m.P(0,0,-1)}),o}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"defaultBehavior",{get:function(){return this._defaultBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dimensions",{get:function(){return this._dimensions},set:function(e){var t=1;if(e.x<this.minDimensions.x||e.y<this.minDimensions.y){var o=e.x/e.y;t=this.minDimensions.x/this.minDimensions.y>o?this.minDimensions.x/e.x:this.minDimensions.y/e.y}this._dimensions.copyFrom(e).scaleInPlace(t),this._updatePivot(),this._positionElements()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleBarHeight",{get:function(){return this._titleBarHeight},set:function(e){this._titleBarHeight=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderingGroupId",{get:function(){return this._titleBar.renderingGroupId},set:function(e){this._titleBar.renderingGroupId=e,this._titleBarTitle.renderingGroupId=e,this._contentPlate.renderingGroupId=e,this._backPlate.renderingGroupId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._titleText},set:function(e){this._titleText=e,this._titleTextComponent&&(this._titleTextComponent.text=e)},enumerable:!1,configurable:!0}),t.prototype._applyFacade=function(e){this._contentMaterial.albedoTexture=e,this._resetContentPositionAndZoom(),this._applyContentViewport(),e.attachToMesh(this._contentPlate,!0)},t.prototype._addControl=function(e){e._host=this._host,this._host.utilityLayer&&e._prepareNode(this._host.utilityLayer.utilityLayerScene)},t.prototype._getTypeName=function(){return"HolographicSlate"},t.prototype._positionElements=function(){var e=this._followButton,o=this._closeButton,n=this._titleBar,i=this._titleBarTitle,a=this._contentPlate,r=this._backPlate;if(e&&o&&n){o.scaling.setAll(this.titleBarHeight),e.scaling.setAll(this.titleBarHeight),o.position.copyFromFloats(this.dimensions.x-this.titleBarHeight/2,-this.titleBarHeight/2,0).addInPlace(this.origin),e.position.copyFromFloats(this.dimensions.x-3*this.titleBarHeight/2,-this.titleBarHeight/2,0).addInPlace(this.origin);var _=this.dimensions.y-this.titleBarHeight-this.titleBarMargin,l=a.getScene().useRightHandedSystem;n.scaling.set(this.dimensions.x,this.titleBarHeight,ue.kn),i.scaling.set(this.dimensions.x-2*this.titleBarHeight,this.titleBarHeight,ue.kn),a.scaling.copyFromFloats(this.dimensions.x,_,ue.kn),r.scaling.copyFromFloats(this.dimensions.x,_,ue.kn),n.position.copyFromFloats(this.dimensions.x/2,-this.titleBarHeight/2,0).addInPlace(this.origin),i.position.copyFromFloats(this.dimensions.x/2-this.titleBarHeight,-this.titleBarHeight/2,l?ue.kn:-ue.kn).addInPlace(this.origin),a.position.copyFromFloats(this.dimensions.x/2,-(this.titleBarHeight+this.titleBarMargin+_/2),0).addInPlace(this.origin),r.position.copyFromFloats(this.dimensions.x/2,-(this.titleBarHeight+this.titleBarMargin+_/2),l?-ue.kn:ue.kn).addInPlace(this.origin),this._titleTextComponent.host.scaleTo(t._DEFAULT_TEXT_RESOLUTION_Y*i.scaling.x/i.scaling.y,t._DEFAULT_TEXT_RESOLUTION_Y);var s=this.dimensions.x/_;this._contentViewport.width=this._contentScaleRatio,this._contentViewport.height=this._contentScaleRatio/s,this._applyContentViewport(),this._gizmo&&this._gizmo.updateBoundingBox()}},t.prototype._applyContentViewport=function(){var e;if((null===(e=this._contentPlate)||void 0===e?void 0:e.material)&&this._contentPlate.material.albedoTexture){var t=this._contentPlate.material.albedoTexture;t.uScale=this._contentScaleRatio,t.vScale=this._contentScaleRatio/this._contentViewport.width*this._contentViewport.height,t.uOffset=this._contentViewport.x,t.vOffset=this._contentViewport.y}},t.prototype._resetContentPositionAndZoom=function(){this._contentViewport.x=0,this._contentViewport.y=1-this._contentViewport.height/this._contentViewport.width,this._contentScaleRatio=1},t.prototype._updatePivot=function(){if(this.mesh){var e=new m.P(.5*this.dimensions.x,.5*-this.dimensions.y,ue.kn);e.addInPlace(this.origin),e.z=0;var t=new m.P(0,0,0);m.P.TransformCoordinatesToRef(t,this.mesh.computeWorldMatrix(!0),t),this.mesh.setPivotPoint(e);var o=new m.P(0,0,0);m.P.TransformCoordinatesToRef(o,this.mesh.computeWorldMatrix(!0),o),this.mesh.position.addInPlace(t).subtractInPlace(o)}},t.prototype._createNode=function(e){var o=this,n=new D.Kj("slate_"+this.name,e);this._titleBar=(0,S.NR)("titleBar_"+this.name,{size:1},e),this._titleBarTitle=(0,M.pT)("titleText_"+this.name,{size:1},e),this._titleBarTitle.parent=n,this._titleBarTitle.isPickable=!1;var a=i.i.CreateForMesh(this._titleBarTitle);if(this._titleTextComponent=new Y.a("titleText_"+this.name,this._titleText),this._titleTextComponent.textWrapping=Y.i.Ellipsis,this._titleTextComponent.textHorizontalAlignment=le.o.HORIZONTAL_ALIGNMENT_LEFT,this._titleTextComponent.color="white",this._titleTextComponent.fontSize=t._DEFAULT_TEXT_RESOLUTION_Y/2,this._titleTextComponent.paddingLeft=t._DEFAULT_TEXT_RESOLUTION_Y/4,a.addControl(this._titleTextComponent),e.useRightHandedSystem){var r=new Ee.Lt(0,0,1,1);this._contentPlate=(0,M.pT)("contentPlate_"+this.name,{size:1,sideOrientation:Le.x.BACKSIDE,frontUVs:r},e),this._backPlate=(0,M.pT)("backPlate_"+this.name,{size:1,sideOrientation:Le.x.FRONTSIDE},e)}else{r=new Ee.Lt(0,0,1,1);this._contentPlate=(0,M.pT)("contentPlate_"+this.name,{size:1,sideOrientation:Le.x.FRONTSIDE,frontUVs:r},e),this._backPlate=(0,M.pT)("backPlate_"+this.name,{size:1,sideOrientation:Le.x.BACKSIDE},e)}this._titleBar.parent=n,this._titleBar.isNearGrabbable=!0,this._contentPlate.parent=n,this._backPlate.parent=n,this._attachContentPlateBehavior(),this._addControl(this._followButton),this._addControl(this._closeButton);var _=this._followButton,l=this._closeButton;return _.node.parent=n,l.node.parent=n,this._positionElements(),this._followButton.imageUrl=t.ASSETS_BASE_URL+t.FOLLOW_ICON_FILENAME,this._closeButton.imageUrl=t.ASSETS_BASE_URL+t.CLOSE_ICON_FILENAME,this._followButton.isBackplateVisible=!1,this._closeButton.isBackplateVisible=!1,this._followButton.onToggleObservable.add((function(e){o._defaultBehavior.followBehaviorEnabled=e,o._defaultBehavior.followBehaviorEnabled&&o._defaultBehavior.followBehavior.recenter()})),this._closeButton.onPointerClickObservable.add((function(){o.dispose()})),n.rotationQuaternion=m._f.Identity(),n.isVisible=!1,n},t.prototype._attachContentPlateBehavior=function(){var e=this;this._contentDragBehavior.attach(this._contentPlate),this._contentDragBehavior.moveAttached=!1,this._contentDragBehavior.useObjectOrientationForDragging=!0,this._contentDragBehavior.updateDragPlane=!1;var t,o,n=new m.P,i=new m.P,a=new m.P,r=new m.P,_=new m.FM;this._contentDragBehavior.onDragStartObservable.add((function(_){e.node&&(t=e._contentViewport.clone(),o=e.node.computeWorldMatrix(!0),n.copyFrom(_.dragPlanePoint),i.set(e.dimensions.x,e.dimensions.y,ue.kn),i.y-=e.titleBarHeight+e.titleBarMargin,m.P.TransformNormalToRef(i,o,i),a.copyFromFloats(0,1,0),m.P.TransformNormalToRef(a,o,a),r.copyFromFloats(1,0,0),m.P.TransformNormalToRef(r,o,r),a.normalize(),a.scaleInPlace(1/m.P.Dot(a,i)),r.normalize(),r.scaleInPlace(1/m.P.Dot(r,i)))}));var l=new m.P;this._contentDragBehavior.onDragObservable.add((function(o){l.copyFrom(o.dragPlanePoint),l.subtractInPlace(n),_.copyFromFloats(m.P.Dot(l,r),m.P.Dot(l,a)),e._contentViewport.x=re.R.Clamp(t.x-l.x,0,1-e._contentViewport.width*e._contentScaleRatio),e._contentViewport.y=re.R.Clamp(t.y-l.y,0,1-e._contentViewport.height*e._contentScaleRatio),e._applyContentViewport()}))},t.prototype._affectMaterial=function(e){this._titleBarMaterial=new Fe("".concat(this.name," plateMaterial"),e.getScene()),this._contentMaterial=new q("".concat(this.name," contentMaterial"),e.getScene()),this._contentMaterial.renderBorders=!0,this._backMaterial=new Fe("".concat(this.name," backPlate"),e.getScene()),this._backMaterial.lineWidth=ue.kn,this._backMaterial.radius=.005,this._backMaterial.backFaceCulling=!0,this._titleBar.material=this._titleBarMaterial,this._contentPlate.material=this._contentMaterial,this._backPlate.material=this._backMaterial,this._resetContent(),this._applyContentViewport()},t.prototype._prepareNode=function(t){var o=this;e.prototype._prepareNode.call(this,t),this._gizmo=new Se(this._host.utilityLayer),this._gizmo.attachedSlate=this,this._defaultBehavior=new de,this._defaultBehavior.attach(this.node,[this._titleBar]),this._defaultBehavior.sixDofDragBehavior.onDragStartObservable.add((function(){o._followButton.isToggled=!1})),this._positionChangedObserver=this._defaultBehavior.sixDofDragBehavior.onPositionChangedObservable.add((function(){o._gizmo.updateBoundingBox()})),this._updatePivot(),this.resetDefaultAspectAndPose(!1)},t.prototype.resetDefaultAspectAndPose=function(e){if(void 0===e&&(e=!0),this._host&&this._host.utilityLayer&&this.node){var t=this._host.utilityLayer.utilityLayerScene,o=t.activeCamera;if(o){var n=o.getWorldMatrix(),i=m.P.TransformNormal(m.P.Backward(t.useRightHandedSystem),n);this.origin.setAll(0),this._gizmo.updateBoundingBox();var a=this.node.getAbsolutePivotPoint();this.node.position.copyFrom(o.position).subtractInPlace(i).subtractInPlace(a),this.node.rotationQuaternion=m._f.FromLookDirectionLH(i,new m.P(0,1,0)),e&&(this.dimensions=this.defaultDimensions)}}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._titleBarMaterial.dispose(),this._contentMaterial.dispose(),this._titleBar.dispose(),this._titleBarTitle.dispose(),this._contentPlate.dispose(),this._backPlate.dispose(),this._followButton.dispose(),this._closeButton.dispose(),this._host.onPickedPointChangedObservable.remove(this._pickedPointObserver),this._defaultBehavior.sixDofDragBehavior.onPositionChangedObservable.remove(this._positionChangedObserver),this._defaultBehavior.detach(),this._gizmo.dispose(),this._contentDragBehavior.detach()},t.ASSETS_BASE_URL="https://assets.babylonjs.com/meshes/MRTK/",t.CLOSE_ICON_FILENAME="IconClose.png",t.FOLLOW_ICON_FILENAME="IconFollowMe.png",t._DEFAULT_TEXT_RESOLUTION_Y=102.4,t}(x),Me=o(84318),Oe=function(e){function t(t){var o=e.call(this,t)||this;return o._backPlateMargin=1.25,o}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"backPlateMargin",{get:function(){return this._backPlateMargin},set:function(e){var t=this;this._backPlateMargin=e,this._children.length>=1&&(this.children.forEach((function(e){t._updateCurrentMinMax(e.position)})),this._updateMargins())},enumerable:!1,configurable:!0}),t.prototype._createNode=function(e){var t=new D.Kj("menu_".concat(this.name),e);return this._backPlate=(0,S.NR)("backPlate"+this.name,{size:1},e),this._backPlate.parent=t,t},t.prototype._affectMaterial=function(e){var t=this;this._backPlateMaterial=new q(this.name+"backPlateMaterial",e.getScene()),this._backPlateMaterial.albedoColor=new C.Wo(.08,.15,.55),this._backPlateMaterial.renderBorders=!0,this._backPlateMaterial.renderHoverLight=!0,this._pickedPointObserver=this._host.onPickedPointChangedObservable.add((function(e){e?(t._backPlateMaterial.hoverPosition=e,t._backPlateMaterial.hoverColor.a=1):t._backPlateMaterial.hoverColor.a=0})),this._backPlate.material=this._backPlateMaterial},t.prototype._mapGridNode=function(e,t){e.mesh&&(e.position=t.clone(),this._updateCurrentMinMax(t))},t.prototype._finalProcessing=function(){this._updateMargins()},t.prototype._updateCurrentMinMax=function(e){this._currentMin||(this._currentMin=e.clone(),this._currentMax=e.clone()),this._currentMin.minimizeInPlace(e),this._currentMax.maximizeInPlace(e)},t.prototype._updateMargins=function(){if(this._children.length>0){this._currentMin.addInPlaceFromFloats(-this._cellWidth/2,-this._cellHeight/2,0),this._currentMax.addInPlaceFromFloats(this._cellWidth/2,this._cellHeight/2,0);var e=this._currentMax.subtract(this._currentMin);this._backPlate.scaling.x=e.x+this._cellWidth*this.backPlateMargin,this._backPlate.scaling.y=e.y+this._cellHeight*this.backPlateMargin,this._backPlate.scaling.z=.001;for(var t=0;t<this._children.length;t++)this._children[t].position.subtractInPlace(this._currentMin).subtractInPlace(e.scale(.5)),this._children[t].position.z-=.01}this._currentMin=null,this._currentMax=null},t.prototype.addButton=function(o){var n=this.blockLayout;return n||(this.blockLayout=!0),e.prototype.addControl.call(this,o),o.isBackplateVisible=!1,o.scaling.scaleInPlace(t.MENU_BUTTON_SCALE),n||(this.blockLayout=!1),this},t.prototype.addControl=function(e){return Me.Y.Warn("TouchHolographicMenu can only contain buttons. Please use the method `addButton` instead."),this},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._host.onPickedPointChangedObservable.remove(this._pickedPointObserver)},t.MENU_BUTTON_SCALE=1,t}(E),we=o(57682),Ve=function(e){function t(t,o){var n=e.call(this,o)||this;return n._handConstraintBehavior=new we.q_,n._handConstraintBehavior.linkToXRExperience(t),n.backPlateMargin=.15,n.rows=3,n}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"handConstraintBehavior",{get:function(){return this._handConstraintBehavior},enumerable:!1,configurable:!0}),t.prototype._createNode=function(t){var o=e.prototype._createNode.call(this,t);return this._handConstraintBehavior.attach(o),o},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._handConstraintBehavior.detach()},t}(Oe),Ae=function(e){function t(t,o){var n=e.call(this,o)||this;return n._currentMesh=t,n.pointerEnterAnimation=function(){n.mesh&&n.mesh.scaling.scaleInPlace(1.1)},n.pointerOutAnimation=function(){n.mesh&&n.mesh.scaling.scaleInPlace(1/1.1)},n.pointerDownAnimation=function(){n.mesh&&n.mesh.scaling.scaleInPlace(.95)},n.pointerUpAnimation=function(){n.mesh&&n.mesh.scaling.scaleInPlace(1/.95)},n}return(0,h.ZT)(t,e),t.prototype._getTypeName=function(){return"MeshButton3D"},t.prototype._createNode=function(e){var t=this;return this._currentMesh.getChildMeshes().forEach((function(e){t._injectGUI3DReservedDataStore(e).control=t})),this._currentMesh},t.prototype._affectMaterial=function(e){},t}(I),ze=function(e){function t(t){var o=e.call(this,t)||this;return o._isPinned=!1,o._defaultBehavior=new de,o._dragObserver=o._defaultBehavior.sixDofDragBehavior.onDragObservable.add((function(){o.isPinned=!0})),o.backPlateMargin=1,o}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"defaultBehavior",{get:function(){return this._defaultBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPinned",{get:function(){return this._isPinned},set:function(e){this._pinButton.isToggled===e?(this._isPinned=e,this._defaultBehavior.followBehaviorEnabled=!e):this._pinButton.isToggled=e},enumerable:!1,configurable:!0}),t.prototype._createPinButton=function(e){var o=this,n=new _e("pin"+this.name,!1);return n.imageUrl=t._ASSETS_BASE_URL+t._PIN_ICON_FILENAME,n.parent=this,n._host=this._host,n.isToggleButton=!0,n.onToggleObservable.add((function(e){o.isPinned=e})),this._host.utilityLayer&&(n._prepareNode(this._host.utilityLayer.utilityLayerScene),n.scaling.scaleInPlace(Oe.MENU_BUTTON_SCALE),n.node&&(n.node.parent=e)),n},t.prototype._createNode=function(t){var o=e.prototype._createNode.call(this,t);return this._pinButton=this._createPinButton(o),this.isPinned=!1,this._defaultBehavior.attach(o,[this._backPlate]),this._defaultBehavior.followBehavior.ignoreCameraPitchAndRoll=!0,this._defaultBehavior.followBehavior.pitchOffset=-15,this._defaultBehavior.followBehavior.minimumDistance=.3,this._defaultBehavior.followBehavior.defaultDistance=.4,this._defaultBehavior.followBehavior.maximumDistance=.6,this._backPlate.isNearGrabbable=!0,o.isVisible=!1,o},t.prototype._finalProcessing=function(){e.prototype._finalProcessing.call(this),this._pinButton.position.copyFromFloats((this._backPlate.scaling.x+Oe.MENU_BUTTON_SCALE)/2,this._backPlate.scaling.y/2,0)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._defaultBehavior.sixDofDragBehavior.onDragObservable.remove(this._dragObserver),this._defaultBehavior.detach()},t._ASSETS_BASE_URL="https://assets.babylonjs.com/meshes/MRTK/",t._PIN_ICON_FILENAME="IconPin.png",t}(Oe),Ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,h.ZT)(t,e),t.prototype._mapGridNode=function(e,t){var o=e.mesh;if(o){e.position=t.clone();var n=m.jp.Vector3[0];switch(n.copyFrom(t),this.orientation){case F.FACEORIGIN_ORIENTATION:case F.FACEFORWARD_ORIENTATION:n.addInPlace(new m.P(0,0,1)),o.lookAt(n);break;case F.FACEFORWARDREVERSED_ORIENTATION:case F.FACEORIGINREVERSED_ORIENTATION:n.addInPlace(new m.P(0,0,-1)),o.lookAt(n)}}},t}(E),We=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._iteration=100,t}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"iteration",{get:function(){return this._iteration},set:function(e){var t=this;this._iteration!==e&&(this._iteration=e,Q.w1.SetImmediate((function(){t._arrangeChildren()})))},enumerable:!1,configurable:!0}),t.prototype._mapGridNode=function(e,t){var o=e.mesh,n=this._scatterMapping(t);if(o){switch(this.orientation){case F.FACEORIGIN_ORIENTATION:case F.FACEFORWARD_ORIENTATION:o.lookAt(new m.P(0,0,1));break;case F.FACEFORWARDREVERSED_ORIENTATION:case F.FACEORIGINREVERSED_ORIENTATION:o.lookAt(new m.P(0,0,-1))}e.position=n}},t.prototype._scatterMapping=function(e){return e.x=(1-2*Math.random())*this._cellWidth,e.y=(1-2*Math.random())*this._cellHeight,e},t.prototype._finalProcessing=function(){for(var e=[],t=0,o=this._children;t<o.length;t++){var n=o[t];n.mesh&&e.push(n.mesh)}for(var i=0;i<this._iteration;i++){e.sort((function(e,t){var o=e.position.lengthSquared(),n=t.position.lengthSquared();return o<n?1:o>n?-1:0}));for(var a=Math.pow(this.margin,2),r=Math.max(this._cellWidth,this._cellHeight),_=m.jp.Vector2[0],l=m.jp.Vector3[0],s=0;s<e.length-1;s++)for(var c=s+1;c<e.length;c++)if(s!=c){e[c].position.subtractToRef(e[s].position,l),_.x=l.x,_.y=l.y;var h=r,d=_.lengthSquared()-a;(d-=Math.min(d,a))<Math.pow(h,2)&&(_.normalize(),l.scaleInPlace(.5*(h-Math.sqrt(d))),e[c].position.addInPlace(l),e[s].position.subtractInPlace(l))}}},t}(E),ke="uniform vec3 cameraPosition;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUV;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec4 vColor;\nvarying vec4 vExtra1;\nvarying vec4 vExtra2;\nvarying vec4 vExtra3;\nuniform float _Radius_;\nuniform float _Bevel_Front_;\nuniform float _Bevel_Front_Stretch_;\nuniform float _Bevel_Back_;\nuniform float _Bevel_Back_Stretch_;\nuniform float _Radius_Top_Left_;\nuniform float _Radius_Top_Right_;\nuniform float _Radius_Bottom_Left_;\nuniform float _Radius_Bottom_Right_;\nuniform bool _Bulge_Enabled_;\nuniform float _Bulge_Height_;\nuniform float _Bulge_Radius_;\nuniform float _Sun_Intensity_;\nuniform float _Sun_Theta_;\nuniform float _Sun_Phi_;\nuniform float _Indirect_Diffuse_;\nuniform vec4 _Albedo_;\nuniform float _Specular_;\nuniform float _Shininess_;\nuniform float _Sharpness_;\nuniform float _Subsurface_;\nuniform vec4 _Left_Color_;\nuniform vec4 _Right_Color_;\nuniform float _Reflection_;\nuniform float _Front_Reflect_;\nuniform float _Edge_Reflect_;\nuniform float _Power_;\nuniform vec4 _Sky_Color_;\nuniform vec4 _Horizon_Color_;\nuniform vec4 _Ground_Color_;\nuniform float _Horizon_Power_;\nuniform sampler2D _Reflection_Map_;\nuniform sampler2D _Indirect_Environment_;\nuniform float _Width_;\nuniform float _Fuzz_;\nuniform float _Min_Fuzz_;\nuniform float _Clip_Fade_;\nuniform float _Hue_Shift_;\nuniform float _Saturation_Shift_;\nuniform float _Value_Shift_;\nuniform vec3 _Blob_Position_;\nuniform float _Blob_Intensity_;\nuniform float _Blob_Near_Size_;\nuniform float _Blob_Far_Size_;\nuniform float _Blob_Near_Distance_;\nuniform float _Blob_Far_Distance_;\nuniform float _Blob_Fade_Length_;\nuniform float _Blob_Pulse_;\nuniform float _Blob_Fade_;\nuniform sampler2D _Blob_Texture_;\nuniform vec3 _Blob_Position_2_;\nuniform float _Blob_Near_Size_2_;\nuniform float _Blob_Pulse_2_;\nuniform float _Blob_Fade_2_;\nuniform vec3 _Left_Index_Pos_;\nuniform vec3 _Right_Index_Pos_;\nuniform vec3 _Left_Index_Middle_Pos_;\nuniform vec3 _Right_Index_Middle_Pos_;\nuniform sampler2D _Decal_;\nuniform vec2 _Decal_Scale_XY_;\nuniform bool _Decal_Front_Only_;\nuniform float _Rim_Intensity_;\nuniform sampler2D _Rim_Texture_;\nuniform float _Rim_Hue_Shift_;\nuniform float _Rim_Saturation_Shift_;\nuniform float _Rim_Value_Shift_;\nuniform float _Iridescence_Intensity_;\nuniform sampler2D _Iridescence_Texture_;\nuniform bool Use_Global_Left_Index;\nuniform bool Use_Global_Right_Index;\nuniform vec4 Global_Left_Index_Tip_Position;\nuniform vec4 Global_Right_Index_Tip_Position;\nuniform vec4 Global_Left_Thumb_Tip_Position;\nuniform vec4 Global_Right_Thumb_Tip_Position;\nuniform vec4 Global_Left_Index_Middle_Position;\nuniform vec4 Global_Right_Index_Middle_Position;\nuniform float Global_Left_Index_Tip_Proximity;\nuniform float Global_Right_Index_Tip_Proximity;\nvoid Blob_Fragment_B30(\nsampler2D Blob_Texture,\nvec4 Blob_Info1,\nvec4 Blob_Info2,\nout vec4 Blob_Color)\n{\nfloat k1=dot(Blob_Info1.xy,Blob_Info1.xy);\nfloat k2=dot(Blob_Info2.xy,Blob_Info2.xy);\nvec3 closer=k1<k2 ? vec3(k1,Blob_Info1.z,Blob_Info1.w) : vec3(k2,Blob_Info2.z,Blob_Info2.w);\nBlob_Color=closer.z*texture(Blob_Texture,vec2(vec2(sqrt(closer.x),closer.y).x,1.0-vec2(sqrt(closer.x),closer.y).y))*clamp(1.0-closer.x,0.0,1.0);\n}\nvoid FastLinearTosRGB_B42(\nvec4 Linear,\nout vec4 sRGB)\n{\nsRGB.rgb=sqrt(clamp(Linear.rgb,0.0,1.0));\nsRGB.a=Linear.a;\n}\nvoid Scale_RGB_B59(\nvec4 Color,\nfloat Scalar,\nout vec4 Result)\n{\nResult=vec4(Scalar,Scalar,Scalar,1)*Color;\n}\nvoid Fragment_Main_B121(\nfloat Sun_Intensity,\nfloat Sun_Theta,\nfloat Sun_Phi,\nvec3 Normal,\nvec4 Albedo,\nfloat Fresnel_Reflect,\nfloat Shininess,\nvec3 Incident,\nvec4 Horizon_Color,\nvec4 Sky_Color,\nvec4 Ground_Color,\nfloat Indirect_Diffuse,\nfloat Specular,\nfloat Horizon_Power,\nfloat Reflection,\nvec4 Reflection_Sample,\nvec4 Indirect_Sample,\nfloat Sharpness,\nfloat SSS,\nfloat Subsurface,\nvec4 Translucence,\nvec4 Rim_Light,\nvec4 Iridescence,\nout vec4 Result)\n{\nfloat theta=Sun_Theta*2.0*3.14159;\nfloat phi=Sun_Phi*3.14159;\nvec3 lightDir= vec3(cos(phi)*cos(theta),sin(phi),cos(phi)*sin(theta));\nfloat NdotL=max(dot(lightDir,Normal),0.0);\nvec3 R=reflect(Incident,Normal);\nfloat RdotL=max(0.0,dot(R,lightDir));\nfloat specular=pow(RdotL,Shininess);\nspecular=mix(specular,smoothstep(0.495*Sharpness,1.0-0.495*Sharpness,specular),Sharpness);\nvec4 gi=mix(Ground_Color,Sky_Color,Normal.y*0.5+0.5);\nResult=((Sun_Intensity*NdotL+Indirect_Sample*Indirect_Diffuse+Translucence)*(1.0+SSS*Subsurface))*Albedo*(1.0-Fresnel_Reflect)+(Sun_Intensity*specular*Specular+Fresnel_Reflect*Reflection*Reflection_Sample)+Fresnel_Reflect*Rim_Light+Iridescence;\n}\nvoid Bulge_B79(\nbool Enabled,\nvec3 Normal,\nvec3 Tangent,\nfloat Bulge_Height,\nvec4 UV,\nfloat Bulge_Radius,\nvec3 ButtonN,\nout vec3 New_Normal)\n{\nvec2 xy=clamp(UV.xy*2.0,vec2(-1,-1),vec2(1,1));\nvec3 B=(cross(Normal,Tangent));\nfloat k=-clamp(1.0-length(xy)/Bulge_Radius,0.0,1.0)*Bulge_Height;\nk=sin(k*3.14159*0.5);\nk*=smoothstep(0.9998,0.9999,abs(dot(ButtonN,Normal)));\nNew_Normal=Normal*sqrt(1.0-k*k)+(xy.x*Tangent+xy.y*B)*k;\nNew_Normal=Enabled ? New_Normal : Normal;\n}\nvoid SSS_B77(\nvec3 ButtonN,\nvec3 Normal,\nvec3 Incident,\nout float Result)\n{\nfloat NdotI=abs(dot(Normal,Incident));\nfloat BdotI=abs(dot(ButtonN,Incident));\nResult=(abs(NdotI-BdotI)); \n}\nvoid FingerOcclusion_B67(\nfloat Width,\nfloat DistToCenter,\nfloat Fuzz,\nfloat Min_Fuzz,\nvec3 Position,\nvec3 Forward,\nvec3 Nearest,\nfloat Fade_Out,\nout float NotInShadow)\n{\nfloat d=dot((Nearest-Position),Forward);\nfloat sh=smoothstep(Width*0.5,Width*0.5+Fuzz*max(d,0.0)+Min_Fuzz,DistToCenter);\nNotInShadow=1.0-(1.0-sh)*smoothstep(-Fade_Out,0.0,d);\n}\nvoid FingerOcclusion_B68(\nfloat Width,\nfloat DistToCenter,\nfloat Fuzz,\nfloat Min_Fuzz,\nvec3 Position,\nvec3 Forward,\nvec3 Nearest,\nfloat Fade_Out,\nout float NotInShadow)\n{\nfloat d=dot((Nearest-Position),Forward);\nfloat sh=smoothstep(Width*0.5,Width*0.5+Fuzz*max(d,0.0)+Min_Fuzz,DistToCenter);\nNotInShadow=1.0-(1.0-sh)*smoothstep(-Fade_Out,0.0,d);\n}\nvoid Scale_Color_B91(\nvec4 Color,\nfloat Scalar,\nout vec4 Result)\n{\nResult=Scalar*Color;\n}\nvoid From_HSV_B73(\nfloat Hue,\nfloat Saturation,\nfloat Value,\nfloat Alpha,\nout vec4 Color)\n{\nvec4 K=vec4(1.0,2.0/3.0,1.0/3.0,3.0);\nvec3 p=abs(fract(vec3(Hue,Hue,Hue)+K.xyz)*6.0-K.www);\nColor.rgb=Value*mix(K.xxx,clamp(p-K.xxx,0.0,1.0),Saturation);\nColor.a=Alpha;\n}\nvoid Fast_Fresnel_B122(\nfloat Front_Reflect,\nfloat Edge_Reflect,\nfloat Power,\nvec3 Normal,\nvec3 Incident,\nout float Transmit,\nout float Reflect)\n{\nfloat d=max(-dot(Incident,Normal),0.0);\nReflect=Front_Reflect+(Edge_Reflect-Front_Reflect)*pow(.01-d,Power);\nTransmit=1.0-Reflect;\n}\nvoid Mapped_Environment_B51(\nsampler2D Reflected_Environment,\nsampler2D Indirect_Environment,\nvec3 Dir,\nout vec4 Reflected_Color,\nout vec4 Indirect_Diffuse)\n{\nReflected_Color=texture(Reflected_Environment,vec2(atan(Dir.z,Dir.x)/3.14159*0.5,asin(Dir.y)/3.14159+0.5));\nIndirect_Diffuse=texture(Indirect_Environment,vec2(atan(Dir.z,Dir.x)/3.14159*0.5,asin(Dir.y)/3.14159+0.5));\n}\nvec4 SampleEnv_Bid50(vec3 D,vec4 S,vec4 H,vec4 G,float exponent)\n{\nfloat k=pow(abs(D.y),exponent);\nvec4 C;\nif (D.y>0.0) {\nC=mix(H,S,k);\n} else {\nC=mix(H,G,k); \n}\nreturn C;\n}\nvoid Sky_Environment_B50(\nvec3 Normal,\nvec3 Reflected,\nvec4 Sky_Color,\nvec4 Horizon_Color,\nvec4 Ground_Color,\nfloat Horizon_Power,\nout vec4 Reflected_Color,\nout vec4 Indirect_Color)\n{\nReflected_Color=SampleEnv_Bid50(Reflected,Sky_Color,Horizon_Color,Ground_Color,Horizon_Power);\nIndirect_Color=mix(Ground_Color,Sky_Color,Normal.y*0.5+0.5);\n}\nvoid Min_Segment_Distance_B65(\nvec3 P0,\nvec3 P1,\nvec3 Q0,\nvec3 Q1,\nout vec3 NearP,\nout vec3 NearQ,\nout float Distance)\n{\nvec3 u=P1-P0;\nvec3 v=Q1-Q0;\nvec3 w=P0-Q0;\nfloat a=dot(u,u);\nfloat b=dot(u,v);\nfloat c=dot(v,v);\nfloat d=dot(u,w);\nfloat e=dot(v,w);\nfloat D=a*c-b*b;\nfloat sD=D;\nfloat tD=D;\nfloat sc,sN,tc,tN;\nif (D<0.00001) {\nsN=0.0;\nsD=1.0;\ntN=e;\ntD=c;\n} else {\nsN=(b*e-c*d);\ntN=(a*e-b*d);\nif (sN<0.0) {\nsN=0.0;\ntN=e;\ntD=c;\n} else if (sN>sD) {\nsN=sD;\ntN=e+b;\ntD=c;\n}\n}\nif (tN<0.0) {\ntN=0.0;\nif (-d<0.0) {\nsN=0.0;\n} else if (-d>a) {\nsN=sD;\n} else {\nsN=-d;\nsD=a;\n}\n} else if (tN>tD) {\ntN=tD;\nif ((-d+b)<0.0) {\nsN=0.0;\n} else if ((-d+b)>a) {\nsN=sD;\n} else {\nsN=(-d+b);\nsD=a;\n}\n}\nsc=abs(sN)<0.000001 ? 0.0 : sN/sD;\ntc=abs(tN)<0.000001 ? 0.0 : tN/tD;\nNearP=P0+sc*u;\nNearQ=Q0+tc*v;\nDistance=distance(NearP,NearQ);\n}\nvoid To_XYZ_B74(\nvec3 Vec3,\nout float X,\nout float Y,\nout float Z)\n{\nX=Vec3.x;\nY=Vec3.y;\nZ=Vec3.z;\n}\nvoid Finger_Positions_B64(\nvec3 Left_Index_Pos,\nvec3 Right_Index_Pos,\nvec3 Left_Index_Middle_Pos,\nvec3 Right_Index_Middle_Pos,\nout vec3 Left_Index,\nout vec3 Right_Index,\nout vec3 Left_Index_Middle,\nout vec3 Right_Index_Middle)\n{\nLeft_Index= (Use_Global_Left_Index ? Global_Left_Index_Tip_Position.xyz : Left_Index_Pos);\nRight_Index= (Use_Global_Right_Index ? Global_Right_Index_Tip_Position.xyz : Right_Index_Pos);\nLeft_Index_Middle= (Use_Global_Left_Index ? Global_Left_Index_Middle_Position.xyz : Left_Index_Middle_Pos);\nRight_Index_Middle= (Use_Global_Right_Index ? Global_Right_Index_Middle_Position.xyz : Right_Index_Middle_Pos);\n}\nvoid VaryHSV_B108(\nvec3 HSV_In,\nfloat Hue_Shift,\nfloat Saturation_Shift,\nfloat Value_Shift,\nout vec3 HSV_Out)\n{\nHSV_Out=vec3(fract(HSV_In.x+Hue_Shift),clamp(HSV_In.y+Saturation_Shift,0.0,1.0),clamp(HSV_In.z+Value_Shift,0.0,1.0));\n}\nvoid Remap_Range_B114(\nfloat In_Min,\nfloat In_Max,\nfloat Out_Min,\nfloat Out_Max,\nfloat In,\nout float Out)\n{\nOut=mix(Out_Min,Out_Max,clamp((In-In_Min)/(In_Max-In_Min),0.0,1.0));\n}\nvoid To_HSV_B75(\nvec4 Color,\nout float Hue,\nout float Saturation,\nout float Value,\nout float Alpha,\nout vec3 HSV)\n{\nvec4 K=vec4(0.0,-1.0/3.0,2.0/3.0,-1.0);\nvec4 p=Color.g<Color.b ? vec4(Color.bg,K.wz) : vec4(Color.gb,K.xy);\nvec4 q=Color.r<p.x ? vec4(p.xyw,Color.r) : vec4(Color.r,p.yzx);\nfloat d=q.x-min(q.w,q.y);\nfloat e=1.0e-10;\nHue=abs(q.z+(q.w-q.y)/(6.0*d+e));\nSaturation=d/(q.x+e);\nValue=q.x;\nAlpha=Color.a;\nHSV=vec3(Hue,Saturation,Value);\n}\nvoid Code_B110(\nfloat X,\nout float Result)\n{\nResult=(acos(X)/3.14159-0.5)*2.0;\n}\nvoid Rim_Light_B132(\nvec3 Front,\nvec3 Normal,\nvec3 Incident,\nfloat Rim_Intensity,\nsampler2D Texture,\nout vec4 Result)\n{\nvec3 R=reflect(Incident,Normal);\nfloat RdotF=dot(R,Front);\nfloat RdotL=sqrt(1.0-RdotF*RdotF);\nvec2 UV=vec2(R.y*0.5+0.5,0.5);\nvec4 Color=texture(Texture,UV);\nResult=Color;\n}\nvoid main()\n{\nvec4 Blob_Color_Q30;\n#if BLOB_ENABLE\nBlob_Fragment_B30(_Blob_Texture_,vExtra2,vExtra3,Blob_Color_Q30);\n#else\nBlob_Color_Q30=vec4(0,0,0,0);\n#endif\nvec3 Incident_Q39=normalize(vPosition-cameraPosition);\nvec3 Normalized_Q38=normalize(vNormal);\nvec3 Normalized_Q71=normalize(vTangent);\nvec4 Color_Q83;\n#if DECAL_ENABLE\nColor_Q83=texture(_Decal_,vUV);\n#else\nColor_Q83=vec4(0,0,0,0);\n#endif\nfloat X_Q90;\nfloat Y_Q90;\nfloat Z_Q90;\nfloat W_Q90;\nX_Q90=vExtra1.x;\nY_Q90=vExtra1.y;\nZ_Q90=vExtra1.z;\nW_Q90=vExtra1.w;\nvec4 Linear_Q43;\nLinear_Q43.rgb=clamp(_Sky_Color_.rgb*_Sky_Color_.rgb,0.0,1.0);\nLinear_Q43.a=_Sky_Color_.a;\nvec4 Linear_Q44;\nLinear_Q44.rgb=clamp(_Horizon_Color_.rgb*_Horizon_Color_.rgb,0.0,1.0);\nLinear_Q44.a=_Horizon_Color_.a;\nvec4 Linear_Q45;\nLinear_Q45.rgb=clamp(_Ground_Color_.rgb*_Ground_Color_.rgb,0.0,1.0);\nLinear_Q45.a=_Ground_Color_.a;\nvec3 Left_Index_Q64;\nvec3 Right_Index_Q64;\nvec3 Left_Index_Middle_Q64;\nvec3 Right_Index_Middle_Q64;\nFinger_Positions_B64(_Left_Index_Pos_,_Right_Index_Pos_,_Left_Index_Middle_Pos_,_Right_Index_Middle_Pos_,Left_Index_Q64,Right_Index_Q64,Left_Index_Middle_Q64,Right_Index_Middle_Q64);\nvec4 Linear_Q46;\nLinear_Q46.rgb=clamp(_Albedo_.rgb*_Albedo_.rgb,0.0,1.0);\nLinear_Q46.a=_Albedo_.a;\nvec3 Normalized_Q107=normalize(vBinormal);\nvec3 Incident_Q70=normalize(vPosition-cameraPosition);\nvec3 New_Normal_Q79;\nBulge_B79(_Bulge_Enabled_,Normalized_Q38,Normalized_Q71,_Bulge_Height_,vColor,_Bulge_Radius_,vBinormal,New_Normal_Q79);\nfloat Result_Q77;\nSSS_B77(vBinormal,New_Normal_Q79,Incident_Q39,Result_Q77);\nvec4 Result_Q91;\nScale_Color_B91(Color_Q83,X_Q90,Result_Q91);\nfloat Transmit_Q122;\nfloat Reflect_Q122;\nFast_Fresnel_B122(_Front_Reflect_,_Edge_Reflect_,_Power_,New_Normal_Q79,Incident_Q39,Transmit_Q122,Reflect_Q122);\nfloat Product_Q125=Y_Q90*Y_Q90;\nvec3 NearP_Q65;\nvec3 NearQ_Q65;\nfloat Distance_Q65;\nMin_Segment_Distance_B65(Left_Index_Q64,Left_Index_Middle_Q64,vPosition,cameraPosition,NearP_Q65,NearQ_Q65,Distance_Q65);\nvec3 NearP_Q63;\nvec3 NearQ_Q63;\nfloat Distance_Q63;\nMin_Segment_Distance_B65(Right_Index_Q64,Right_Index_Middle_Q64,vPosition,cameraPosition,NearP_Q63,NearQ_Q63,Distance_Q63);\nvec3 Reflected_Q47=reflect(Incident_Q39,New_Normal_Q79);\nvec4 Product_Q103=Linear_Q46*vec4(1,1,1,1);\nvec4 Result_Q132;\nRim_Light_B132(Normalized_Q107,Normalized_Q38,Incident_Q70,_Rim_Intensity_,_Rim_Texture_,Result_Q132);\nfloat Dot_Q72=dot(Incident_Q70, Normalized_Q71);\nfloat MaxAB_Q123=max(Reflect_Q122,Product_Q125);\nfloat NotInShadow_Q67;\n#if OCCLUSION_ENABLED\nFingerOcclusion_B67(_Width_,Distance_Q65,_Fuzz_,_Min_Fuzz_,vPosition,vBinormal,NearP_Q65,_Clip_Fade_,NotInShadow_Q67);\n#else\nNotInShadow_Q67=1.0;\n#endif\nfloat NotInShadow_Q68;\n#if OCCLUSION_ENABLED\nFingerOcclusion_B68(_Width_,Distance_Q63,_Fuzz_,_Min_Fuzz_,vPosition,vBinormal,NearP_Q63,_Clip_Fade_,NotInShadow_Q68);\n#else\nNotInShadow_Q68=1.0;\n#endif\nvec4 Reflected_Color_Q51;\nvec4 Indirect_Diffuse_Q51;\n#if ENV_ENABLE\nMapped_Environment_B51(_Reflection_Map_,_Indirect_Environment_,Reflected_Q47,Reflected_Color_Q51,Indirect_Diffuse_Q51);\n#else\nReflected_Color_Q51=vec4(0,0,0,1);\nIndirect_Diffuse_Q51=vec4(0,0,0,1);\n#endif\nvec4 Reflected_Color_Q50;\nvec4 Indirect_Color_Q50;\n#if SKY_ENABLED\nSky_Environment_B50(New_Normal_Q79,Reflected_Q47,Linear_Q43,Linear_Q44,Linear_Q45,_Horizon_Power_,Reflected_Color_Q50,Indirect_Color_Q50);\n#else\nReflected_Color_Q50=vec4(0,0,0,1);\nIndirect_Color_Q50=vec4(0,0,0,1);\n#endif\nfloat Hue_Q75;\nfloat Saturation_Q75;\nfloat Value_Q75;\nfloat Alpha_Q75;\nvec3 HSV_Q75;\nTo_HSV_B75(Product_Q103,Hue_Q75,Saturation_Q75,Value_Q75,Alpha_Q75,HSV_Q75);\nfloat Hue_Q127;\nfloat Saturation_Q127;\nfloat Value_Q127;\nfloat Alpha_Q127;\nvec3 HSV_Q127;\nTo_HSV_B75(Result_Q132,Hue_Q127,Saturation_Q127,Value_Q127,Alpha_Q127,HSV_Q127);\nfloat Result_Q110;\nCode_B110(Dot_Q72,Result_Q110);\nfloat AbsA_Q76=abs(Result_Q110);\nfloat MinAB_Q58=min(NotInShadow_Q67,NotInShadow_Q68);\nvec4 Sum_Q48=Reflected_Color_Q51+Reflected_Color_Q50;\nvec4 Sum_Q49=Indirect_Diffuse_Q51+Indirect_Color_Q50;\nvec3 HSV_Out_Q126;\nVaryHSV_B108(HSV_Q127,_Rim_Hue_Shift_,_Rim_Saturation_Shift_,_Rim_Value_Shift_,HSV_Out_Q126);\nfloat Out_Q114;\nRemap_Range_B114(-1.0,1.0,0.0,1.0,Result_Q110,Out_Q114);\nfloat Product_Q106;\nProduct_Q106=AbsA_Q76*_Hue_Shift_;\nfloat X_Q128;\nfloat Y_Q128;\nfloat Z_Q128;\nTo_XYZ_B74(HSV_Out_Q126,X_Q128,Y_Q128,Z_Q128);\nvec2 Vec2_Q112=vec2(Out_Q114,0.5);\nvec3 HSV_Out_Q108;\nVaryHSV_B108(HSV_Q75,Product_Q106,_Saturation_Shift_,_Value_Shift_,HSV_Out_Q108);\nvec4 Color_Q129;\nFrom_HSV_B73(X_Q128,Y_Q128,Z_Q128,0.0,Color_Q129);\nvec4 Color_Q111;\n#if IRIDESCENCE_ENABLED\nColor_Q111=texture(_Iridescence_Texture_,Vec2_Q112);\n#else\nColor_Q111=vec4(0,0,0,0);\n#endif\nfloat X_Q74;\nfloat Y_Q74;\nfloat Z_Q74;\nTo_XYZ_B74(HSV_Out_Q108,X_Q74,Y_Q74,Z_Q74);\nvec4 Result_Q131=_Rim_Intensity_*Color_Q129;\nvec4 Result_Q113=_Iridescence_Intensity_*Color_Q111;\nvec4 Color_Q73;\nFrom_HSV_B73(X_Q74,Y_Q74,Z_Q74,0.0,Color_Q73);\nvec4 Result_Q84=Result_Q91+(1.0-Result_Q91.a)*Color_Q73;\nvec4 Result_Q121;\nFragment_Main_B121(_Sun_Intensity_,_Sun_Theta_,_Sun_Phi_,New_Normal_Q79,Result_Q84,MaxAB_Q123,_Shininess_,Incident_Q39,_Horizon_Color_,_Sky_Color_,_Ground_Color_,_Indirect_Diffuse_,_Specular_,_Horizon_Power_,_Reflection_,Sum_Q48,Sum_Q49,_Sharpness_,Result_Q77,_Subsurface_,vec4(0,0,0,0),Result_Q131,Result_Q113,Result_Q121);\nvec4 Result_Q59;\nScale_RGB_B59(Result_Q121,MinAB_Q58,Result_Q59);\nvec4 sRGB_Q42;\nFastLinearTosRGB_B42(Result_Q59,sRGB_Q42);\nvec4 Result_Q31=Blob_Color_Q30+(1.0-Blob_Color_Q30.a)*sRGB_Q42;\nvec4 Result_Q40=Result_Q31; Result_Q40.a=1.0;\nvec4 Out_Color=Result_Q40;\nfloat Clip_Threshold=0.001;\nbool To_sRGB=false;\ngl_FragColor=Out_Color;\n}";W.v.ShadersStore.mrdlSliderBarPixelShader=ke;var He="uniform mat4 world;\nuniform mat4 viewProjection;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\n#ifdef TANGENT\nattribute vec3 tangent;\n#else\nconst vec3 tangent=vec3(0.);\n#endif\nuniform float _Radius_;\nuniform float _Bevel_Front_;\nuniform float _Bevel_Front_Stretch_;\nuniform float _Bevel_Back_;\nuniform float _Bevel_Back_Stretch_;\nuniform float _Radius_Top_Left_;\nuniform float _Radius_Top_Right_;\nuniform float _Radius_Bottom_Left_;\nuniform float _Radius_Bottom_Right_;\nuniform bool _Bulge_Enabled_;\nuniform float _Bulge_Height_;\nuniform float _Bulge_Radius_;\nuniform float _Sun_Intensity_;\nuniform float _Sun_Theta_;\nuniform float _Sun_Phi_;\nuniform float _Indirect_Diffuse_;\nuniform vec4 _Albedo_;\nuniform float _Specular_;\nuniform float _Shininess_;\nuniform float _Sharpness_;\nuniform float _Subsurface_;\nuniform vec4 _Left_Color_;\nuniform vec4 _Right_Color_;\nuniform float _Reflection_;\nuniform float _Front_Reflect_;\nuniform float _Edge_Reflect_;\nuniform float _Power_;\nuniform vec4 _Sky_Color_;\nuniform vec4 _Horizon_Color_;\nuniform vec4 _Ground_Color_;\nuniform float _Horizon_Power_;\nuniform sampler2D _Reflection_Map_;\nuniform sampler2D _Indirect_Environment_;\nuniform float _Width_;\nuniform float _Fuzz_;\nuniform float _Min_Fuzz_;\nuniform float _Clip_Fade_;\nuniform float _Hue_Shift_;\nuniform float _Saturation_Shift_;\nuniform float _Value_Shift_;\nuniform vec3 _Blob_Position_;\nuniform float _Blob_Intensity_;\nuniform float _Blob_Near_Size_;\nuniform float _Blob_Far_Size_;\nuniform float _Blob_Near_Distance_;\nuniform float _Blob_Far_Distance_;\nuniform float _Blob_Fade_Length_;\nuniform float _Blob_Pulse_;\nuniform float _Blob_Fade_;\nuniform sampler2D _Blob_Texture_;\nuniform vec3 _Blob_Position_2_;\nuniform float _Blob_Near_Size_2_;\nuniform float _Blob_Pulse_2_;\nuniform float _Blob_Fade_2_;\nuniform vec3 _Left_Index_Pos_;\nuniform vec3 _Right_Index_Pos_;\nuniform vec3 _Left_Index_Middle_Pos_;\nuniform vec3 _Right_Index_Middle_Pos_;\nuniform sampler2D _Decal_;\nuniform vec2 _Decal_Scale_XY_;\nuniform bool _Decal_Front_Only_;\nuniform float _Rim_Intensity_;\nuniform sampler2D _Rim_Texture_;\nuniform float _Rim_Hue_Shift_;\nuniform float _Rim_Saturation_Shift_;\nuniform float _Rim_Value_Shift_;\nuniform float _Iridescence_Intensity_;\nuniform sampler2D _Iridescence_Texture_;\nuniform bool Use_Global_Left_Index;\nuniform bool Use_Global_Right_Index;\nuniform vec4 Global_Left_Index_Tip_Position;\nuniform vec4 Global_Right_Index_Tip_Position;\nuniform vec4 Global_Left_Thumb_Tip_Position;\nuniform vec4 Global_Right_Thumb_Tip_Position;\nuniform float Global_Left_Index_Tip_Proximity;\nuniform float Global_Right_Index_Tip_Proximity;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUV;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec4 vColor;\nvarying vec4 vExtra1;\nvarying vec4 vExtra2;\nvarying vec4 vExtra3;\nvoid Object_To_World_Pos_B12(\nvec3 Pos_Object,\nout vec3 Pos_World)\n{\nPos_World=(world*vec4(Pos_Object,1.0)).xyz;\n}\nvoid Object_To_World_Normal_B32(\nvec3 Nrm_Object,\nout vec3 Nrm_World)\n{\nNrm_World=(vec4(Nrm_Object,0.0)).xyz;\n}\nvoid Blob_Vertex_B23(\nvec3 Position,\nvec3 Normal,\nvec3 Tangent,\nvec3 Bitangent,\nvec3 Blob_Position,\nfloat Intensity,\nfloat Blob_Near_Size,\nfloat Blob_Far_Size,\nfloat Blob_Near_Distance,\nfloat Blob_Far_Distance,\nfloat Blob_Fade_Length,\nfloat Blob_Pulse,\nfloat Blob_Fade,\nout vec4 Blob_Info)\n{\nvec3 blob= (Use_Global_Left_Index ? Global_Left_Index_Tip_Position.xyz : Blob_Position);\nvec3 delta=blob-Position;\nfloat dist=dot(Normal,delta);\nfloat lerpValue=clamp((abs(dist)-Blob_Near_Distance)/(Blob_Far_Distance-Blob_Near_Distance),0.0,1.0);\nfloat fadeValue=1.0-clamp((abs(dist)-Blob_Far_Distance)/Blob_Fade_Length,0.0,1.0);\nfloat size=Blob_Near_Size+(Blob_Far_Size-Blob_Near_Size)*lerpValue;\nvec2 blobXY=vec2(dot(delta,Tangent),dot(delta,Bitangent))/(0.0001+size);\nfloat Fade=fadeValue*Intensity*Blob_Fade;\nfloat Distance=(lerpValue*0.5+0.5)*(1.0-Blob_Pulse);\nBlob_Info=vec4(blobXY.x,blobXY.y,Distance,Fade);\n}\nvoid Blob_Vertex_B24(\nvec3 Position,\nvec3 Normal,\nvec3 Tangent,\nvec3 Bitangent,\nvec3 Blob_Position,\nfloat Intensity,\nfloat Blob_Near_Size,\nfloat Blob_Far_Size,\nfloat Blob_Near_Distance,\nfloat Blob_Far_Distance,\nfloat Blob_Fade_Length,\nfloat Blob_Pulse,\nfloat Blob_Fade,\nout vec4 Blob_Info)\n{\nvec3 blob= (Use_Global_Right_Index ? Global_Right_Index_Tip_Position.xyz : Blob_Position);\nvec3 delta=blob-Position;\nfloat dist=dot(Normal,delta);\nfloat lerpValue=clamp((abs(dist)-Blob_Near_Distance)/(Blob_Far_Distance-Blob_Near_Distance),0.0,1.0);\nfloat fadeValue=1.0-clamp((abs(dist)-Blob_Far_Distance)/Blob_Fade_Length,0.0,1.0);\nfloat size=Blob_Near_Size+(Blob_Far_Size-Blob_Near_Size)*lerpValue;\nvec2 blobXY=vec2(dot(delta,Tangent),dot(delta,Bitangent))/(0.0001+size);\nfloat Fade=fadeValue*Intensity*Blob_Fade;\nfloat Distance=(lerpValue*0.5+0.5)*(1.0-Blob_Pulse);\nBlob_Info=vec4(blobXY.x,blobXY.y,Distance,Fade);\n}\nvoid Move_Verts_B130(\nfloat Anisotropy,\nvec3 P,\nfloat Radius,\nfloat Bevel,\nvec3 Normal_Object,\nfloat ScaleZ,\nfloat Stretch,\nout vec3 New_P,\nout vec2 New_UV,\nout float Radial_Gradient,\nout vec3 Radial_Dir,\nout vec3 New_Normal)\n{\nvec2 UV=P.xy*2.0+0.5;\nvec2 center=clamp(UV,0.0,1.0);\nvec2 delta=UV-center;\nfloat deltad=(length(delta)*2.0);\nfloat f=(Bevel+(Radius-Bevel)*Stretch)/Radius;\nfloat innerd=clamp(deltad*2.0,0.0,1.0);\nfloat outerd=clamp(deltad*2.0-1.0,0.0,1.0);\nfloat bevelAngle=outerd*3.14159*0.5;\nfloat sinb=sin(bevelAngle);\nfloat cosb=cos(bevelAngle);\nfloat beveld=(1.0-f)*innerd+f*sinb;\nfloat br=outerd;\nvec2 r2=2.0*vec2(Radius/Anisotropy,Radius);\nfloat dir=P.z<0.0001 ? 1.0 : -1.0;\nNew_UV=center+r2*((0.5-center)+normalize(delta+vec2(0.0,0.000001))*beveld*0.5);\nNew_P=vec3(New_UV-0.5,P.z+dir*(1.0-cosb)*Bevel*ScaleZ);\nRadial_Gradient=clamp((deltad-0.5)*2.0,0.0,1.0);\nRadial_Dir=vec3(delta*r2,0.0);\nvec3 beveledNormal=cosb*Normal_Object+sinb*vec3(delta.x,delta.y,0.0);\nNew_Normal=Normal_Object.z==0.0 ? Normal_Object : beveledNormal;\n}\nvoid Object_To_World_Dir_B60(\nvec3 Dir_Object,\nout vec3 Normal_World,\nout vec3 Normal_World_N,\nout float Normal_Length)\n{\nNormal_World=(world*vec4(Dir_Object,0.0)).xyz;\nNormal_Length=length(Normal_World);\nNormal_World_N=Normal_World/Normal_Length;\n}\nvoid To_XYZ_B78(\nvec3 Vec3,\nout float X,\nout float Y,\nout float Z)\n{\nX=Vec3.x;\nY=Vec3.y;\nZ=Vec3.z;\n}\nvoid Conditional_Float_B93(\nbool Which,\nfloat If_True,\nfloat If_False,\nout float Result)\n{\nResult=Which ? If_True : If_False;\n}\nvoid Object_To_World_Dir_B28(\nvec3 Dir_Object,\nout vec3 Binormal_World,\nout vec3 Binormal_World_N,\nout float Binormal_Length)\n{\nBinormal_World=(world*vec4(Dir_Object,0.0)).xyz;\nBinormal_Length=length(Binormal_World);\nBinormal_World_N=Binormal_World/Binormal_Length;\n}\nvoid Pick_Radius_B69(\nfloat Radius,\nfloat Radius_Top_Left,\nfloat Radius_Top_Right,\nfloat Radius_Bottom_Left,\nfloat Radius_Bottom_Right,\nvec3 Position,\nout float Result)\n{\nbool whichY=Position.y>0.0;\nResult=Position.x<0.0 ? (whichY ? Radius_Top_Left : Radius_Bottom_Left) : (whichY ? Radius_Top_Right : Radius_Bottom_Right);\nResult*=Radius;\n}\nvoid Conditional_Float_B36(\nbool Which,\nfloat If_True,\nfloat If_False,\nout float Result)\n{\nResult=Which ? If_True : If_False;\n}\nvoid Greater_Than_B37(\nfloat Left,\nfloat Right,\nout bool Not_Greater_Than,\nout bool Greater_Than)\n{\nGreater_Than=Left>Right;\nNot_Greater_Than=!Greater_Than;\n}\nvoid Remap_Range_B105(\nfloat In_Min,\nfloat In_Max,\nfloat Out_Min,\nfloat Out_Max,\nfloat In,\nout float Out)\n{\nOut=mix(Out_Min,Out_Max,clamp((In-In_Min)/(In_Max-In_Min),0.0,1.0));\n}\nvoid main()\n{\nvec2 XY_Q85;\nXY_Q85=(uv-vec2(0.5,0.5))*_Decal_Scale_XY_+vec2(0.5,0.5);\nvec3 Tangent_World_Q27;\nvec3 Tangent_World_N_Q27;\nfloat Tangent_Length_Q27;\nTangent_World_Q27=(world*vec4(vec3(1,0,0),0.0)).xyz;\nTangent_Length_Q27=length(Tangent_World_Q27);\nTangent_World_N_Q27=Tangent_World_Q27/Tangent_Length_Q27;\nvec3 Normal_World_Q60;\nvec3 Normal_World_N_Q60;\nfloat Normal_Length_Q60;\nObject_To_World_Dir_B60(vec3(0,0,1),Normal_World_Q60,Normal_World_N_Q60,Normal_Length_Q60);\nfloat X_Q78;\nfloat Y_Q78;\nfloat Z_Q78;\nTo_XYZ_B78(position,X_Q78,Y_Q78,Z_Q78);\nvec3 Nrm_World_Q26;\nNrm_World_Q26=normalize((world*vec4(normal,0.0)).xyz);\nvec3 Binormal_World_Q28;\nvec3 Binormal_World_N_Q28;\nfloat Binormal_Length_Q28;\nObject_To_World_Dir_B28(vec3(0,1,0),Binormal_World_Q28,Binormal_World_N_Q28,Binormal_Length_Q28);\nfloat Anisotropy_Q29=Tangent_Length_Q27/Binormal_Length_Q28;\nfloat Result_Q69;\nPick_Radius_B69(_Radius_,_Radius_Top_Left_,_Radius_Top_Right_,_Radius_Bottom_Left_,_Radius_Bottom_Right_,position,Result_Q69);\nfloat Anisotropy_Q53=Binormal_Length_Q28/Normal_Length_Q60;\nbool Not_Greater_Than_Q37;\nbool Greater_Than_Q37;\nGreater_Than_B37(Z_Q78,0.0,Not_Greater_Than_Q37,Greater_Than_Q37);\nvec4 Linear_Q101;\nLinear_Q101.rgb=clamp(_Left_Color_.rgb*_Left_Color_.rgb,0.0,1.0);\nLinear_Q101.a=_Left_Color_.a;\nvec4 Linear_Q102;\nLinear_Q102.rgb=clamp(_Right_Color_.rgb*_Right_Color_.rgb,0.0,1.0);\nLinear_Q102.a=_Right_Color_.a;\nvec3 Difference_Q61=vec3(0,0,0)-Normal_World_N_Q60;\nvec4 Out_Color_Q34=vec4(X_Q78,Y_Q78,Z_Q78,1);\nfloat Result_Q36;\nConditional_Float_B36(Greater_Than_Q37,_Bevel_Back_,_Bevel_Front_,Result_Q36);\nfloat Result_Q94;\nConditional_Float_B36(Greater_Than_Q37,_Bevel_Back_Stretch_,_Bevel_Front_Stretch_,Result_Q94);\nvec3 New_P_Q130;\nvec2 New_UV_Q130;\nfloat Radial_Gradient_Q130;\nvec3 Radial_Dir_Q130;\nvec3 New_Normal_Q130;\nMove_Verts_B130(Anisotropy_Q29,position,Result_Q69,Result_Q36,normal,Anisotropy_Q53,Result_Q94,New_P_Q130,New_UV_Q130,Radial_Gradient_Q130,Radial_Dir_Q130,New_Normal_Q130);\nfloat X_Q98;\nfloat Y_Q98;\nX_Q98=New_UV_Q130.x;\nY_Q98=New_UV_Q130.y;\nvec3 Pos_World_Q12;\nObject_To_World_Pos_B12(New_P_Q130,Pos_World_Q12);\nvec3 Nrm_World_Q32;\nObject_To_World_Normal_B32(New_Normal_Q130,Nrm_World_Q32);\nvec4 Blob_Info_Q23;\n#if BLOB_ENABLE\nBlob_Vertex_B23(Pos_World_Q12,Nrm_World_Q26,Tangent_World_N_Q27,Binormal_World_N_Q28,_Blob_Position_,_Blob_Intensity_,_Blob_Near_Size_,_Blob_Far_Size_,_Blob_Near_Distance_,_Blob_Far_Distance_,_Blob_Fade_Length_,_Blob_Pulse_,_Blob_Fade_,Blob_Info_Q23);\n#else\nBlob_Info_Q23=vec4(0,0,0,0);\n#endif\nvec4 Blob_Info_Q24;\n#if BLOB_ENABLE_2\nBlob_Vertex_B24(Pos_World_Q12,Nrm_World_Q26,Tangent_World_N_Q27,Binormal_World_N_Q28,_Blob_Position_2_,_Blob_Intensity_,_Blob_Near_Size_2_,_Blob_Far_Size_,_Blob_Near_Distance_,_Blob_Far_Distance_,_Blob_Fade_Length_,_Blob_Pulse_2_,_Blob_Fade_2_,Blob_Info_Q24);\n#else\nBlob_Info_Q24=vec4(0,0,0,0);\n#endif\nfloat Out_Q105;\nRemap_Range_B105(0.0,1.0,0.0,1.0,X_Q98,Out_Q105);\nfloat X_Q86;\nfloat Y_Q86;\nfloat Z_Q86;\nTo_XYZ_B78(Nrm_World_Q32,X_Q86,Y_Q86,Z_Q86);\nvec4 Color_At_T_Q97=mix(Linear_Q101,Linear_Q102,Out_Q105);\nfloat Minus_F_Q87=-Z_Q86;\nfloat R_Q99;\nfloat G_Q99;\nfloat B_Q99;\nfloat A_Q99;\nR_Q99=Color_At_T_Q97.r; G_Q99=Color_At_T_Q97.g; B_Q99=Color_At_T_Q97.b; A_Q99=Color_At_T_Q97.a;\nfloat ClampF_Q88=clamp(0.0,Minus_F_Q87,1.0);\nfloat Result_Q93;\nConditional_Float_B93(_Decal_Front_Only_,ClampF_Q88,1.0,Result_Q93);\nvec4 Vec4_Q89=vec4(Result_Q93,Radial_Gradient_Q130,G_Q99,B_Q99);\nvec3 Position=Pos_World_Q12;\nvec3 Normal=Nrm_World_Q32;\nvec2 UV=XY_Q85;\nvec3 Tangent=Tangent_World_N_Q27;\nvec3 Binormal=Difference_Q61;\nvec4 Color=Out_Color_Q34;\nvec4 Extra1=Vec4_Q89;\nvec4 Extra2=Blob_Info_Q23;\nvec4 Extra3=Blob_Info_Q24;\ngl_Position=viewProjection*vec4(Position,1);\nvPosition=Position;\nvNormal=Normal;\nvUV=UV;\nvTangent=Tangent;\nvBinormal=Binormal;\nvColor=Color;\nvExtra1=Extra1;\nvExtra2=Extra2;\nvExtra3=Extra3;\n}";W.v.ShadersStore.mrdlSliderBarVertexShader=He;var Ue=function(e){function t(){var t=e.call(this)||this;return t.SKY_ENABLED=!0,t.BLOB_ENABLE_2=!0,t.IRIDESCENCE_ENABLED=!0,t._needNormals=!0,t._needUVs=!0,t.rebuild(),t}return(0,h.ZT)(t,e),t}(V.H),qe=function(e){function t(o,n){var i=e.call(this,o,n)||this;return i.radius=.6,i.bevelFront=.6,i.bevelFrontStretch=.077,i.bevelBack=0,i.bevelBackStretch=0,i.radiusTopLeft=1,i.radiusTopRight=1,i.radiusBottomLeft=1,i.radiusBottomRight=1,i.bulgeEnabled=!1,i.bulgeHeight=-.323,i.bulgeRadius=.73,i.sunIntensity=1.102,i.sunTheta=.76,i.sunPhi=.526,i.indirectDiffuse=.658,i.albedo=new C.HE(.0117647,.505882,.996078,1),i.specular=0,i.shininess=10,i.sharpness=0,i.subsurface=0,i.leftGradientColor=new C.HE(.0117647,.505882,.996078,1),i.rightGradientColor=new C.HE(.0117647,.505882,.996078,1),i.reflection=.749,i.frontReflect=0,i.edgeReflect=.09,i.power=8.13,i.skyColor=new C.HE(.0117647,.964706,.996078,1),i.horizonColor=new C.HE(.0117647,.333333,.996078,1),i.groundColor=new C.HE(0,.254902,.996078,1),i.horizonPower=1,i.width=.02,i.fuzz=.5,i.minFuzz=.001,i.clipFade=.01,i.hueShift=0,i.saturationShift=0,i.valueShift=0,i.blobPosition=new m.P(0,0,.1),i.blobIntensity=.5,i.blobNearSize=.01,i.blobFarSize=.03,i.blobNearDistance=0,i.blobFarDistance=.08,i.blobFadeLength=.576,i.blobPulse=0,i.blobFade=1,i.blobPosition2=new m.P(.2,0,.1),i.blobNearSize2=.01,i.blobPulse2=0,i.blobFade2=1,i.blobTexture=new P.x("",i.getScene()),i.leftIndexPosition=new m.P(0,0,1),i.rightIndexPosition=new m.P(-1,-1,-1),i.leftIndexMiddlePosition=new m.P(0,0,0),i.rightIndexMiddlePosition=new m.P(0,0,0),i.decalScaleXY=new m.FM(1.5,1.5),i.decalFrontOnly=!0,i.rimIntensity=.287,i.rimHueShift=0,i.rimSaturationShift=0,i.rimValueShift=-1,i.iridescenceIntensity=0,i.useGlobalLeftIndex=1,i.useGlobalRightIndex=1,i.globalLeftIndexTipProximity=0,i.globalRightIndexTipProximity=0,i.globalLeftIndexTipPosition=new m.Lt(.5,0,-.55,1),i.globaRightIndexTipPosition=new m.Lt(0,0,0,1),i.globalLeftThumbTipPosition=new m.Lt(.5,0,-.55,1),i.globalRightThumbTipPosition=new m.Lt(0,0,0,1),i.globalLeftIndexMiddlePosition=new m.Lt(.5,0,-.55,1),i.globalRightIndexMiddlePosition=new m.Lt(0,0,0,1),i.alphaMode=J.g.ALPHA_DISABLE,i.backFaceCulling=!1,i._blueGradientTexture=new P.x(t.BLUE_GRADIENT_TEXTURE_URL,i.getScene(),!0,!1,P.x.NEAREST_SAMPLINGMODE),i}return(0,h.ZT)(t,e),t.prototype.needAlphaBlending=function(){return!1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t.materialDefines||(t.materialDefines=new Ue);var o=t.materialDefines,n=this.getScene();if(this._isReadyForSubMesh(t))return!0;var i=n.getEngine();if(A.G.PrepareDefinesForAttributes(e,o,!1,!1),o.isDirty){o.markAsProcessed(),n.resetCachedMaterial();var a=new $.L;o.FOG&&a.addFallback(1,"FOG"),A.G.HandleFallbacksForShadows(o,a),o.IMAGEPROCESSINGPOSTPROCESS=n.imageProcessingConfiguration.applyByPostProcess;var r=[G.o.PositionKind];o.NORMAL&&r.push(G.o.NormalKind),o.UV1&&r.push(G.o.UVKind),o.UV2&&r.push(G.o.UV2Kind),o.VERTEXCOLOR&&r.push(G.o.ColorKind),o.TANGENT&&r.push(G.o.TangentKind),A.G.PrepareAttributesForInstances(r,o);var _=o.toString(),l=["world","viewProjection","cameraPosition","_Radius_","_Bevel_Front_","_Bevel_Front_Stretch_","_Bevel_Back_","_Bevel_Back_Stretch_","_Radius_Top_Left_","_Radius_Top_Right_","_Radius_Bottom_Left_","_Radius_Bottom_Right_","_Bulge_Enabled_","_Bulge_Height_","_Bulge_Radius_","_Sun_Intensity_","_Sun_Theta_","_Sun_Phi_","_Indirect_Diffuse_","_Albedo_","_Specular_","_Shininess_","_Sharpness_","_Subsurface_","_Left_Color_","_Right_Color_","_Reflection_","_Front_Reflect_","_Edge_Reflect_","_Power_","_Sky_Color_","_Horizon_Color_","_Ground_Color_","_Horizon_Power_","_Reflection_Map_","_Indirect_Environment_","_Width_","_Fuzz_","_Min_Fuzz_","_Clip_Fade_","_Hue_Shift_","_Saturation_Shift_","_Value_Shift_","_Blob_Position_","_Blob_Intensity_","_Blob_Near_Size_","_Blob_Far_Size_","_Blob_Near_Distance_","_Blob_Far_Distance_","_Blob_Fade_Length_","_Blob_Pulse_","_Blob_Fade_","_Blob_Texture_","_Blob_Position_2_","_Blob_Near_Size_2_","_Blob_Pulse_2_","_Blob_Fade_2_","_Left_Index_Pos_","_Right_Index_Pos_","_Left_Index_Middle_Pos_","_Right_Index_Middle_Pos_","_Decal_","_Decal_Scale_XY_","_Decal_Front_Only_","_Rim_Intensity_","_Rim_Texture_","_Rim_Hue_Shift_","_Rim_Saturation_Shift_","_Rim_Value_Shift_","_Iridescence_Intensity_","_Iridescence_Texture_","Use_Global_Left_Index","Use_Global_Right_Index","Global_Left_Index_Tip_Position","Global_Right_Index_Tip_Position","Global_Left_Thumb_Tip_Position","Global_Right_Thumb_Tip_Position","Global_Left_Index_Middle_Position;","Global_Right_Index_Middle_Position","Global_Left_Index_Tip_Proximity","Global_Right_Index_Tip_Proximity"],s=["_Rim_Texture_","_Iridescence_Texture_"],c=new Array;A.G.PrepareUniformsAndSamplersList({uniformsNames:l,uniformBuffersNames:c,samplers:s,defines:o,maxSimultaneousLights:4}),t.setEffect(n.getEngine().createEffect("mrdlSliderBar",{attributes:r,uniformsNames:l,uniformBuffersNames:c,samplers:s,defines:_,fallbacks:a,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},i),o,this._materialContext)}return!(!t.effect||!t.effect.isReady())&&(o._renderId=n.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,o){if(o.materialDefines){var n=o.effect;n&&(this._activeEffect=n,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix("viewProjection",this.getScene().getTransformMatrix()),this._activeEffect.setVector3("cameraPosition",this.getScene().activeCamera.position),this._activeEffect.setFloat("_Radius_",this.radius),this._activeEffect.setFloat("_Bevel_Front_",this.bevelFront),this._activeEffect.setFloat("_Bevel_Front_Stretch_",this.bevelFrontStretch),this._activeEffect.setFloat("_Bevel_Back_",this.bevelBack),this._activeEffect.setFloat("_Bevel_Back_Stretch_",this.bevelBackStretch),this._activeEffect.setFloat("_Radius_Top_Left_",this.radiusTopLeft),this._activeEffect.setFloat("_Radius_Top_Right_",this.radiusTopRight),this._activeEffect.setFloat("_Radius_Bottom_Left_",this.radiusBottomLeft),this._activeEffect.setFloat("_Radius_Bottom_Right_",this.radiusBottomRight),this._activeEffect.setFloat("_Bulge_Enabled_",this.bulgeEnabled?1:0),this._activeEffect.setFloat("_Bulge_Height_",this.bulgeHeight),this._activeEffect.setFloat("_Bulge_Radius_",this.bulgeRadius),this._activeEffect.setFloat("_Sun_Intensity_",this.sunIntensity),this._activeEffect.setFloat("_Sun_Theta_",this.sunTheta),this._activeEffect.setFloat("_Sun_Phi_",this.sunPhi),this._activeEffect.setFloat("_Indirect_Diffuse_",this.indirectDiffuse),this._activeEffect.setDirectColor4("_Albedo_",this.albedo),this._activeEffect.setFloat("_Specular_",this.specular),this._activeEffect.setFloat("_Shininess_",this.shininess),this._activeEffect.setFloat("_Sharpness_",this.sharpness),this._activeEffect.setFloat("_Subsurface_",this.subsurface),this._activeEffect.setDirectColor4("_Left_Color_",this.leftGradientColor),this._activeEffect.setDirectColor4("_Right_Color_",this.rightGradientColor),this._activeEffect.setFloat("_Reflection_",this.reflection),this._activeEffect.setFloat("_Front_Reflect_",this.frontReflect),this._activeEffect.setFloat("_Edge_Reflect_",this.edgeReflect),this._activeEffect.setFloat("_Power_",this.power),this._activeEffect.setDirectColor4("_Sky_Color_",this.skyColor),this._activeEffect.setDirectColor4("_Horizon_Color_",this.horizonColor),this._activeEffect.setDirectColor4("_Ground_Color_",this.groundColor),this._activeEffect.setFloat("_Horizon_Power_",this.horizonPower),this._activeEffect.setTexture("_Reflection_Map_",new P.x("",this.getScene())),this._activeEffect.setTexture("_Indirect_Environment_",new P.x("",this.getScene())),this._activeEffect.setFloat("_Width_",this.width),this._activeEffect.setFloat("_Fuzz_",this.fuzz),this._activeEffect.setFloat("_Min_Fuzz_",this.minFuzz),this._activeEffect.setFloat("_Clip_Fade_",this.clipFade),this._activeEffect.setFloat("_Hue_Shift_",this.hueShift),this._activeEffect.setFloat("_Saturation_Shift_",this.saturationShift),this._activeEffect.setFloat("_Value_Shift_",this.valueShift),this._activeEffect.setVector3("_Blob_Position_",this.blobPosition),this._activeEffect.setFloat("_Blob_Intensity_",this.blobIntensity),this._activeEffect.setFloat("_Blob_Near_Size_",this.blobNearSize),this._activeEffect.setFloat("_Blob_Far_Size_",this.blobFarSize),this._activeEffect.setFloat("_Blob_Near_Distance_",this.blobNearDistance),this._activeEffect.setFloat("_Blob_Far_Distance_",this.blobFarDistance),this._activeEffect.setFloat("_Blob_Fade_Length_",this.blobFadeLength),this._activeEffect.setFloat("_Blob_Pulse_",this.blobPulse),this._activeEffect.setFloat("_Blob_Fade_",this.blobFade),this._activeEffect.setTexture("_Blob_Texture_",this.blobTexture),this._activeEffect.setVector3("_Blob_Position_2_",this.blobPosition2),this._activeEffect.setFloat("_Blob_Near_Size_2_",this.blobNearSize2),this._activeEffect.setFloat("_Blob_Pulse_2_",this.blobPulse2),this._activeEffect.setFloat("_Blob_Fade_2_",this.blobFade2),this._activeEffect.setVector3("_Left_Index_Pos_",this.leftIndexPosition),this._activeEffect.setVector3("_Right_Index_Pos_",this.rightIndexPosition),this._activeEffect.setVector3("_Left_Index_Middle_Pos_",this.leftIndexMiddlePosition),this._activeEffect.setVector3("_Right_Index_Middle_Pos_",this.rightIndexMiddlePosition),this._activeEffect.setTexture("_Decal_",new P.x("",this.getScene())),this._activeEffect.setVector2("_Decal_Scale_XY_",this.decalScaleXY),this._activeEffect.setFloat("_Decal_Front_Only_",this.decalFrontOnly?1:0),this._activeEffect.setFloat("_Rim_Intensity_",this.rimIntensity),this._activeEffect.setTexture("_Rim_Texture_",this._blueGradientTexture),this._activeEffect.setFloat("_Rim_Hue_Shift_",this.rimHueShift),this._activeEffect.setFloat("_Rim_Saturation_Shift_",this.rimSaturationShift),this._activeEffect.setFloat("_Rim_Value_Shift_",this.rimValueShift),this._activeEffect.setFloat("_Iridescence_Intensity_",this.iridescenceIntensity),this._activeEffect.setTexture("_Iridescence_Texture_",this._blueGradientTexture),this._activeEffect.setFloat("Use_Global_Left_Index",this.useGlobalLeftIndex),this._activeEffect.setFloat("Use_Global_Right_Index",this.useGlobalRightIndex),this._activeEffect.setVector4("Global_Left_Index_Tip_Position",this.globalLeftIndexTipPosition),this._activeEffect.setVector4("Global_Right_Index_Tip_Position",this.globaRightIndexTipPosition),this._activeEffect.setVector4("Global_Left_Thumb_Tip_Position",this.globalLeftThumbTipPosition),this._activeEffect.setVector4("Global_Right_Thumb_Tip_Position",this.globalRightThumbTipPosition),this._activeEffect.setVector4("Global_Left_Index_Middle_Position",this.globalLeftIndexMiddlePosition),this._activeEffect.setVector4("Global_Right_Index_Middle_Position",this.globalRightIndexMiddlePosition),this._activeEffect.setFloat("Global_Left_Index_Tip_Proximity",this.globalLeftIndexTipProximity),this._activeEffect.setFloat("Global_Right_Index_Tip_Proximity",this.globalRightIndexTipProximity),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){return[]},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var o=this;return w.p4.Clone((function(){return new t(e,o.getScene())}),this)},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this);return t.customType="BABYLON.MRDLSliderBarMaterial",t},t.prototype.getClassName=function(){return"MRDLSliderBarMaterial"},t.Parse=function(e,o,n){return w.p4.Parse((function(){return new t(e.name,o)}),e,o,n)},t.BLUE_GRADIENT_TEXTURE_URL="https://assets.babylonjs.com/meshes/MRTK/MRDL/mrtk-mrdl-blue-gradient.png",(0,h.gn)([(0,w.qC)()],t.prototype,"radius",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"bevelFront",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"bevelFrontStretch",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"bevelBack",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"bevelBackStretch",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"radiusTopLeft",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"radiusTopRight",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"radiusBottomLeft",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"radiusBottomRight",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"bulgeEnabled",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"bulgeHeight",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"bulgeRadius",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"sunIntensity",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"sunTheta",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"sunPhi",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"indirectDiffuse",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"albedo",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"specular",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"shininess",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"sharpness",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"subsurface",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"leftGradientColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rightGradientColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"reflection",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"frontReflect",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"edgeReflect",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"power",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"skyColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"horizonColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"groundColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"horizonPower",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"width",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"fuzz",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"minFuzz",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"clipFade",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"hueShift",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"saturationShift",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"valueShift",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobPosition",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobIntensity",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobNearSize",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFarSize",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobNearDistance",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFarDistance",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFadeLength",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobPulse",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFade",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobPosition2",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobNearSize2",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobPulse2",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFade2",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobTexture",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"leftIndexPosition",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rightIndexPosition",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"leftIndexMiddlePosition",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rightIndexMiddlePosition",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"decalScaleXY",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"decalFrontOnly",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rimIntensity",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rimHueShift",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rimSaturationShift",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rimValueShift",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"iridescenceIntensity",void 0),t}(z.a);(0,d.H)("BABYLON.GUI.MRDLSliderBarMaterial",qe);var je="uniform vec3 cameraPosition;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUV;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec4 vColor;\nvarying vec4 vExtra1;\nvarying vec4 vExtra2;\nvarying vec4 vExtra3;\nuniform float _Radius_;\nuniform float _Bevel_Front_;\nuniform float _Bevel_Front_Stretch_;\nuniform float _Bevel_Back_;\nuniform float _Bevel_Back_Stretch_;\nuniform float _Radius_Top_Left_;\nuniform float _Radius_Top_Right_;\nuniform float _Radius_Bottom_Left_;\nuniform float _Radius_Bottom_Right_;\nuniform bool _Bulge_Enabled_;\nuniform float _Bulge_Height_;\nuniform float _Bulge_Radius_;\nuniform float _Sun_Intensity_;\nuniform float _Sun_Theta_;\nuniform float _Sun_Phi_;\nuniform float _Indirect_Diffuse_;\nuniform vec4 _Albedo_;\nuniform float _Specular_;\nuniform float _Shininess_;\nuniform float _Sharpness_;\nuniform float _Subsurface_;\nuniform vec4 _Left_Color_;\nuniform vec4 _Right_Color_;\nuniform float _Reflection_;\nuniform float _Front_Reflect_;\nuniform float _Edge_Reflect_;\nuniform float _Power_;\nuniform vec4 _Sky_Color_;\nuniform vec4 _Horizon_Color_;\nuniform vec4 _Ground_Color_;\nuniform float _Horizon_Power_;\nuniform sampler2D _Reflection_Map_;\nuniform sampler2D _Indirect_Environment_;\nuniform float _Width_;\nuniform float _Fuzz_;\nuniform float _Min_Fuzz_;\nuniform float _Clip_Fade_;\nuniform float _Hue_Shift_;\nuniform float _Saturation_Shift_;\nuniform float _Value_Shift_;\nuniform vec3 _Blob_Position_;\nuniform float _Blob_Intensity_;\nuniform float _Blob_Near_Size_;\nuniform float _Blob_Far_Size_;\nuniform float _Blob_Near_Distance_;\nuniform float _Blob_Far_Distance_;\nuniform float _Blob_Fade_Length_;\nuniform float _Blob_Pulse_;\nuniform float _Blob_Fade_;\nuniform sampler2D _Blob_Texture_;\nuniform vec3 _Blob_Position_2_;\nuniform float _Blob_Near_Size_2_;\nuniform float _Blob_Pulse_2_;\nuniform float _Blob_Fade_2_;\nuniform vec3 _Left_Index_Pos_;\nuniform vec3 _Right_Index_Pos_;\nuniform vec3 _Left_Index_Middle_Pos_;\nuniform vec3 _Right_Index_Middle_Pos_;\nuniform sampler2D _Decal_;\nuniform vec2 _Decal_Scale_XY_;\nuniform bool _Decal_Front_Only_;\nuniform float _Rim_Intensity_;\nuniform sampler2D _Rim_Texture_;\nuniform float _Rim_Hue_Shift_;\nuniform float _Rim_Saturation_Shift_;\nuniform float _Rim_Value_Shift_;\nuniform float _Iridescence_Intensity_;\nuniform sampler2D _Iridescence_Texture_;\nuniform bool Use_Global_Left_Index;\nuniform bool Use_Global_Right_Index;\nuniform vec4 Global_Left_Index_Tip_Position;\nuniform vec4 Global_Right_Index_Tip_Position;\nuniform vec4 Global_Left_Thumb_Tip_Position;\nuniform vec4 Global_Right_Thumb_Tip_Position;\nuniform vec4 Global_Left_Index_Middle_Position;\nuniform vec4 Global_Right_Index_Middle_Position;\nuniform float Global_Left_Index_Tip_Proximity;\nuniform float Global_Right_Index_Tip_Proximity;\nvoid Blob_Fragment_B180(\nsampler2D Blob_Texture,\nvec4 Blob_Info1,\nvec4 Blob_Info2,\nout vec4 Blob_Color)\n{\nfloat k1=dot(Blob_Info1.xy,Blob_Info1.xy);\nfloat k2=dot(Blob_Info2.xy,Blob_Info2.xy);\nvec3 closer=k1<k2 ? vec3(k1,Blob_Info1.z,Blob_Info1.w) : vec3(k2,Blob_Info2.z,Blob_Info2.w);\nBlob_Color=closer.z*texture(Blob_Texture,vec2(vec2(sqrt(closer.x),closer.y).x,1.0-vec2(sqrt(closer.x),closer.y).y))*clamp(1.0-closer.x,0.0,1.0);\n}\nvoid FastLinearTosRGB_B192(\nvec4 Linear,\nout vec4 sRGB)\n{\nsRGB.rgb=sqrt(clamp(Linear.rgb,0.0,1.0));\nsRGB.a=Linear.a;\n}\nvoid Scale_RGB_B209(\nvec4 Color,\nfloat Scalar,\nout vec4 Result)\n{\nResult=vec4(Scalar,Scalar,Scalar,1)*Color;\n}\nvoid Fragment_Main_B271(\nfloat Sun_Intensity,\nfloat Sun_Theta,\nfloat Sun_Phi,\nvec3 Normal,\nvec4 Albedo,\nfloat Fresnel_Reflect,\nfloat Shininess,\nvec3 Incident,\nvec4 Horizon_Color,\nvec4 Sky_Color,\nvec4 Ground_Color,\nfloat Indirect_Diffuse,\nfloat Specular,\nfloat Horizon_Power,\nfloat Reflection,\nvec4 Reflection_Sample,\nvec4 Indirect_Sample,\nfloat Sharpness,\nfloat SSS,\nfloat Subsurface,\nvec4 Translucence,\nvec4 Rim_Light,\nvec4 Iridescence,\nout vec4 Result)\n{\nfloat theta=Sun_Theta*2.0*3.14159;\nfloat phi=Sun_Phi*3.14159;\nvec3 lightDir= vec3(cos(phi)*cos(theta),sin(phi),cos(phi)*sin(theta));\nfloat NdotL=max(dot(lightDir,Normal),0.0);\nvec3 R=reflect(Incident,Normal);\nfloat RdotL=max(0.0,dot(R,lightDir));\nfloat specular=pow(RdotL,Shininess);\nspecular=mix(specular,smoothstep(0.495*Sharpness,1.0-0.495*Sharpness,specular),Sharpness);\nvec4 gi=mix(Ground_Color,Sky_Color,Normal.y*0.5+0.5);\nResult=((Sun_Intensity*NdotL+Indirect_Sample*Indirect_Diffuse+Translucence)*(1.0+SSS*Subsurface))*Albedo*(1.0-Fresnel_Reflect)+(Sun_Intensity*specular*Specular+Fresnel_Reflect*Reflection*Reflection_Sample)+Fresnel_Reflect*Rim_Light+Iridescence;\n}\nvoid Bulge_B229(\nbool Enabled,\nvec3 Normal,\nvec3 Tangent,\nfloat Bulge_Height,\nvec4 UV,\nfloat Bulge_Radius,\nvec3 ButtonN,\nout vec3 New_Normal)\n{\nvec2 xy=clamp(UV.xy*2.0,vec2(-1,-1),vec2(1,1));\nvec3 B=(cross(Normal,Tangent));\nfloat k=-clamp(1.0-length(xy)/Bulge_Radius,0.0,1.0)*Bulge_Height;\nk=sin(k*3.14159*0.5);\nk*=smoothstep(0.9998,0.9999,abs(dot(ButtonN,Normal)));\nNew_Normal=Normal*sqrt(1.0-k*k)+(xy.x*Tangent+xy.y*B)*k;\nNew_Normal=Enabled ? New_Normal : Normal;\n}\nvoid SSS_B227(\nvec3 ButtonN,\nvec3 Normal,\nvec3 Incident,\nout float Result)\n{\nfloat NdotI=abs(dot(Normal,Incident));\nfloat BdotI=abs(dot(ButtonN,Incident));\nResult=(abs(NdotI-BdotI)); \n}\nvoid FingerOcclusion_B217(\nfloat Width,\nfloat DistToCenter,\nfloat Fuzz,\nfloat Min_Fuzz,\nvec3 Position,\nvec3 Forward,\nvec3 Nearest,\nfloat Fade_Out,\nout float NotInShadow)\n{\nfloat d=dot((Nearest-Position),Forward);\nfloat sh=smoothstep(Width*0.5,Width*0.5+Fuzz*max(d,0.0)+Min_Fuzz,DistToCenter);\nNotInShadow=1.0-(1.0-sh)*smoothstep(-Fade_Out,0.0,d);\n}\nvoid FingerOcclusion_B218(\nfloat Width,\nfloat DistToCenter,\nfloat Fuzz,\nfloat Min_Fuzz,\nvec3 Position,\nvec3 Forward,\nvec3 Nearest,\nfloat Fade_Out,\nout float NotInShadow)\n{\nfloat d=dot((Nearest-Position),Forward);\nfloat sh=smoothstep(Width*0.5,Width*0.5+Fuzz*max(d,0.0)+Min_Fuzz,DistToCenter);\nNotInShadow=1.0-(1.0-sh)*smoothstep(-Fade_Out,0.0,d);\n}\nvoid Scale_Color_B241(\nvec4 Color,\nfloat Scalar,\nout vec4 Result)\n{\nResult=Scalar*Color;\n}\nvoid From_HSV_B223(\nfloat Hue,\nfloat Saturation,\nfloat Value,\nfloat Alpha,\nout vec4 Color)\n{\nvec4 K=vec4(1.0,2.0/3.0,1.0/3.0,3.0);\nvec3 p=abs(fract(vec3(Hue,Hue,Hue)+K.xyz)*6.0-K.www);\nColor.rgb=Value*mix(K.xxx,clamp(p-K.xxx,0.0,1.0),Saturation);\nColor.a=Alpha;\n}\nvoid Fast_Fresnel_B272(\nfloat Front_Reflect,\nfloat Edge_Reflect,\nfloat Power,\nvec3 Normal,\nvec3 Incident,\nout float Transmit,\nout float Reflect)\n{\nfloat d=max(-dot(Incident,Normal),0.0);\nReflect=Front_Reflect+(Edge_Reflect-Front_Reflect)*pow(1.0-d,Power);\nTransmit=1.0-Reflect;\n}\nvoid Mapped_Environment_B201(\nsampler2D Reflected_Environment,\nsampler2D Indirect_Environment,\nvec3 Dir,\nout vec4 Reflected_Color,\nout vec4 Indirect_Diffuse)\n{\nReflected_Color=texture(Reflected_Environment,vec2(atan(Dir.z,Dir.x)/3.14159*0.5,asin(Dir.y)/3.14159+0.5));\nIndirect_Diffuse=texture(Indirect_Environment,vec2(atan(Dir.z,Dir.x)/3.14159*0.5,asin(Dir.y)/3.14159+0.5));\n}\nvec4 SampleEnv_Bid200(vec3 D,vec4 S,vec4 H,vec4 G,float exponent)\n{\nfloat k=pow(abs(D.y),exponent);\nvec4 C;\nif (D.y>0.0) {\nC=mix(H,S,k);\n} else {\nC=mix(H,G,k); \n}\nreturn C;\n}\nvoid Sky_Environment_B200(\nvec3 Normal,\nvec3 Reflected,\nvec4 Sky_Color,\nvec4 Horizon_Color,\nvec4 Ground_Color,\nfloat Horizon_Power,\nout vec4 Reflected_Color,\nout vec4 Indirect_Color)\n{\nReflected_Color=SampleEnv_Bid200(Reflected,Sky_Color,Horizon_Color,Ground_Color,Horizon_Power);\nIndirect_Color=mix(Ground_Color,Sky_Color,Normal.y*0.5+0.5);\n}\nvoid Min_Segment_Distance_B215(\nvec3 P0,\nvec3 P1,\nvec3 Q0,\nvec3 Q1,\nout vec3 NearP,\nout vec3 NearQ,\nout float Distance)\n{\nvec3 u=P1-P0;\nvec3 v=Q1-Q0;\nvec3 w=P0-Q0;\nfloat a=dot(u,u);\nfloat b=dot(u,v);\nfloat c=dot(v,v);\nfloat d=dot(u,w);\nfloat e=dot(v,w);\nfloat D=a*c-b*b;\nfloat sD=D;\nfloat tD=D;\nfloat sc,sN,tc,tN;\nif (D<0.00001) {\nsN=0.0;\nsD=1.0;\ntN=e;\ntD=c;\n} else {\nsN=(b*e-c*d);\ntN=(a*e-b*d);\nif (sN<0.0) {\nsN=0.0;\ntN=e;\ntD=c;\n} else if (sN>sD) {\nsN=sD;\ntN=e+b;\ntD=c;\n}\n}\nif (tN<0.0) {\ntN=0.0;\nif (-d<0.0) {\nsN=0.0;\n} else if (-d>a) {\nsN=sD;\n} else {\nsN=-d;\nsD=a;\n}\n} else if (tN>tD) {\ntN=tD;\nif ((-d+b)<0.0) {\nsN=0.0;\n} else if ((-d+b)>a) {\nsN=sD;\n} else {\nsN=(-d+b);\nsD=a;\n}\n}\nsc=abs(sN)<0.000001 ? 0.0 : sN/sD;\ntc=abs(tN)<0.000001 ? 0.0 : tN/tD;\nNearP=P0+sc*u;\nNearQ=Q0+tc*v;\nDistance=distance(NearP,NearQ);\n}\nvoid To_XYZ_B224(\nvec3 Vec3,\nout float X,\nout float Y,\nout float Z)\n{\nX=Vec3.x;\nY=Vec3.y;\nZ=Vec3.z;\n}\nvoid Finger_Positions_B214(\nvec3 Left_Index_Pos,\nvec3 Right_Index_Pos,\nvec3 Left_Index_Middle_Pos,\nvec3 Right_Index_Middle_Pos,\nout vec3 Left_Index,\nout vec3 Right_Index,\nout vec3 Left_Index_Middle,\nout vec3 Right_Index_Middle)\n{\nLeft_Index= (Use_Global_Left_Index ? Global_Left_Index_Tip_Position.xyz : Left_Index_Pos);\nRight_Index= (Use_Global_Right_Index ? Global_Right_Index_Tip_Position.xyz : Right_Index_Pos);\nLeft_Index_Middle= (Use_Global_Left_Index ? Global_Left_Index_Middle_Position.xyz : Left_Index_Middle_Pos);\nRight_Index_Middle= (Use_Global_Right_Index ? Global_Right_Index_Middle_Position.xyz : Right_Index_Middle_Pos);\n}\nvoid VaryHSV_B258(\nvec3 HSV_In,\nfloat Hue_Shift,\nfloat Saturation_Shift,\nfloat Value_Shift,\nout vec3 HSV_Out)\n{\nHSV_Out=vec3(fract(HSV_In.x+Hue_Shift),clamp(HSV_In.y+Saturation_Shift,0.0,1.0),clamp(HSV_In.z+Value_Shift,0.0,1.0));\n}\nvoid Remap_Range_B264(\nfloat In_Min,\nfloat In_Max,\nfloat Out_Min,\nfloat Out_Max,\nfloat In,\nout float Out)\n{\nOut=mix(Out_Min,Out_Max,clamp((In-In_Min)/(In_Max-In_Min),0.0,1.0));\n}\nvoid To_HSV_B225(\nvec4 Color,\nout float Hue,\nout float Saturation,\nout float Value,\nout float Alpha,\nout vec3 HSV)\n{\nvec4 K=vec4(0.0,-1.0/3.0,2.0/3.0,-1.0);\nvec4 p=Color.g<Color.b ? vec4(Color.bg,K.wz) : vec4(Color.gb,K.xy);\nvec4 q=Color.r<p.x ? vec4(p.xyw,Color.r) : vec4(Color.r,p.yzx);\nfloat d=q.x-min(q.w,q.y);\nfloat e=1.0e-10;\nHue=abs(q.z+(q.w-q.y)/(6.0*d+e));\nSaturation=d/(q.x+e);\nValue=q.x;\nAlpha=Color.a;\nHSV=vec3(Hue,Saturation,Value);\n}\nvoid Code_B260(\nfloat X,\nout float Result)\n{\nResult=(acos(X)/3.14159-0.5)*2.0;\n}\nvoid Rim_Light_B282(\nvec3 Front,\nvec3 Normal,\nvec3 Incident,\nfloat Rim_Intensity,\nsampler2D Texture,\nout vec4 Result)\n{\nvec3 R=reflect(Incident,Normal);\nfloat RdotF=dot(R,Front);\nfloat RdotL=sqrt(1.0-RdotF*RdotF);\nvec2 UV=vec2(R.y*0.5+0.5,0.5);\nvec4 Color=texture(Texture,UV);\nResult=Color;\n}\nvoid main()\n{\nvec4 Blob_Color_Q180;\n#if BLOB_ENABLE\nBlob_Fragment_B180(_Blob_Texture_,vExtra2,vExtra3,Blob_Color_Q180);\n#else\nBlob_Color_Q180=vec4(0,0,0,0);\n#endif\nvec3 Incident_Q189=normalize(vPosition-cameraPosition);\nvec3 Normalized_Q188=normalize(vNormal);\nvec3 Normalized_Q221=normalize(vTangent);\nvec4 Color_Q233;\n#if DECAL_ENABLE\nColor_Q233=texture(_Decal_,vUV);\n#else\nColor_Q233=vec4(0,0,0,0);\n#endif\nfloat X_Q240;\nfloat Y_Q240;\nfloat Z_Q240;\nfloat W_Q240;\nX_Q240=vExtra1.x;\nY_Q240=vExtra1.y;\nZ_Q240=vExtra1.z;\nW_Q240=vExtra1.w;\nvec4 Linear_Q193;\nLinear_Q193.rgb=clamp(_Sky_Color_.rgb*_Sky_Color_.rgb,0.0,1.0);\nLinear_Q193.a=_Sky_Color_.a;\nvec4 Linear_Q194;\nLinear_Q194.rgb=clamp(_Horizon_Color_.rgb*_Horizon_Color_.rgb,0.0,1.0);\nLinear_Q194.a=_Horizon_Color_.a;\nvec4 Linear_Q195;\nLinear_Q195.rgb=clamp(_Ground_Color_.rgb*_Ground_Color_.rgb,0.0,1.0);\nLinear_Q195.a=_Ground_Color_.a;\nvec3 Left_Index_Q214;\nvec3 Right_Index_Q214;\nvec3 Left_Index_Middle_Q214;\nvec3 Right_Index_Middle_Q214;\nFinger_Positions_B214(_Left_Index_Pos_,_Right_Index_Pos_,_Left_Index_Middle_Pos_,_Right_Index_Middle_Pos_,Left_Index_Q214,Right_Index_Q214,Left_Index_Middle_Q214,Right_Index_Middle_Q214);\nvec4 Linear_Q196;\nLinear_Q196.rgb=clamp(_Albedo_.rgb*_Albedo_.rgb,0.0,1.0);\nLinear_Q196.a=_Albedo_.a;\nvec3 Normalized_Q257=normalize(vBinormal);\nvec3 Incident_Q220=normalize(vPosition-cameraPosition);\nvec3 New_Normal_Q229;\nBulge_B229(_Bulge_Enabled_,Normalized_Q188,Normalized_Q221,_Bulge_Height_,vColor,_Bulge_Radius_,vBinormal,New_Normal_Q229);\nfloat Result_Q227;\nSSS_B227(vBinormal,New_Normal_Q229,Incident_Q189,Result_Q227);\nvec4 Result_Q241;\nScale_Color_B241(Color_Q233,X_Q240,Result_Q241);\nfloat Transmit_Q272;\nfloat Reflect_Q272;\nFast_Fresnel_B272(_Front_Reflect_,_Edge_Reflect_,_Power_,New_Normal_Q229,Incident_Q189,Transmit_Q272,Reflect_Q272);\nfloat Product_Q275=Y_Q240*Y_Q240;\nvec3 NearP_Q215;\nvec3 NearQ_Q215;\nfloat Distance_Q215;\nMin_Segment_Distance_B215(Left_Index_Q214,Left_Index_Middle_Q214,vPosition,cameraPosition,NearP_Q215,NearQ_Q215,Distance_Q215);\nvec3 NearP_Q213;\nvec3 NearQ_Q213;\nfloat Distance_Q213;\nMin_Segment_Distance_B215(Right_Index_Q214,Right_Index_Middle_Q214,vPosition,cameraPosition,NearP_Q213,NearQ_Q213,Distance_Q213);\nvec3 Reflected_Q197=reflect(Incident_Q189,New_Normal_Q229);\nvec4 Product_Q253=Linear_Q196*vec4(1,1,1,1);\nvec4 Result_Q282;\nRim_Light_B282(Normalized_Q257,Normalized_Q188,Incident_Q220,_Rim_Intensity_,_Rim_Texture_,Result_Q282);\nfloat Dot_Q222=dot(Incident_Q220, Normalized_Q221);\nfloat MaxAB_Q273=max(Reflect_Q272,Product_Q275);\nfloat NotInShadow_Q217;\n#if OCCLUSION_ENABLED\nFingerOcclusion_B217(_Width_,Distance_Q215,_Fuzz_,_Min_Fuzz_,vPosition,vBinormal,NearP_Q215,_Clip_Fade_,NotInShadow_Q217);\n#else\nNotInShadow_Q217=1.0;\n#endif\nfloat NotInShadow_Q218;\n#if OCCLUSION_ENABLED\nFingerOcclusion_B218(_Width_,Distance_Q213,_Fuzz_,_Min_Fuzz_,vPosition,vBinormal,NearP_Q213,_Clip_Fade_,NotInShadow_Q218);\n#else\nNotInShadow_Q218=1.0;\n#endif\nvec4 Reflected_Color_Q201;\nvec4 Indirect_Diffuse_Q201;\n#if ENV_ENABLE\nMapped_Environment_B201(_Reflection_Map_,_Indirect_Environment_,Reflected_Q197,Reflected_Color_Q201,Indirect_Diffuse_Q201);\n#else\nReflected_Color_Q201=vec4(0,0,0,1);\nIndirect_Diffuse_Q201=vec4(0,0,0,1);\n#endif\nvec4 Reflected_Color_Q200;\nvec4 Indirect_Color_Q200;\n#if SKY_ENABLED\nSky_Environment_B200(New_Normal_Q229,Reflected_Q197,Linear_Q193,Linear_Q194,Linear_Q195,_Horizon_Power_,Reflected_Color_Q200,Indirect_Color_Q200);\n#else\nReflected_Color_Q200=vec4(0,0,0,1);\nIndirect_Color_Q200=vec4(0,0,0,1);\n#endif\nfloat Hue_Q225;\nfloat Saturation_Q225;\nfloat Value_Q225;\nfloat Alpha_Q225;\nvec3 HSV_Q225;\nTo_HSV_B225(Product_Q253,Hue_Q225,Saturation_Q225,Value_Q225,Alpha_Q225,HSV_Q225);\nfloat Hue_Q277;\nfloat Saturation_Q277;\nfloat Value_Q277;\nfloat Alpha_Q277;\nvec3 HSV_Q277;\nTo_HSV_B225(Result_Q282,Hue_Q277,Saturation_Q277,Value_Q277,Alpha_Q277,HSV_Q277);\nfloat Result_Q260;\nCode_B260(Dot_Q222,Result_Q260);\nfloat AbsA_Q226=abs(Result_Q260);\nfloat MinAB_Q208=min(NotInShadow_Q217,NotInShadow_Q218);\nvec4 Sum_Q198=Reflected_Color_Q201+Reflected_Color_Q200;\nvec4 Sum_Q199=Indirect_Diffuse_Q201+Indirect_Color_Q200;\nvec3 HSV_Out_Q276;\nVaryHSV_B258(HSV_Q277,_Rim_Hue_Shift_,_Rim_Saturation_Shift_,_Rim_Value_Shift_,HSV_Out_Q276);\nfloat Out_Q264;\nRemap_Range_B264(-1.0,1.0,0.0,1.0,Result_Q260,Out_Q264);\nfloat Product_Q256;\nProduct_Q256=AbsA_Q226*_Hue_Shift_;\nfloat X_Q278;\nfloat Y_Q278;\nfloat Z_Q278;\nTo_XYZ_B224(HSV_Out_Q276,X_Q278,Y_Q278,Z_Q278);\nvec2 Vec2_Q262=vec2(Out_Q264,0.5);\nvec3 HSV_Out_Q258;\nVaryHSV_B258(HSV_Q225,Product_Q256,_Saturation_Shift_,_Value_Shift_,HSV_Out_Q258);\nvec4 Color_Q279;\nFrom_HSV_B223(X_Q278,Y_Q278,Z_Q278,0.0,Color_Q279);\nvec4 Color_Q261;\n#if IRIDESCENCE_ENABLED\nColor_Q261=texture(_Iridescence_Texture_,Vec2_Q262);\n#else\nColor_Q261=vec4(0,0,0,0);\n#endif\nfloat X_Q224;\nfloat Y_Q224;\nfloat Z_Q224;\nTo_XYZ_B224(HSV_Out_Q258,X_Q224,Y_Q224,Z_Q224);\nvec4 Result_Q281=_Rim_Intensity_*Color_Q279;\nvec4 Result_Q263=_Iridescence_Intensity_*Color_Q261;\nvec4 Color_Q223;\nFrom_HSV_B223(X_Q224,Y_Q224,Z_Q224,0.0,Color_Q223);\nvec4 Result_Q234=Result_Q241+(1.0-Result_Q241.a)*Color_Q223;\nvec4 Result_Q271;\nFragment_Main_B271(_Sun_Intensity_,_Sun_Theta_,_Sun_Phi_,New_Normal_Q229,Result_Q234,MaxAB_Q273,_Shininess_,Incident_Q189,_Horizon_Color_,_Sky_Color_,_Ground_Color_,_Indirect_Diffuse_,_Specular_,_Horizon_Power_,_Reflection_,Sum_Q198,Sum_Q199,_Sharpness_,Result_Q227,_Subsurface_,vec4(0,0,0,0),Result_Q281,Result_Q263,Result_Q271);\nvec4 Result_Q209;\nScale_RGB_B209(Result_Q271,MinAB_Q208,Result_Q209);\nvec4 sRGB_Q192;\nFastLinearTosRGB_B192(Result_Q209,sRGB_Q192);\nvec4 Result_Q181=Blob_Color_Q180+(1.0-Blob_Color_Q180.a)*sRGB_Q192;\nvec4 Result_Q190=Result_Q181; Result_Q190.a=1.0;\nvec4 Out_Color=Result_Q190;\nfloat Clip_Threshold=0.001;\nbool To_sRGB=false;\ngl_FragColor=Out_Color;\n}";W.v.ShadersStore.mrdlSliderThumbPixelShader=je;var Xe="uniform mat4 world;\nuniform mat4 viewProjection;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\n#ifdef TANGENT\nattribute vec3 tangent;\n#else\nconst vec3 tangent=vec3(0.);\n#endif\nuniform float _Radius_;\nuniform float _Bevel_Front_;\nuniform float _Bevel_Front_Stretch_;\nuniform float _Bevel_Back_;\nuniform float _Bevel_Back_Stretch_;\nuniform float _Radius_Top_Left_;\nuniform float _Radius_Top_Right_;\nuniform float _Radius_Bottom_Left_;\nuniform float _Radius_Bottom_Right_;\nuniform bool _Bulge_Enabled_;\nuniform float _Bulge_Height_;\nuniform float _Bulge_Radius_;\nuniform float _Sun_Intensity_;\nuniform float _Sun_Theta_;\nuniform float _Sun_Phi_;\nuniform float _Indirect_Diffuse_;\nuniform vec4 _Albedo_;\nuniform float _Specular_;\nuniform float _Shininess_;\nuniform float _Sharpness_;\nuniform float _Subsurface_;\nuniform vec4 _Left_Color_;\nuniform vec4 _Right_Color_;\nuniform float _Reflection_;\nuniform float _Front_Reflect_;\nuniform float _Edge_Reflect_;\nuniform float _Power_;\nuniform vec4 _Sky_Color_;\nuniform vec4 _Horizon_Color_;\nuniform vec4 _Ground_Color_;\nuniform float _Horizon_Power_;\nuniform sampler2D _Reflection_Map_;\nuniform sampler2D _Indirect_Environment_;\nuniform float _Width_;\nuniform float _Fuzz_;\nuniform float _Min_Fuzz_;\nuniform float _Clip_Fade_;\nuniform float _Hue_Shift_;\nuniform float _Saturation_Shift_;\nuniform float _Value_Shift_;\nuniform vec3 _Blob_Position_;\nuniform float _Blob_Intensity_;\nuniform float _Blob_Near_Size_;\nuniform float _Blob_Far_Size_;\nuniform float _Blob_Near_Distance_;\nuniform float _Blob_Far_Distance_;\nuniform float _Blob_Fade_Length_;\nuniform float _Blob_Pulse_;\nuniform float _Blob_Fade_;\nuniform sampler2D _Blob_Texture_;\nuniform vec3 _Blob_Position_2_;\nuniform float _Blob_Near_Size_2_;\nuniform float _Blob_Pulse_2_;\nuniform float _Blob_Fade_2_;\nuniform vec3 _Left_Index_Pos_;\nuniform vec3 _Right_Index_Pos_;\nuniform vec3 _Left_Index_Middle_Pos_;\nuniform vec3 _Right_Index_Middle_Pos_;\nuniform sampler2D _Decal_;\nuniform vec2 _Decal_Scale_XY_;\nuniform bool _Decal_Front_Only_;\nuniform float _Rim_Intensity_;\nuniform sampler2D _Rim_Texture_;\nuniform float _Rim_Hue_Shift_;\nuniform float _Rim_Saturation_Shift_;\nuniform float _Rim_Value_Shift_;\nuniform float _Iridescence_Intensity_;\nuniform sampler2D _Iridescence_Texture_;\nuniform bool Use_Global_Left_Index;\nuniform bool Use_Global_Right_Index;\nuniform vec4 Global_Left_Index_Tip_Position;\nuniform vec4 Global_Right_Index_Tip_Position;\nuniform vec4 Global_Left_Thumb_Tip_Position;\nuniform vec4 Global_Right_Thumb_Tip_Position;\nuniform float Global_Left_Index_Tip_Proximity;\nuniform float Global_Right_Index_Tip_Proximity;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUV;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec4 vColor;\nvarying vec4 vExtra1;\nvarying vec4 vExtra2;\nvarying vec4 vExtra3;\nvoid Object_To_World_Pos_B162(\nvec3 Pos_Object,\nout vec3 Pos_World)\n{\nPos_World=(world*vec4(Pos_Object,1.0)).xyz;\n}\nvoid Object_To_World_Normal_B182(\nvec3 Nrm_Object,\nout vec3 Nrm_World)\n{\nNrm_World=(vec4(Nrm_Object,0.0)).xyz;\n}\nvoid Blob_Vertex_B173(\nvec3 Position,\nvec3 Normal,\nvec3 Tangent,\nvec3 Bitangent,\nvec3 Blob_Position,\nfloat Intensity,\nfloat Blob_Near_Size,\nfloat Blob_Far_Size,\nfloat Blob_Near_Distance,\nfloat Blob_Far_Distance,\nfloat Blob_Fade_Length,\nfloat Blob_Pulse,\nfloat Blob_Fade,\nout vec4 Blob_Info)\n{\nvec3 blob= (Use_Global_Left_Index ? Global_Left_Index_Tip_Position.xyz : Blob_Position);\nvec3 delta=blob-Position;\nfloat dist=dot(Normal,delta);\nfloat lerpValue=clamp((abs(dist)-Blob_Near_Distance)/(Blob_Far_Distance-Blob_Near_Distance),0.0,1.0);\nfloat fadeValue=1.0-clamp((abs(dist)-Blob_Far_Distance)/Blob_Fade_Length,0.0,1.0);\nfloat size=Blob_Near_Size+(Blob_Far_Size-Blob_Near_Size)*lerpValue;\nvec2 blobXY=vec2(dot(delta,Tangent),dot(delta,Bitangent))/(0.0001+size);\nfloat Fade=fadeValue*Intensity*Blob_Fade;\nfloat Distance=(lerpValue*0.5+0.5)*(1.0-Blob_Pulse);\nBlob_Info=vec4(blobXY.x,blobXY.y,Distance,Fade);\n}\nvoid Blob_Vertex_B174(\nvec3 Position,\nvec3 Normal,\nvec3 Tangent,\nvec3 Bitangent,\nvec3 Blob_Position,\nfloat Intensity,\nfloat Blob_Near_Size,\nfloat Blob_Far_Size,\nfloat Blob_Near_Distance,\nfloat Blob_Far_Distance,\nfloat Blob_Fade_Length,\nfloat Blob_Pulse,\nfloat Blob_Fade,\nout vec4 Blob_Info)\n{\nvec3 blob= (Use_Global_Right_Index ? Global_Right_Index_Tip_Position.xyz : Blob_Position);\nvec3 delta=blob-Position;\nfloat dist=dot(Normal,delta);\nfloat lerpValue=clamp((abs(dist)-Blob_Near_Distance)/(Blob_Far_Distance-Blob_Near_Distance),0.0,1.0);\nfloat fadeValue=1.0-clamp((abs(dist)-Blob_Far_Distance)/Blob_Fade_Length,0.0,1.0);\nfloat size=Blob_Near_Size+(Blob_Far_Size-Blob_Near_Size)*lerpValue;\nvec2 blobXY=vec2(dot(delta,Tangent),dot(delta,Bitangent))/(0.0001+size);\nfloat Fade=fadeValue*Intensity*Blob_Fade;\nfloat Distance=(lerpValue*0.5+0.5)*(1.0-Blob_Pulse);\nBlob_Info=vec4(blobXY.x,blobXY.y,Distance,Fade);\n}\nvoid Move_Verts_B280(\nfloat Anisotropy,\nvec3 P,\nfloat Radius,\nfloat Bevel,\nvec3 Normal_Object,\nfloat ScaleZ,\nfloat Stretch,\nout vec3 New_P,\nout vec2 New_UV,\nout float Radial_Gradient,\nout vec3 Radial_Dir,\nout vec3 New_Normal)\n{\nvec2 UV=P.xy*2.0+0.5;\nvec2 center=clamp(UV,0.0,1.0);\nvec2 delta=UV-center;\nfloat deltad=(length(delta)*2.0);\nfloat f=(Bevel+(Radius-Bevel)*Stretch)/Radius;\nfloat innerd=clamp(deltad*2.0,0.0,1.0);\nfloat outerd=clamp(deltad*2.0-1.0,0.0,1.0);\nfloat bevelAngle=outerd*3.14159*0.5;\nfloat sinb=sin(bevelAngle);\nfloat cosb=cos(bevelAngle);\nfloat beveld=(1.0-f)*innerd+f*sinb;\nfloat br=outerd;\nvec2 r2=2.0*vec2(Radius/Anisotropy,Radius);\nfloat dir=P.z<0.0001 ? 1.0 : -1.0;\nNew_UV=center+r2*((0.5-center)+normalize(delta+vec2(0.0,0.000001))*beveld*0.5);\nNew_P=vec3(New_UV-0.5,P.z+dir*(1.0-cosb)*Bevel*ScaleZ);\nRadial_Gradient=clamp((deltad-0.5)*2.0,0.0,1.0);\nRadial_Dir=vec3(delta*r2,0.0);\nvec3 beveledNormal=cosb*Normal_Object+sinb*vec3(delta.x,delta.y,0.0);\nNew_Normal=Normal_Object.z==0.0 ? Normal_Object : beveledNormal;\n}\nvoid Object_To_World_Dir_B210(\nvec3 Dir_Object,\nout vec3 Normal_World,\nout vec3 Normal_World_N,\nout float Normal_Length)\n{\nNormal_World=(world*vec4(Dir_Object,0.0)).xyz;\nNormal_Length=length(Normal_World);\nNormal_World_N=Normal_World/Normal_Length;\n}\nvoid To_XYZ_B228(\nvec3 Vec3,\nout float X,\nout float Y,\nout float Z)\n{\nX=Vec3.x;\nY=Vec3.y;\nZ=Vec3.z;\n}\nvoid Conditional_Float_B243(\nbool Which,\nfloat If_True,\nfloat If_False,\nout float Result)\n{\nResult=Which ? If_True : If_False;\n}\nvoid Object_To_World_Dir_B178(\nvec3 Dir_Object,\nout vec3 Binormal_World,\nout vec3 Binormal_World_N,\nout float Binormal_Length)\n{\nBinormal_World=(world*vec4(Dir_Object,0.0)).xyz;\nBinormal_Length=length(Binormal_World);\nBinormal_World_N=Binormal_World/Binormal_Length;\n}\nvoid Pick_Radius_B219(\nfloat Radius,\nfloat Radius_Top_Left,\nfloat Radius_Top_Right,\nfloat Radius_Bottom_Left,\nfloat Radius_Bottom_Right,\nvec3 Position,\nout float Result)\n{\nbool whichY=Position.y>0.0;\nResult=Position.x<0.0 ? (whichY ? Radius_Top_Left : Radius_Bottom_Left) : (whichY ? Radius_Top_Right : Radius_Bottom_Right);\nResult*=Radius;\n}\nvoid Conditional_Float_B186(\nbool Which,\nfloat If_True,\nfloat If_False,\nout float Result)\n{\nResult=Which ? If_True : If_False;\n}\nvoid Greater_Than_B187(\nfloat Left,\nfloat Right,\nout bool Not_Greater_Than,\nout bool Greater_Than)\n{\nGreater_Than=Left>Right;\nNot_Greater_Than=!Greater_Than;\n}\nvoid Remap_Range_B255(\nfloat In_Min,\nfloat In_Max,\nfloat Out_Min,\nfloat Out_Max,\nfloat In,\nout float Out)\n{\nOut=mix(Out_Min,Out_Max,clamp((In-In_Min)/(In_Max-In_Min),0.0,1.0));\n}\nvoid main()\n{\nvec2 XY_Q235;\nXY_Q235=(uv-vec2(0.5,0.5))*_Decal_Scale_XY_+vec2(0.5,0.5);\nvec3 Tangent_World_Q177;\nvec3 Tangent_World_N_Q177;\nfloat Tangent_Length_Q177;\nTangent_World_Q177=(world*vec4(vec3(1,0,0),0.0)).xyz;\nTangent_Length_Q177=length(Tangent_World_Q177);\nTangent_World_N_Q177=Tangent_World_Q177/Tangent_Length_Q177;\nvec3 Normal_World_Q210;\nvec3 Normal_World_N_Q210;\nfloat Normal_Length_Q210;\nObject_To_World_Dir_B210(vec3(0,0,1),Normal_World_Q210,Normal_World_N_Q210,Normal_Length_Q210);\nfloat X_Q228;\nfloat Y_Q228;\nfloat Z_Q228;\nTo_XYZ_B228(position,X_Q228,Y_Q228,Z_Q228);\nvec3 Nrm_World_Q176;\nNrm_World_Q176=normalize((world*vec4(normal,0.0)).xyz);\nvec3 Binormal_World_Q178;\nvec3 Binormal_World_N_Q178;\nfloat Binormal_Length_Q178;\nObject_To_World_Dir_B178(vec3(0,1,0),Binormal_World_Q178,Binormal_World_N_Q178,Binormal_Length_Q178);\nfloat Anisotropy_Q179=Tangent_Length_Q177/Binormal_Length_Q178;\nfloat Result_Q219;\nPick_Radius_B219(_Radius_,_Radius_Top_Left_,_Radius_Top_Right_,_Radius_Bottom_Left_,_Radius_Bottom_Right_,position,Result_Q219);\nfloat Anisotropy_Q203=Binormal_Length_Q178/Normal_Length_Q210;\nbool Not_Greater_Than_Q187;\nbool Greater_Than_Q187;\nGreater_Than_B187(Z_Q228,0.0,Not_Greater_Than_Q187,Greater_Than_Q187);\nvec4 Linear_Q251;\nLinear_Q251.rgb=clamp(_Left_Color_.rgb*_Left_Color_.rgb,0.0,1.0);\nLinear_Q251.a=_Left_Color_.a;\nvec4 Linear_Q252;\nLinear_Q252.rgb=clamp(_Right_Color_.rgb*_Right_Color_.rgb,0.0,1.0);\nLinear_Q252.a=_Right_Color_.a;\nvec3 Difference_Q211=vec3(0,0,0)-Normal_World_N_Q210;\nvec4 Out_Color_Q184=vec4(X_Q228,Y_Q228,Z_Q228,1);\nfloat Result_Q186;\nConditional_Float_B186(Greater_Than_Q187,_Bevel_Back_,_Bevel_Front_,Result_Q186);\nfloat Result_Q244;\nConditional_Float_B186(Greater_Than_Q187,_Bevel_Back_Stretch_,_Bevel_Front_Stretch_,Result_Q244);\nvec3 New_P_Q280;\nvec2 New_UV_Q280;\nfloat Radial_Gradient_Q280;\nvec3 Radial_Dir_Q280;\nvec3 New_Normal_Q280;\nMove_Verts_B280(Anisotropy_Q179,position,Result_Q219,Result_Q186,normal,Anisotropy_Q203,Result_Q244,New_P_Q280,New_UV_Q280,Radial_Gradient_Q280,Radial_Dir_Q280,New_Normal_Q280);\nfloat X_Q248;\nfloat Y_Q248;\nX_Q248=New_UV_Q280.x;\nY_Q248=New_UV_Q280.y;\nvec3 Pos_World_Q162;\nObject_To_World_Pos_B162(New_P_Q280,Pos_World_Q162);\nvec3 Nrm_World_Q182;\nObject_To_World_Normal_B182(New_Normal_Q280,Nrm_World_Q182);\nvec4 Blob_Info_Q173;\n#if BLOB_ENABLE\nBlob_Vertex_B173(Pos_World_Q162,Nrm_World_Q176,Tangent_World_N_Q177,Binormal_World_N_Q178,_Blob_Position_,_Blob_Intensity_,_Blob_Near_Size_,_Blob_Far_Size_,_Blob_Near_Distance_,_Blob_Far_Distance_,_Blob_Fade_Length_,_Blob_Pulse_,_Blob_Fade_,Blob_Info_Q173);\n#else\nBlob_Info_Q173=vec4(0,0,0,0);\n#endif\nvec4 Blob_Info_Q174;\n#if BLOB_ENABLE_2\nBlob_Vertex_B174(Pos_World_Q162,Nrm_World_Q176,Tangent_World_N_Q177,Binormal_World_N_Q178,_Blob_Position_2_,_Blob_Intensity_,_Blob_Near_Size_2_,_Blob_Far_Size_,_Blob_Near_Distance_,_Blob_Far_Distance_,_Blob_Fade_Length_,_Blob_Pulse_2_,_Blob_Fade_2_,Blob_Info_Q174);\n#else\nBlob_Info_Q174=vec4(0,0,0,0);\n#endif\nfloat Out_Q255;\nRemap_Range_B255(0.0,1.0,0.0,1.0,X_Q248,Out_Q255);\nfloat X_Q236;\nfloat Y_Q236;\nfloat Z_Q236;\nTo_XYZ_B228(Nrm_World_Q182,X_Q236,Y_Q236,Z_Q236);\nvec4 Color_At_T_Q247=mix(Linear_Q251,Linear_Q252,Out_Q255);\nfloat Minus_F_Q237=-Z_Q236;\nfloat R_Q249;\nfloat G_Q249;\nfloat B_Q249;\nfloat A_Q249;\nR_Q249=Color_At_T_Q247.r; G_Q249=Color_At_T_Q247.g; B_Q249=Color_At_T_Q247.b; A_Q249=Color_At_T_Q247.a;\nfloat ClampF_Q238=clamp(0.0,Minus_F_Q237,1.0);\nfloat Result_Q243;\nConditional_Float_B243(_Decal_Front_Only_,ClampF_Q238,1.0,Result_Q243);\nvec4 Vec4_Q239=vec4(Result_Q243,Radial_Gradient_Q280,G_Q249,B_Q249);\nvec3 Position=Pos_World_Q162;\nvec3 Normal=Nrm_World_Q182;\nvec2 UV=XY_Q235;\nvec3 Tangent=Tangent_World_N_Q177;\nvec3 Binormal=Difference_Q211;\nvec4 Color=Out_Color_Q184;\nvec4 Extra1=Vec4_Q239;\nvec4 Extra2=Blob_Info_Q173;\nvec4 Extra3=Blob_Info_Q174;\ngl_Position=viewProjection*vec4(Position,1);\nvPosition=Position;\nvNormal=Normal;\nvUV=UV;\nvTangent=Tangent;\nvBinormal=Binormal;\nvColor=Color;\nvExtra1=Extra1;\nvExtra2=Extra2;\nvExtra3=Extra3;\n}";W.v.ShadersStore.mrdlSliderThumbVertexShader=Xe;var Ye=function(e){function t(){var t=e.call(this)||this;return t.SKY_ENABLED=!0,t.BLOB_ENABLE_2=!0,t.IRIDESCENCE_ENABLED=!0,t._needNormals=!0,t._needUVs=!0,t.rebuild(),t}return(0,h.ZT)(t,e),t}(V.H),Ze=function(e){function t(o,n){var i=e.call(this,o,n)||this;return i.radius=.157,i.bevelFront=.065,i.bevelFrontStretch=.077,i.bevelBack=.031,i.bevelBackStretch=0,i.radiusTopLeft=1,i.radiusTopRight=1,i.radiusBottomLeft=1,i.radiusBottomRight=1,i.bulgeEnabled=!1,i.bulgeHeight=-.323,i.bulgeRadius=.73,i.sunIntensity=2,i.sunTheta=.937,i.sunPhi=.555,i.indirectDiffuse=1,i.albedo=new C.HE(.0117647,.505882,.996078,1),i.specular=0,i.shininess=10,i.sharpness=0,i.subsurface=.31,i.leftGradientColor=new C.HE(.0117647,.505882,.996078,1),i.rightGradientColor=new C.HE(.0117647,.505882,.996078,1),i.reflection=.749,i.frontReflect=0,i.edgeReflect=.09,i.power=8.1,i.skyColor=new C.HE(.0117647,.960784,.996078,1),i.horizonColor=new C.HE(.0117647,.333333,.996078,1),i.groundColor=new C.HE(0,.254902,.996078,1),i.horizonPower=1,i.width=.02,i.fuzz=.5,i.minFuzz=.001,i.clipFade=.01,i.hueShift=0,i.saturationShift=0,i.valueShift=0,i.blobPosition=new m.P(0,0,.1),i.blobIntensity=.5,i.blobNearSize=.01,i.blobFarSize=.03,i.blobNearDistance=0,i.blobFarDistance=.08,i.blobFadeLength=.576,i.blobPulse=0,i.blobFade=1,i.blobPosition2=new m.P(.2,0,.1),i.blobNearSize2=.01,i.blobPulse2=0,i.blobFade2=1,i.blobTexture=new P.x("",i.getScene()),i.leftIndexPosition=new m.P(0,0,1),i.rightIndexPosition=new m.P(-1,-1,-1),i.leftIndexMiddlePosition=new m.P(0,0,0),i.rightIndexMiddlePosition=new m.P(0,0,0),i.decalScaleXY=new m.FM(1.5,1.5),i.decalFrontOnly=!0,i.rimIntensity=.287,i.rimHueShift=0,i.rimSaturationShift=0,i.rimValueShift=-1,i.iridescenceIntensity=0,i.useGlobalLeftIndex=1,i.useGlobalRightIndex=1,i.globalLeftIndexTipProximity=0,i.globalRightIndexTipProximity=0,i.globalLeftIndexTipPosition=new m.Lt(.5,0,-.55,1),i.globaRightIndexTipPosition=new m.Lt(0,0,0,1),i.globalLeftThumbTipPosition=new m.Lt(.5,0,-.55,1),i.globalRightThumbTipPosition=new m.Lt(0,0,0,1),i.globalLeftIndexMiddlePosition=new m.Lt(.5,0,-.55,1),i.globalRightIndexMiddlePosition=new m.Lt(0,0,0,1),i.alphaMode=J.g.ALPHA_DISABLE,i.backFaceCulling=!1,i._blueGradientTexture=new P.x(t.BLUE_GRADIENT_TEXTURE_URL,n,!0,!1,P.x.NEAREST_SAMPLINGMODE),i}return(0,h.ZT)(t,e),t.prototype.needAlphaBlending=function(){return!1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t.materialDefines||(t.materialDefines=new Ye);var o=t.materialDefines,n=this.getScene();if(this._isReadyForSubMesh(t))return!0;var i=n.getEngine();if(A.G.PrepareDefinesForAttributes(e,o,!1,!1),o.isDirty){o.markAsProcessed(),n.resetCachedMaterial();var a=new $.L;o.FOG&&a.addFallback(1,"FOG"),A.G.HandleFallbacksForShadows(o,a),o.IMAGEPROCESSINGPOSTPROCESS=n.imageProcessingConfiguration.applyByPostProcess;var r=[G.o.PositionKind];o.NORMAL&&r.push(G.o.NormalKind),o.UV1&&r.push(G.o.UVKind),o.UV2&&r.push(G.o.UV2Kind),o.VERTEXCOLOR&&r.push(G.o.ColorKind),o.TANGENT&&r.push(G.o.TangentKind),A.G.PrepareAttributesForInstances(r,o);var _=o.toString(),l=["world","viewProjection","cameraPosition","_Radius_","_Bevel_Front_","_Bevel_Front_Stretch_","_Bevel_Back_","_Bevel_Back_Stretch_","_Radius_Top_Left_","_Radius_Top_Right_","_Radius_Bottom_Left_","_Radius_Bottom_Right_","_Bulge_Enabled_","_Bulge_Height_","_Bulge_Radius_","_Sun_Intensity_","_Sun_Theta_","_Sun_Phi_","_Indirect_Diffuse_","_Albedo_","_Specular_","_Shininess_","_Sharpness_","_Subsurface_","_Left_Color_","_Right_Color_","_Reflection_","_Front_Reflect_","_Edge_Reflect_","_Power_","_Sky_Color_","_Horizon_Color_","_Ground_Color_","_Horizon_Power_","_Reflection_Map_","_Indirect_Environment_","_Width_","_Fuzz_","_Min_Fuzz_","_Clip_Fade_","_Hue_Shift_","_Saturation_Shift_","_Value_Shift_","_Blob_Position_","_Blob_Intensity_","_Blob_Near_Size_","_Blob_Far_Size_","_Blob_Near_Distance_","_Blob_Far_Distance_","_Blob_Fade_Length_","_Blob_Pulse_","_Blob_Fade_","_Blob_Texture_","_Blob_Position_2_","_Blob_Near_Size_2_","_Blob_Pulse_2_","_Blob_Fade_2_","_Left_Index_Pos_","_Right_Index_Pos_","_Left_Index_Middle_Pos_","_Right_Index_Middle_Pos_","_Decal_","_Decal_Scale_XY_","_Decal_Front_Only_","_Rim_Intensity_","_Rim_Texture_","_Rim_Hue_Shift_","_Rim_Saturation_Shift_","_Rim_Value_Shift_","_Iridescence_Intensity_","_Iridescence_Texture_","Use_Global_Left_Index","Use_Global_Right_Index","Global_Left_Index_Tip_Position","Global_Right_Index_Tip_Position","Global_Left_Thumb_Tip_Position","Global_Right_Thumb_Tip_Position","Global_Left_Index_Middle_Position;","Global_Right_Index_Middle_Position","Global_Left_Index_Tip_Proximity","Global_Right_Index_Tip_Proximity"],s=["_Rim_Texture_","_Iridescence_Texture_"],c=new Array;A.G.PrepareUniformsAndSamplersList({uniformsNames:l,uniformBuffersNames:c,samplers:s,defines:o,maxSimultaneousLights:4}),t.setEffect(n.getEngine().createEffect("mrdlSliderThumb",{attributes:r,uniformsNames:l,uniformBuffersNames:c,samplers:s,defines:_,fallbacks:a,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},i),o)}return!(!t.effect||!t.effect.isReady())&&(o._renderId=n.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,o){if(o.materialDefines){var n=o.effect;n&&(this._activeEffect=n,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix("viewProjection",this.getScene().getTransformMatrix()),this._activeEffect.setVector3("cameraPosition",this.getScene().activeCamera.position),this._activeEffect.setFloat("_Radius_",this.radius),this._activeEffect.setFloat("_Bevel_Front_",this.bevelFront),this._activeEffect.setFloat("_Bevel_Front_Stretch_",this.bevelFrontStretch),this._activeEffect.setFloat("_Bevel_Back_",this.bevelBack),this._activeEffect.setFloat("_Bevel_Back_Stretch_",this.bevelBackStretch),this._activeEffect.setFloat("_Radius_Top_Left_",this.radiusTopLeft),this._activeEffect.setFloat("_Radius_Top_Right_",this.radiusTopRight),this._activeEffect.setFloat("_Radius_Bottom_Left_",this.radiusBottomLeft),this._activeEffect.setFloat("_Radius_Bottom_Right_",this.radiusBottomRight),this._activeEffect.setFloat("_Bulge_Enabled_",this.bulgeEnabled?1:0),this._activeEffect.setFloat("_Bulge_Height_",this.bulgeHeight),this._activeEffect.setFloat("_Bulge_Radius_",this.bulgeRadius),this._activeEffect.setFloat("_Sun_Intensity_",this.sunIntensity),this._activeEffect.setFloat("_Sun_Theta_",this.sunTheta),this._activeEffect.setFloat("_Sun_Phi_",this.sunPhi),this._activeEffect.setFloat("_Indirect_Diffuse_",this.indirectDiffuse),this._activeEffect.setDirectColor4("_Albedo_",this.albedo),this._activeEffect.setFloat("_Specular_",this.specular),this._activeEffect.setFloat("_Shininess_",this.shininess),this._activeEffect.setFloat("_Sharpness_",this.sharpness),this._activeEffect.setFloat("_Subsurface_",this.subsurface),this._activeEffect.setDirectColor4("_Left_Color_",this.leftGradientColor),this._activeEffect.setDirectColor4("_Right_Color_",this.rightGradientColor),this._activeEffect.setFloat("_Reflection_",this.reflection),this._activeEffect.setFloat("_Front_Reflect_",this.frontReflect),this._activeEffect.setFloat("_Edge_Reflect_",this.edgeReflect),this._activeEffect.setFloat("_Power_",this.power),this._activeEffect.setDirectColor4("_Sky_Color_",this.skyColor),this._activeEffect.setDirectColor4("_Horizon_Color_",this.horizonColor),this._activeEffect.setDirectColor4("_Ground_Color_",this.groundColor),this._activeEffect.setFloat("_Horizon_Power_",this.horizonPower),this._activeEffect.setTexture("_Reflection_Map_",new P.x("",this.getScene())),this._activeEffect.setTexture("_Indirect_Environment_",new P.x("",this.getScene())),this._activeEffect.setFloat("_Width_",this.width),this._activeEffect.setFloat("_Fuzz_",this.fuzz),this._activeEffect.setFloat("_Min_Fuzz_",this.minFuzz),this._activeEffect.setFloat("_Clip_Fade_",this.clipFade),this._activeEffect.setFloat("_Hue_Shift_",this.hueShift),this._activeEffect.setFloat("_Saturation_Shift_",this.saturationShift),this._activeEffect.setFloat("_Value_Shift_",this.valueShift),this._activeEffect.setVector3("_Blob_Position_",this.blobPosition),this._activeEffect.setFloat("_Blob_Intensity_",this.blobIntensity),this._activeEffect.setFloat("_Blob_Near_Size_",this.blobNearSize),this._activeEffect.setFloat("_Blob_Far_Size_",this.blobFarSize),this._activeEffect.setFloat("_Blob_Near_Distance_",this.blobNearDistance),this._activeEffect.setFloat("_Blob_Far_Distance_",this.blobFarDistance),this._activeEffect.setFloat("_Blob_Fade_Length_",this.blobFadeLength),this._activeEffect.setFloat("_Blob_Pulse_",this.blobPulse),this._activeEffect.setFloat("_Blob_Fade_",this.blobFade),this._activeEffect.setTexture("_Blob_Texture_",this.blobTexture),this._activeEffect.setVector3("_Blob_Position_2_",this.blobPosition2),this._activeEffect.setFloat("_Blob_Near_Size_2_",this.blobNearSize2),this._activeEffect.setFloat("_Blob_Pulse_2_",this.blobPulse2),this._activeEffect.setFloat("_Blob_Fade_2_",this.blobFade2),this._activeEffect.setVector3("_Left_Index_Pos_",this.leftIndexPosition),this._activeEffect.setVector3("_Right_Index_Pos_",this.rightIndexPosition),this._activeEffect.setVector3("_Left_Index_Middle_Pos_",this.leftIndexMiddlePosition),this._activeEffect.setVector3("_Right_Index_Middle_Pos_",this.rightIndexMiddlePosition),this._activeEffect.setTexture("_Decal_",new P.x("",this.getScene())),this._activeEffect.setVector2("_Decal_Scale_XY_",this.decalScaleXY),this._activeEffect.setFloat("_Decal_Front_Only_",this.decalFrontOnly?1:0),this._activeEffect.setFloat("_Rim_Intensity_",this.rimIntensity),this._activeEffect.setTexture("_Rim_Texture_",this._blueGradientTexture),this._activeEffect.setFloat("_Rim_Hue_Shift_",this.rimHueShift),this._activeEffect.setFloat("_Rim_Saturation_Shift_",this.rimSaturationShift),this._activeEffect.setFloat("_Rim_Value_Shift_",this.rimValueShift),this._activeEffect.setFloat("_Iridescence_Intensity_",this.iridescenceIntensity),this._activeEffect.setTexture("_Iridescence_Texture_",this._blueGradientTexture),this._activeEffect.setFloat("Use_Global_Left_Index",this.useGlobalLeftIndex),this._activeEffect.setFloat("Use_Global_Right_Index",this.useGlobalRightIndex),this._activeEffect.setVector4("Global_Left_Index_Tip_Position",this.globalLeftIndexTipPosition),this._activeEffect.setVector4("Global_Right_Index_Tip_Position",this.globaRightIndexTipPosition),this._activeEffect.setVector4("Global_Left_Thumb_Tip_Position",this.globalLeftThumbTipPosition),this._activeEffect.setVector4("Global_Right_Thumb_Tip_Position",this.globalRightThumbTipPosition),this._activeEffect.setVector4("Global_Left_Index_Middle_Position",this.globalLeftIndexMiddlePosition),this._activeEffect.setVector4("Global_Right_Index_Middle_Position",this.globalRightIndexMiddlePosition),this._activeEffect.setFloat("Global_Left_Index_Tip_Proximity",this.globalLeftIndexTipProximity),this._activeEffect.setFloat("Global_Right_Index_Tip_Proximity",this.globalRightIndexTipProximity),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){return[]},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var o=this;return w.p4.Clone((function(){return new t(e,o.getScene())}),this)},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this);return t.customType="BABYLON.MRDLSliderThumbMaterial",t},t.prototype.getClassName=function(){return"MRDLSliderThumbMaterial"},t.Parse=function(e,o,n){return w.p4.Parse((function(){return new t(e.name,o)}),e,o,n)},t.BLUE_GRADIENT_TEXTURE_URL="https://assets.babylonjs.com/meshes/MRTK/MRDL/mrtk-mrdl-blue-gradient.png",(0,h.gn)([(0,w.qC)()],t.prototype,"radius",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"bevelFront",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"bevelFrontStretch",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"bevelBack",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"bevelBackStretch",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"radiusTopLeft",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"radiusTopRight",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"radiusBottomLeft",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"radiusBottomRight",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"bulgeEnabled",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"bulgeHeight",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"bulgeRadius",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"sunIntensity",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"sunTheta",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"sunPhi",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"indirectDiffuse",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"albedo",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"specular",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"shininess",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"sharpness",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"subsurface",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"leftGradientColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rightGradientColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"reflection",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"frontReflect",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"edgeReflect",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"power",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"skyColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"horizonColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"groundColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"horizonPower",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"width",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"fuzz",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"minFuzz",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"clipFade",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"hueShift",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"saturationShift",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"valueShift",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobPosition",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobIntensity",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobNearSize",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFarSize",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobNearDistance",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFarDistance",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFadeLength",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobPulse",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFade",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobPosition2",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobNearSize2",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobPulse2",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobFade2",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"blobTexture",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"leftIndexPosition",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rightIndexPosition",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"leftIndexMiddlePosition",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rightIndexMiddlePosition",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"decalScaleXY",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"decalFrontOnly",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rimIntensity",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rimHueShift",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rimSaturationShift",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"rimValueShift",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"iridescenceIntensity",void 0),t}(z.a);(0,d.H)("BABYLON.GUI.MRDLSliderThumbMaterial",Ze);var Ke="uniform vec3 cameraPosition;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUV;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec4 vExtra1;\nvarying vec4 vExtra2;\nuniform float _Radius_;\nuniform float _Line_Width_;\nuniform bool _Absolute_Sizes_;\nuniform float _Filter_Width_;\nuniform vec4 _Base_Color_;\nuniform vec4 _Line_Color_;\nuniform float _Radius_Top_Left_;\nuniform float _Radius_Top_Right_;\nuniform float _Radius_Bottom_Left_;\nuniform float _Radius_Bottom_Right_;\nuniform float _Rate_;\nuniform vec4 _Highlight_Color_;\nuniform float _Highlight_Width_;\nuniform vec4 _Highlight_Transform_;\nuniform float _Highlight_;\nuniform float _Iridescence_Intensity_;\nuniform float _Iridescence_Edge_Intensity_;\nuniform vec4 _Iridescence_Tint_;\nuniform sampler2D _Iridescent_Map_;\nuniform float _Angle_;\nuniform bool _Reflected_;\nuniform float _Frequency_;\nuniform float _Vertical_Offset_;\nuniform vec4 _Gradient_Color_;\nuniform vec4 _Top_Left_;\nuniform vec4 _Top_Right_;\nuniform vec4 _Bottom_Left_;\nuniform vec4 _Bottom_Right_;\nuniform float _Edge_Width_;\nuniform float _Edge_Power_;\nuniform float _Line_Gradient_Blend_;\nuniform float _Fade_Out_;\nvoid FastLinearTosRGB_B353(\nvec4 Linear,\nout vec4 sRGB)\n{\nsRGB.rgb=sqrt(clamp(Linear.rgb,0.0,1.0));\nsRGB.a=Linear.a;\n}\nvoid Round_Rect_Fragment_B332(\nfloat Radius,\nfloat Line_Width,\nvec4 Line_Color,\nfloat Filter_Width,\nvec2 UV,\nfloat Line_Visibility,\nvec4 Rect_Parms,\nvec4 Fill_Color,\nout vec4 Color)\n{\nfloat d=length(max(abs(UV)-Rect_Parms.xy,0.0));\nfloat dx=max(fwidth(d)*Filter_Width,0.00001);\nfloat g=min(Rect_Parms.z,Rect_Parms.w);\nfloat dgrad=max(fwidth(g)*Filter_Width,0.00001);\nfloat Inside_Rect=clamp(g/dgrad,0.0,1.0);\nfloat inner=clamp((d+dx*0.5-max(Radius-Line_Width,d-dx*0.5))/dx,0.0,1.0);\nColor=clamp(mix(Fill_Color,Line_Color,inner),0.0,1.0)*Inside_Rect;\n}\nvoid Iridescence_B343(\nvec3 Position,\nvec3 Normal,\nvec2 UV,\nvec3 Axis,\nvec3 Eye,\nvec4 Tint,\nsampler2D Texture,\nbool Reflected,\nfloat Frequency,\nfloat Vertical_Offset,\nout vec4 Color)\n{\nvec3 i=normalize(Position-Eye);\nvec3 r=reflect(i,Normal);\nfloat idota=dot(i,Axis);\nfloat idotr=dot(i,r);\nfloat x=Reflected ? idotr : idota;\nvec2 xy;\nxy.x=fract((x*Frequency+1.0)*0.5+UV.y*Vertical_Offset);\nxy.y=0.5;\nColor=texture(Texture,xy);\nColor.rgb*=Tint.rgb;\n}\nvoid Scale_RGB_B346(\nvec4 Color,\nfloat Scalar,\nout vec4 Result)\n{\nResult=vec4(Scalar,Scalar,Scalar,1)*Color;\n}\nvoid Scale_RGB_B344(\nfloat Scalar,\nvec4 Color,\nout vec4 Result)\n{\nResult=vec4(Scalar,Scalar,Scalar,1)*Color;\n}\nvoid Line_Fragment_B362(\nvec4 Base_Color,\nvec4 Highlight_Color,\nfloat Highlight_Width,\nvec3 Line_Vertex,\nfloat Highlight,\nout vec4 Line_Color)\n{\nfloat k2=1.0-clamp(abs(Line_Vertex.y/Highlight_Width),0.0,1.0);\nLine_Color=mix(Base_Color,Highlight_Color,Highlight*k2);\n}\nvoid Edge_B356(\nvec4 RectParms,\nfloat Radius,\nfloat Line_Width,\nvec2 UV,\nfloat Edge_Width,\nfloat Edge_Power,\nout float Result)\n{\nfloat d=length(max(abs(UV)-RectParms.xy,0.0));\nfloat edge=1.0-clamp((1.0-d/(Radius-Line_Width))/Edge_Width,0.0,1.0);\nResult=pow(edge,Edge_Power);\n}\nvoid Gradient_B355(\nvec4 Gradient_Color,\nvec4 Top_Left,\nvec4 Top_Right,\nvec4 Bottom_Left,\nvec4 Bottom_Right,\nvec2 UV,\nout vec4 Result)\n{\nvec3 top=Top_Left.rgb+(Top_Right.rgb-Top_Left.rgb)*UV.x;\nvec3 bottom=Bottom_Left.rgb+(Bottom_Right.rgb-Bottom_Left.rgb)*UV.x;\nResult.rgb=Gradient_Color.rgb*(bottom+(top-bottom)*UV.y);\nResult.a=1.0;\n}\nvoid main()\n{\nfloat X_Q338;\nfloat Y_Q338;\nfloat Z_Q338;\nfloat W_Q338;\nX_Q338=vExtra2.x;\nY_Q338=vExtra2.y;\nZ_Q338=vExtra2.z;\nW_Q338=vExtra2.w;\nvec4 Color_Q343;\n#if IRIDESCENCE_ENABLE\nIridescence_B343(vPosition,vNormal,vUV,vBinormal,cameraPosition,_Iridescence_Tint_,_Iridescent_Map_,_Reflected_,_Frequency_,_Vertical_Offset_,Color_Q343);\n#else\nColor_Q343=vec4(0,0,0,0);\n#endif\nvec4 Result_Q344;\nScale_RGB_B344(_Iridescence_Intensity_,Color_Q343,Result_Q344);\nvec4 Line_Color_Q362;\nLine_Fragment_B362(_Line_Color_,_Highlight_Color_,_Highlight_Width_,vTangent,_Highlight_,Line_Color_Q362);\nfloat Result_Q356;\n#if EDGE_ONLY\nEdge_B356(vExtra1,Z_Q338,W_Q338,vUV,_Edge_Width_,_Edge_Power_,Result_Q356);\n#else\nResult_Q356=1.0;\n#endif\nvec2 Vec2_Q339=vec2(X_Q338,Y_Q338);\nvec4 Result_Q355;\nGradient_B355(_Gradient_Color_,_Top_Left_,_Top_Right_,_Bottom_Left_,_Bottom_Right_,Vec2_Q339,Result_Q355);\nvec4 Linear_Q348;\nLinear_Q348.rgb=clamp(Result_Q355.rgb*Result_Q355.rgb,0.0,1.0);\nLinear_Q348.a=Result_Q355.a;\nvec4 Result_Q346;\nScale_RGB_B346(Linear_Q348,Result_Q356,Result_Q346);\nvec4 Sum_Q345=Result_Q346+Result_Q344;\nvec4 Color_At_T_Q347=mix(Line_Color_Q362,Result_Q346,_Line_Gradient_Blend_);\nvec4 Base_And_Iridescent_Q350;\nBase_And_Iridescent_Q350=_Base_Color_+vec4(Sum_Q345.rgb,0.0);\nvec4 Sum_Q349=Color_At_T_Q347+_Iridescence_Edge_Intensity_*Color_Q343;\nvec4 Result_Q351=Sum_Q349; Result_Q351.a=1.0;\nvec4 Color_Q332;\nRound_Rect_Fragment_B332(Z_Q338,W_Q338,Result_Q351,_Filter_Width_,vUV,1.0,vExtra1,Base_And_Iridescent_Q350,Color_Q332);\nvec4 Result_Q354=_Fade_Out_*Color_Q332;\nvec4 sRGB_Q353;\nFastLinearTosRGB_B353(Result_Q354,sRGB_Q353);\nvec4 Out_Color=sRGB_Q353;\nfloat Clip_Threshold=0.001;\nbool To_sRGB=false;\ngl_FragColor=Out_Color;\n}";W.v.ShadersStore.mrdlBackplatePixelShader=Ke;var $e="uniform mat4 world;\nuniform mat4 viewProjection;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 tangent;\nuniform float _Radius_;\nuniform float _Line_Width_;\nuniform bool _Absolute_Sizes_;\nuniform float _Filter_Width_;\nuniform vec4 _Base_Color_;\nuniform vec4 _Line_Color_;\nuniform float _Radius_Top_Left_;\nuniform float _Radius_Top_Right_;\nuniform float _Radius_Bottom_Left_;\nuniform float _Radius_Bottom_Right_;\nuniform float _Rate_;\nuniform vec4 _Highlight_Color_;\nuniform float _Highlight_Width_;\nuniform vec4 _Highlight_Transform_;\nuniform float _Highlight_;\nuniform float _Iridescence_Intensity_;\nuniform float _Iridescence_Edge_Intensity_;\nuniform vec4 _Iridescence_Tint_;\nuniform sampler2D _Iridescent_Map_;\nuniform float _Angle_;\nuniform bool _Reflected_;\nuniform float _Frequency_;\nuniform float _Vertical_Offset_;\nuniform vec4 _Gradient_Color_;\nuniform vec4 _Top_Left_;\nuniform vec4 _Top_Right_;\nuniform vec4 _Bottom_Left_;\nuniform vec4 _Bottom_Right_;\nuniform float _Edge_Width_;\nuniform float _Edge_Power_;\nuniform float _Line_Gradient_Blend_;\nuniform float _Fade_Out_;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUV;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec4 vExtra1;\nvarying vec4 vExtra2;\nvoid Object_To_World_Pos_B314(\nvec3 Pos_Object,\nout vec3 Pos_World)\n{\nPos_World=(world*vec4(Pos_Object,1.0)).xyz;\n}\nvoid Round_Rect_Vertex_B357(\nvec2 UV,\nfloat Radius,\nfloat Margin,\nfloat Anisotropy,\nfloat Gradient1,\nfloat Gradient2,\nvec3 Normal,\nvec4 Color_Scale_Translate,\nout vec2 Rect_UV,\nout vec4 Rect_Parms,\nout vec2 Scale_XY,\nout vec2 Line_UV,\nout vec2 Color_UV_Info)\n{\nScale_XY=vec2(Anisotropy,1.0);\nLine_UV=(UV-vec2(0.5,0.5));\nRect_UV=Line_UV*Scale_XY;\nRect_Parms.xy=Scale_XY*0.5-vec2(Radius,Radius)-vec2(Margin,Margin);\nRect_Parms.z=Gradient1; \nRect_Parms.w=Gradient2;\nColor_UV_Info=(Line_UV+vec2(0.5,0.5))*Color_Scale_Translate.xy+Color_Scale_Translate.zw;\n}\nvoid Line_Vertex_B333(\nvec2 Scale_XY,\nvec2 UV,\nfloat Time,\nfloat Rate,\nvec4 Highlight_Transform,\nout vec3 Line_Vertex)\n{\nfloat angle2=(Rate*Time)*2.0*3.1416;\nfloat sinAngle2=sin(angle2);\nfloat cosAngle2=cos(angle2);\nvec2 xformUV=UV*Highlight_Transform.xy+Highlight_Transform.zw;\nLine_Vertex.x=0.0;\nLine_Vertex.y=cosAngle2*xformUV.x-sinAngle2*xformUV.y;\nLine_Vertex.z=0.0; \n}\nvoid PickDir_B334(\nfloat Degrees,\nvec3 DirX,\nvec3 DirY,\nout vec3 Dir)\n{\nfloat a=Degrees*3.14159/180.0;\nDir=cos(a)*DirX+sin(a)*DirY;\n}\nvoid Move_Verts_B327(\nfloat Anisotropy,\nvec3 P,\nfloat Radius,\nout vec3 New_P,\nout vec2 New_UV,\nout float Radial_Gradient,\nout vec3 Radial_Dir)\n{\nvec2 UV=P.xy*2.0+0.5;\nvec2 center=clamp(UV,0.0,1.0);\nvec2 delta=UV-center;\nvec2 r2=2.0*vec2(Radius/Anisotropy,Radius);\nNew_UV=center+r2*(UV-2.0*center+0.5);\nNew_P=vec3(New_UV-0.5,P.z);\nRadial_Gradient=1.0-length(delta)*2.0;\nRadial_Dir=vec3(delta*r2,0.0);\n}\nvoid Pick_Radius_B336(\nfloat Radius,\nfloat Radius_Top_Left,\nfloat Radius_Top_Right,\nfloat Radius_Bottom_Left,\nfloat Radius_Bottom_Right,\nvec3 Position,\nout float Result)\n{\nbool whichY=Position.y>0.0;\nResult=Position.x<0.0 ? (whichY ? Radius_Top_Left : Radius_Bottom_Left) : (whichY ? Radius_Top_Right : Radius_Bottom_Right);\nResult*=Radius;\n}\nvoid Edge_AA_Vertex_B328(\nvec3 Position_World,\nvec3 Position_Object,\nvec3 Normal_Object,\nvec3 Eye,\nfloat Radial_Gradient,\nvec3 Radial_Dir,\nvec3 Tangent,\nout float Gradient1,\nout float Gradient2)\n{\nvec3 I=(Eye-Position_World);\nvec3 T=(vec4(Tangent,0.0)).xyz;\nfloat g=(dot(T,I)<0.0) ? 0.0 : 1.0;\nif (Normal_Object.z==0.0) { \nGradient1=Position_Object.z>0.0 ? g : 1.0;\nGradient2=Position_Object.z>0.0 ? 1.0 : g;\n} else {\nGradient1=g+(1.0-g)*(Radial_Gradient);\nGradient2=1.0;\n}\n}\nvoid Object_To_World_Dir_B330(\nvec3 Dir_Object,\nout vec3 Binormal_World,\nout vec3 Binormal_World_N,\nout float Binormal_Length)\n{\nBinormal_World=(world*vec4(Dir_Object,0.0)).xyz;\nBinormal_Length=length(Binormal_World);\nBinormal_World_N=Binormal_World/Binormal_Length;\n}\nvoid RelativeOrAbsoluteDetail_B341(\nfloat Nominal_Radius,\nfloat Nominal_LineWidth,\nbool Absolute_Measurements,\nfloat Height,\nout float Radius,\nout float Line_Width)\n{\nfloat scale=Absolute_Measurements ? 1.0/Height : 1.0;\nRadius=Nominal_Radius*scale;\nLine_Width=Nominal_LineWidth*scale;\n}\nvoid main()\n{\nvec3 Nrm_World_Q326;\nNrm_World_Q326=normalize((world*vec4(normal,0.0)).xyz);\nvec3 Tangent_World_Q329;\nvec3 Tangent_World_N_Q329;\nfloat Tangent_Length_Q329;\nTangent_World_Q329=(world*vec4(vec3(1,0,0),0.0)).xyz;\nTangent_Length_Q329=length(Tangent_World_Q329);\nTangent_World_N_Q329=Tangent_World_Q329/Tangent_Length_Q329;\nvec3 Binormal_World_Q330;\nvec3 Binormal_World_N_Q330;\nfloat Binormal_Length_Q330;\nObject_To_World_Dir_B330(vec3(0,1,0),Binormal_World_Q330,Binormal_World_N_Q330,Binormal_Length_Q330);\nfloat Radius_Q341;\nfloat Line_Width_Q341;\nRelativeOrAbsoluteDetail_B341(_Radius_,_Line_Width_,_Absolute_Sizes_,Binormal_Length_Q330,Radius_Q341,Line_Width_Q341);\nvec3 Dir_Q334;\nPickDir_B334(_Angle_,Tangent_World_N_Q329,Binormal_World_N_Q330,Dir_Q334);\nfloat Result_Q336;\nPick_Radius_B336(Radius_Q341,_Radius_Top_Left_,_Radius_Top_Right_,_Radius_Bottom_Left_,_Radius_Bottom_Right_,position,Result_Q336);\nfloat Anisotropy_Q331=Tangent_Length_Q329/Binormal_Length_Q330;\nvec4 Out_Color_Q337=vec4(Result_Q336,Line_Width_Q341,0,1);\nvec3 New_P_Q327;\nvec2 New_UV_Q327;\nfloat Radial_Gradient_Q327;\nvec3 Radial_Dir_Q327;\nMove_Verts_B327(Anisotropy_Q331,position,Result_Q336,New_P_Q327,New_UV_Q327,Radial_Gradient_Q327,Radial_Dir_Q327);\nvec3 Pos_World_Q314;\nObject_To_World_Pos_B314(New_P_Q327,Pos_World_Q314);\nfloat Gradient1_Q328;\nfloat Gradient2_Q328;\n#if SMOOTH_EDGES\nEdge_AA_Vertex_B328(Pos_World_Q314,position,normal,cameraPosition,Radial_Gradient_Q327,Radial_Dir_Q327,tangent,Gradient1_Q328,Gradient2_Q328);\n#else\nGradient1_Q328=1.0;\nGradient2_Q328=1.0;\n#endif\nvec2 Rect_UV_Q357;\nvec4 Rect_Parms_Q357;\nvec2 Scale_XY_Q357;\nvec2 Line_UV_Q357;\nvec2 Color_UV_Info_Q357;\nRound_Rect_Vertex_B357(New_UV_Q327,Result_Q336,0.0,Anisotropy_Q331,Gradient1_Q328,Gradient2_Q328,normal,vec4(1,1,0,0),Rect_UV_Q357,Rect_Parms_Q357,Scale_XY_Q357,Line_UV_Q357,Color_UV_Info_Q357);\nvec3 Line_Vertex_Q333;\nLine_Vertex_B333(Scale_XY_Q357,Line_UV_Q357,(20.0),_Rate_,_Highlight_Transform_,Line_Vertex_Q333);\nfloat X_Q359;\nfloat Y_Q359;\nX_Q359=Color_UV_Info_Q357.x;\nY_Q359=Color_UV_Info_Q357.y;\nvec4 Vec4_Q358=vec4(X_Q359,Y_Q359,Result_Q336,Line_Width_Q341);\nvec3 Position=Pos_World_Q314;\nvec3 Normal=Nrm_World_Q326;\nvec2 UV=Rect_UV_Q357;\nvec3 Tangent=Line_Vertex_Q333;\nvec3 Binormal=Dir_Q334;\nvec4 Color=Out_Color_Q337;\nvec4 Extra1=Rect_Parms_Q357;\nvec4 Extra2=Vec4_Q358;\nvec4 Extra3=vec4(0,0,0,0);\ngl_Position=viewProjection*vec4(Position,1);\nvPosition=Position;\nvNormal=Normal;\nvUV=UV;\nvTangent=Tangent;\nvBinormal=Binormal;\nvExtra1=Extra1;\nvExtra2=Extra2;\n}";W.v.ShadersStore.mrdlBackplateVertexShader=$e;var Je=function(e){function t(){var t=e.call(this)||this;return t.IRIDESCENCE_ENABLE=!0,t.SMOOTH_EDGES=!0,t._needNormals=!0,t.rebuild(),t}return(0,h.ZT)(t,e),t}(V.H),et=function(e){function t(o,n){var i=e.call(this,o,n)||this;return i.radius=.3,i.lineWidth=.003,i.absoluteSizes=!1,i._filterWidth=1,i.baseColor=new C.HE(0,0,0,1),i.lineColor=new C.HE(.2,.262745,.4,1),i.radiusTopLeft=1,i.radiusTopRight=1,i.radiusBottomLeft=1,i.radiusBottomRight=1,i._rate=0,i.highlightColor=new C.HE(.239216,.435294,.827451,1),i.highlightWidth=0,i._highlightTransform=new m.Lt(1,1,0,0),i._highlight=1,i.iridescenceIntensity=.45,i.iridescenceEdgeIntensity=1,i.iridescenceTint=new C.HE(1,1,1,1),i._angle=-45,i.fadeOut=1,i._reflected=!0,i._frequency=1,i._verticalOffset=0,i.gradientColor=new C.HE(.74902,.74902,.74902,1),i.topLeftGradientColor=new C.HE(.00784314,.294118,.580392,1),i.topRightGradientColor=new C.HE(.305882,0,1,1),i.bottomLeftGradientColor=new C.HE(.133333,.258824,.992157,1),i.bottomRightGradientColor=new C.HE(.176471,.176471,.619608,1),i.edgeWidth=.5,i.edgePower=1,i.edgeLineGradientBlend=.5,i.alphaMode=J.g.ALPHA_DISABLE,i.backFaceCulling=!1,i._iridescentMapTexture=new P.x(t.IRIDESCENT_MAP_TEXTURE_URL,i.getScene(),!0,!1,P.x.NEAREST_SAMPLINGMODE),i}return(0,h.ZT)(t,e),t.prototype.needAlphaBlending=function(){return!1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t.materialDefines||(t.materialDefines=new Je);var o=t.materialDefines,n=this.getScene();if(this._isReadyForSubMesh(t))return!0;var i=n.getEngine();if(A.G.PrepareDefinesForAttributes(e,o,!1,!1),o.isDirty){o.markAsProcessed(),n.resetCachedMaterial();var a=new $.L;o.FOG&&a.addFallback(1,"FOG"),A.G.HandleFallbacksForShadows(o,a),o.IMAGEPROCESSINGPOSTPROCESS=n.imageProcessingConfiguration.applyByPostProcess;var r=[G.o.PositionKind];o.NORMAL&&r.push(G.o.NormalKind),o.UV1&&r.push(G.o.UVKind),o.UV2&&r.push(G.o.UV2Kind),o.VERTEXCOLOR&&r.push(G.o.ColorKind),o.TANGENT&&r.push(G.o.TangentKind),A.G.PrepareAttributesForInstances(r,o);var _=o.toString(),l=["world","viewProjection","cameraPosition","_Radius_","_Line_Width_","_Absolute_Sizes_","_Filter_Width_","_Base_Color_","_Line_Color_","_Radius_Top_Left_","_Radius_Top_Right_","_Radius_Bottom_Left_","_Radius_Bottom_Right_","_Rate_","_Highlight_Color_","_Highlight_Width_","_Highlight_Transform_","_Highlight_","_Iridescence_Intensity_","_Iridescence_Edge_Intensity_","_Iridescence_Tint_","_Iridescent_Map_","_Angle_","_Reflected_","_Frequency_","_Vertical_Offset_","_Gradient_Color_","_Top_Left_","_Top_Right_","_Bottom_Left_","_Bottom_Right_","_Edge_Width_","_Edge_Power_","_Line_Gradient_Blend_","_Fade_Out_"],s=["_Iridescent_Map_"],c=new Array;A.G.PrepareUniformsAndSamplersList({uniformsNames:l,uniformBuffersNames:c,samplers:s,defines:o,maxSimultaneousLights:4}),t.setEffect(n.getEngine().createEffect("mrdlBackplate",{attributes:r,uniformsNames:l,uniformBuffersNames:c,samplers:s,defines:_,fallbacks:a,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},i),o)}return!(!t.effect||!t.effect.isReady())&&(o._renderId=n.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,o){if(o.materialDefines){var n=o.effect;n&&(this._activeEffect=n,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix("viewProjection",this.getScene().getTransformMatrix()),this._activeEffect.setVector3("cameraPosition",this.getScene().activeCamera.position),this._activeEffect.setFloat("_Radius_",this.radius),this._activeEffect.setFloat("_Line_Width_",this.lineWidth),this._activeEffect.setFloat("_Absolute_Sizes_",this.absoluteSizes?1:0),this._activeEffect.setFloat("_Filter_Width_",this._filterWidth),this._activeEffect.setDirectColor4("_Base_Color_",this.baseColor),this._activeEffect.setDirectColor4("_Line_Color_",this.lineColor),this._activeEffect.setFloat("_Radius_Top_Left_",this.radiusTopLeft),this._activeEffect.setFloat("_Radius_Top_Right_",this.radiusTopRight),this._activeEffect.setFloat("_Radius_Bottom_Left_",this.radiusBottomLeft),this._activeEffect.setFloat("_Radius_Bottom_Right_",this.radiusBottomRight),this._activeEffect.setFloat("_Rate_",this._rate),this._activeEffect.setDirectColor4("_Highlight_Color_",this.highlightColor),this._activeEffect.setFloat("_Highlight_Width_",this.highlightWidth),this._activeEffect.setVector4("_Highlight_Transform_",this._highlightTransform),this._activeEffect.setFloat("_Highlight_",this._highlight),this._activeEffect.setFloat("_Iridescence_Intensity_",this.iridescenceIntensity),this._activeEffect.setFloat("_Iridescence_Edge_Intensity_",this.iridescenceEdgeIntensity),this._activeEffect.setDirectColor4("_Iridescence_Tint_",this.iridescenceTint),this._activeEffect.setTexture("_Iridescent_Map_",this._iridescentMapTexture),this._activeEffect.setFloat("_Angle_",this._angle),this._activeEffect.setFloat("_Reflected_",this._reflected?1:0),this._activeEffect.setFloat("_Frequency_",this._frequency),this._activeEffect.setFloat("_Vertical_Offset_",this._verticalOffset),this._activeEffect.setDirectColor4("_Gradient_Color_",this.gradientColor),this._activeEffect.setDirectColor4("_Top_Left_",this.topLeftGradientColor),this._activeEffect.setDirectColor4("_Top_Right_",this.topRightGradientColor),this._activeEffect.setDirectColor4("_Bottom_Left_",this.bottomLeftGradientColor),this._activeEffect.setDirectColor4("_Bottom_Right_",this.bottomRightGradientColor),this._activeEffect.setFloat("_Edge_Width_",this.edgeWidth),this._activeEffect.setFloat("_Edge_Power_",this.edgePower),this._activeEffect.setFloat("_Line_Gradient_Blend_",this.edgeLineGradientBlend),this._activeEffect.setFloat("_Fade_Out_",this.fadeOut),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){return[]},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var o=this;return w.p4.Clone((function(){return new t(e,o.getScene())}),this)},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this);return t.customType="BABYLON.MRDLBackplateMaterial",t},t.prototype.getClassName=function(){return"MRDLBackplateMaterial"},t.Parse=function(e,o,n){return w.p4.Parse((function(){return new t(e.name,o)}),e,o,n)},t.IRIDESCENT_MAP_TEXTURE_URL="https://assets.babylonjs.com/meshes/MRTK/MRDL/mrtk-mrdl-backplate-iridescence.png",(0,h.gn)([(0,w.qC)()],t.prototype,"radius",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"lineWidth",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"absoluteSizes",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"baseColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"lineColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"radiusTopLeft",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"radiusTopRight",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"radiusBottomLeft",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"radiusBottomRight",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"highlightColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"highlightWidth",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"iridescenceIntensity",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"iridescenceEdgeIntensity",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"iridescenceTint",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"fadeOut",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"gradientColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"topLeftGradientColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"topRightGradientColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"bottomLeftGradientColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"bottomRightGradientColor",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"edgeWidth",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"edgePower",void 0),(0,h.gn)([(0,w.qC)()],t.prototype,"edgeLineGradientBlend",void 0),t}(z.a);(0,d.H)("BABYLON.GUI.MRDLBackplateMaterial",et);var tt=function(e){function t(t,o){var n=e.call(this,t)||this;return n.onValueChangedObservable=new p.y$,n._sliderBackplateVisible=o||!1,n._minimum=0,n._maximum=100,n._step=0,n._value=50,n}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"mesh",{get:function(){return this.node?this._sliderThumb:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minimum",{get:function(){return this._minimum},set:function(e){this._minimum!==e&&(this._minimum=Math.max(e,0),this._value=Math.max(Math.min(this._value,this._maximum),this._minimum))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maximum",{get:function(){return this._maximum},set:function(e){this._maximum!==e&&(this._maximum=Math.max(e,this._minimum),this._value=Math.max(Math.min(this._value,this._maximum),this._minimum))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){this._step!==e&&(this._step=Math.max(Math.min(e,this._maximum-this._minimum),0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value!==e&&(this._value=Math.max(Math.min(e,this._maximum),this._minimum),this._sliderThumb&&(this._sliderThumb.position.x=this._convertToPosition(this.value)),this.onValueChangedObservable.notifyObservers(this._value))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this.node?this._sliderBar.position.x-this._sliderBar.scaling.x/2:-.5},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.node?this._sliderBar.position.x+this._sliderBar.scaling.x/2:.5},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sliderBarMaterial",{get:function(){return this._sliderBarMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sliderThumbMaterial",{get:function(){return this._sliderThumbMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sliderBackplateMaterial",{get:function(){return this._sliderBackplateMaterial},enumerable:!1,configurable:!0}),t.prototype._createNode=function(e){var o=this,n=(0,S.NR)("".concat(this.name,"_sliderbackplate"),{width:1,height:1,depth:1},e);return n.isPickable=!1,n.visibility=0,n.scaling=new m.P(1,.5,.8),ae.n.ImportMeshAsync(void 0,t.MODEL_BASE_URL,t.MODEL_FILENAME,e).then((function(e){var t=e.meshes[1],i=e.meshes[1].clone("".concat(o.name,"_sliderbar"),n),a=e.meshes[1].clone("".concat(o.name,"_sliderthumb"),n);t.visibility=0,o._sliderBackplateVisible&&(t.visibility=1,t.name="".concat(o.name,"_sliderbackplate"),t.isPickable=!1,t.scaling.x=1,t.scaling.z=.2,t.parent=n,o._sliderBackplateMaterial&&(t.material=o._sliderBackplateMaterial),o._sliderBackplate=t),i&&(i.parent=n,i.position.z=-.1,i.scaling=new m.P(.8,.04,.3),i.isPickable=!1,o._sliderBarMaterial&&(i.material=o._sliderBarMaterial),o._sliderBar=i),a&&(a.parent=n,a.isPickable=!0,a.position.z=-.115,a.scaling=new m.P(.025,.3,.6),a.position.x=o._convertToPosition(o.value),a.addBehavior(o._createBehavior()),o._sliderThumbMaterial&&(a.material=o._sliderThumbMaterial),o._sliderThumb=a)})),this._affectMaterial(n),n},t.prototype._affectMaterial=function(e){var t,o,n;this._sliderBackplateMaterial=null!==(t=this._sliderBackplateMaterial)&&void 0!==t?t:new et("".concat(this.name,"_sliderbackplate_material"),e.getScene()),this._sliderBarMaterial=null!==(o=this._sliderBarMaterial)&&void 0!==o?o:new qe("".concat(this.name,"_sliderbar_material"),e.getScene()),this._sliderThumbMaterial=null!==(n=this._sliderThumbMaterial)&&void 0!==n?n:new Ze("".concat(this.name,"_sliderthumb_material"),e.getScene())},t.prototype._createBehavior=function(){var e=this,t=new Qe.M({dragAxis:m.P.Right()});return t.moveAttached=!1,t.onDragStartObservable.add((function(){e._draggedPosition=e._sliderThumb.position.x})),t.onDragObservable.add((function(t){e._draggedPosition+=t.dragDistance/e.scaling.x,e.value=e._convertToValue(e._draggedPosition)})),t},t.prototype._convertToPosition=function(e){var t=(e-this.minimum)/(this.maximum-this.minimum)*(this.end-this.start)+this.start;return Math.min(Math.max(t,this.start),this.end)},t.prototype._convertToValue=function(e){var t=(e-this.start)/(this.end-this.start)*(this.maximum-this.minimum);return t=this.step?Math.round(t/this.step)*this.step:t,Math.max(Math.min(this.minimum+t,this._maximum),this._minimum)},t.prototype.dispose=function(){var t,o,n,i,a,r;e.prototype.dispose.call(this),null===(t=this._sliderBar)||void 0===t||t.dispose(),null===(o=this._sliderThumb)||void 0===o||o.dispose(),null===(n=this._sliderBarMaterial)||void 0===n||n.dispose(),null===(i=this._sliderThumbMaterial)||void 0===i||i.dispose(),null===(a=this._sliderBackplate)||void 0===a||a.dispose(),null===(r=this._sliderBackplateMaterial)||void 0===r||r.dispose()},t.MODEL_BASE_URL="https://assets.babylonjs.com/meshes/MRTK/",t.MODEL_FILENAME="mrtk-fluent-backplate.glb",t}(B),ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._radius=5,t}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){var t=this;this._radius!==e&&(this._radius=e,Q.w1.SetImmediate((function(){t._arrangeChildren()})))},enumerable:!1,configurable:!0}),t.prototype._mapGridNode=function(e,t){var o=e.mesh;if(o){var n=this._sphericalMapping(t);switch(e.position=n,this.orientation){case F.FACEORIGIN_ORIENTATION:o.lookAt(new m.P(2*n.x,2*n.y,2*n.z));break;case F.FACEORIGINREVERSED_ORIENTATION:o.lookAt(new m.P(-n.x,-n.y,-n.z));break;case F.FACEFORWARD_ORIENTATION:break;case F.FACEFORWARDREVERSED_ORIENTATION:o.rotate(N.RD.Y,Math.PI,N.T.LOCAL)}}},t.prototype._sphericalMapping=function(e){var t=new m.P(0,0,this._radius),o=e.y/this._radius,n=-e.x/this._radius;return m.y3.RotationYawPitchRollToRef(n,o,0,m.jp.Matrix[0]),m.P.TransformNormal(t,m.jp.Matrix[0])},t}(E),nt=function(e){function t(t){void 0===t&&(t=!1);var o=e.call(this)||this;return o._isVertical=!1,o.margin=.1,o._isVertical=t,o}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"isVertical",{get:function(){return this._isVertical},set:function(e){var t=this;this._isVertical!==e&&(this._isVertical=e,Q.w1.SetImmediate((function(){t._arrangeChildren()})))},enumerable:!1,configurable:!0}),t.prototype._arrangeChildren=function(){for(var e,t=0,o=0,n=0,i=[],a=m.y3.Invert(this.node.computeWorldMatrix(!0)),r=0,_=this._children;r<_.length;r++){if((f=_[r]).mesh){n++,f.mesh.computeWorldMatrix(!0),f.mesh.getWorldMatrix().multiplyToRef(a,m.jp.Matrix[0]);var l=f.mesh.getBoundingInfo().boundingBox,s=m.P.TransformNormal(l.extendSize,m.jp.Matrix[0]);i.push(s),this._isVertical?o+=s.y:t+=s.x}}this._isVertical?o+=(n-1)*this.margin/2:t+=(n-1)*this.margin/2,e=this._isVertical?-o:-t;for(var c=0,h=0,d=this._children;h<d.length;h++){var f;if((f=d[h]).mesh){n--;s=i[c++];this._isVertical?(f.position.y=e+s.y,f.position.x=0,e+=2*s.y):(f.position.x=e+s.x,f.position.y=0,e+=2*s.x),e+=n>0?this.margin:0}}},t}(F),it=function(e){function t(t,o){var n=e.call(this,o,t)||this;return n._currentMesh=t,n.pointerEnterAnimation=function(){n.mesh&&n.mesh.scaling.scaleInPlace(1.1)},n.pointerOutAnimation=function(){n.mesh&&n.mesh.scaling.scaleInPlace(1/1.1)},n.pointerDownAnimation=function(){n.mesh&&n.mesh.scaling.scaleInPlace(.95)},n.pointerUpAnimation=function(){n.mesh&&n.mesh.scaling.scaleInPlace(1/.95)},n}return(0,h.ZT)(t,e),t.prototype._getTypeName=function(){return"TouchMeshButton3D"},t.prototype._createNode=function(){var e=this;return this._currentMesh.getChildMeshes().forEach((function(t){e._injectGUI3DReservedDataStore(t).control=e})),this._currentMesh},t.prototype._affectMaterial=function(e){},t}(ie),at=function(e){function t(t,o){void 0===o&&(o=!0);var n=e.call(this,t)||this;return n._shareMaterials=o,n}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"renderingGroupId",{get:function(){return this._model.renderingGroupId},set:function(e){this._model.renderingGroupId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this._material},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shareMaterials",{get:function(){return this._shareMaterials},enumerable:!1,configurable:!0}),t.prototype._getTypeName=function(){return"HolographicBackplate"},t.prototype._createNode=function(e){var o,n=this,i=(0,S.NR)((null!==(o=this.name)&&void 0!==o?o:"HolographicBackplate")+"_CollisionMesh",{width:1,height:1,depth:1},e);return i.isPickable=!0,i.visibility=0,ae.n.ImportMeshAsync(void 0,t.MODEL_BASE_URL,t.MODEL_FILENAME,e).then((function(e){var t=e.meshes[1];t.name="".concat(n.name,"_frontPlate"),t.isPickable=!1,t.parent=i,n._material&&(t.material=n._material),n._model=t})),i},t.prototype._createMaterial=function(e){this._material=new Fe(this.name+" Material",e.getScene())},t.prototype._affectMaterial=function(e){this._shareMaterials?this._host._touchSharedMaterials.fluentBackplateMaterial?this._material=this._host._touchSharedMaterials.fluentBackplateMaterial:(this._createMaterial(e),this._host._touchSharedMaterials.fluentBackplateMaterial=this._material):this._createMaterial(e)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.shareMaterials||this._material.dispose(),this._model.dispose()},t.MODEL_BASE_URL="https://assets.babylonjs.com/meshes/MRTK/",t.MODEL_FILENAME="mrtk-fluent-backplate.glb",t}(B),rt=o(51356),_t=o(85527),lt=o(15210),st=function(){function e(e){var t=this;this._customControlScaling=1,this._lastControlOver={},this._lastControlDown={},this.onPickedPointChangedObservable=new p.y$,this.onPickingObservable=new p.y$,this._sharedMaterials={},this._touchSharedMaterials={},this._scene=e||lt.l.LastCreatedScene,this._sceneDisposeObserver=this._scene.onDisposeObservable.add((function(){t._sceneDisposeObserver=null,t._utilityLayer=null,t.dispose()})),this._utilityLayer=_t.x._CreateDefaultUtilityLayerFromScene(this._scene),this._utilityLayer.onlyCheckPointerDownEvents=!1,this._utilityLayer.pickUtilitySceneFirst=!1,this._utilityLayer.mainSceneTrackerPredicate=function(e){var t,o,n;return e&&(null===(n=null===(o=null===(t=e.reservedDataStore)||void 0===t?void 0:t.GUI3D)||void 0===o?void 0:o.control)||void 0===n?void 0:n._node)},this._rootContainer=new F("RootContainer"),this._rootContainer._host=this;var o=this._utilityLayer.utilityLayerScene;this._pointerOutObserver=this._utilityLayer.onPointerOutObservable.add((function(e){t._handlePointerOut(e,!0)})),this._pointerObserver=o.onPointerObservable.add((function(e){t._doPicking(e)})),this._utilityLayer.utilityLayerScene.autoClear=!1,this._utilityLayer.utilityLayerScene.autoClearDepthAndStencil=!1,new rt.e("hemi",m.P.Up(),this._utilityLayer.utilityLayerScene)}return Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"utilityLayer",{get:function(){return this._utilityLayer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controlScaling",{get:function(){return this._customControlScaling},set:function(e){if(this._customControlScaling!==e&&e>0){var t=e/this._customControlScaling;this._customControlScaling=e,this._rootContainer.children.forEach((function(o){o.scaling.scaleInPlace(t),1!==e&&(o._isScaledByManager=!0)}))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useRealisticScaling",{get:function(){return this.controlScaling===e.MRTK_REALISTIC_SCALING},set:function(t){this.controlScaling=t?e.MRTK_REALISTIC_SCALING:1},enumerable:!1,configurable:!0}),e.prototype._handlePointerOut=function(e,t){var o=this._lastControlOver[e];o&&(o._onPointerOut(o),delete this._lastControlOver[e]),t&&this._lastControlDown[e]&&(this._lastControlDown[e].forcePointerUp(),delete this._lastControlDown[e]),this.onPickedPointChangedObservable.notifyObservers(null)},e.prototype._doPicking=function(e){var t,o,n;if(!this._utilityLayer||!this._utilityLayer.shouldRender||!this._utilityLayer.utilityLayerScene.activeCamera)return!1;var i=e.event,a=i.pointerId||0,r=i.button,_=e.pickInfo;if(_&&this.onPickingObservable.notifyObservers(_.pickedMesh),!_||!_.hit)return this._handlePointerOut(a,e.type===b.kD.POINTERUP),!1;_.pickedPoint&&this.onPickedPointChangedObservable.notifyObservers(_.pickedPoint);var l=null===(o=null===(t=_.pickedMesh.reservedDataStore)||void 0===t?void 0:t.GUI3D)||void 0===o?void 0:o.control;return l&&!l._processObservables(e.type,_.pickedPoint,(null===(n=_.originMesh)||void 0===n?void 0:n.position)||null,a,r)&&e.type===b.kD.POINTERMOVE&&(this._lastControlOver[a]&&this._lastControlOver[a]._onPointerOut(this._lastControlOver[a]),delete this._lastControlOver[a]),e.type===b.kD.POINTERUP&&(this._lastControlDown[i.pointerId]&&(this._lastControlDown[i.pointerId].forcePointerUp(),delete this._lastControlDown[i.pointerId]),"touch"===i.pointerType&&this._handlePointerOut(a,!1)),!0},Object.defineProperty(e.prototype,"rootContainer",{get:function(){return this._rootContainer},enumerable:!1,configurable:!0}),e.prototype.containsControl=function(e){return this._rootContainer.containsControl(e)},e.prototype.addControl=function(e){return this._rootContainer.addControl(e),1!==this._customControlScaling&&(e.scaling.scaleInPlace(this._customControlScaling),e._isScaledByManager=!0),this},e.prototype.removeControl=function(e){return this._rootContainer.removeControl(e),e._isScaledByManager&&(e.scaling.scaleInPlace(1/this._customControlScaling),e._isScaledByManager=!1),this},e.prototype.dispose=function(){for(var e in this._rootContainer.dispose(),this._sharedMaterials)Object.prototype.hasOwnProperty.call(this._sharedMaterials,e)&&this._sharedMaterials[e].dispose();for(var e in this._sharedMaterials={},this._touchSharedMaterials)Object.prototype.hasOwnProperty.call(this._touchSharedMaterials,e)&&this._touchSharedMaterials[e].dispose();this._touchSharedMaterials={},this._pointerOutObserver&&this._utilityLayer&&(this._utilityLayer.onPointerOutObservable.remove(this._pointerOutObserver),this._pointerOutObserver=null),this.onPickedPointChangedObservable.clear(),this.onPickingObservable.clear();var t=this._utilityLayer?this._utilityLayer.utilityLayerScene:null;t&&this._pointerObserver&&(t.onPointerObservable.remove(this._pointerObserver),this._pointerObserver=null),this._scene&&this._sceneDisposeObserver&&(this._scene.onDisposeObservable.remove(this._sceneDisposeObserver),this._sceneDisposeObserver=null),this._utilityLayer&&this._utilityLayer.dispose()},e.MRTK_REALISTIC_SCALING=.032,e}()}}]);